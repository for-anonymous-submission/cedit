(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+3PG":function(e,t,n){"use strict";var r=function(){return function(){}}();n.d(t,"a",function(){return i});var i=function(){function e(){}return e.getDiagramMessage=function(t,n,i){var o=new r;return o.jsonrpc="2.0",o.id=e.diagramId++,o.frameId=t,o.lastFrame=n,o.frame=i,o},e.getTextDocumentMessage=function(t,n,i){var o=new r;return o.jsonrpc="2.0",o.id=e.textDocumentId++,o.frameId=t,o.lastFrame=n,o.frame=i,o},e.getLSPMessage=function(e,t,n,i){var o=new r;return o.jsonrpc="2.0",o.id=e,o.frameId=t,o.lastFrame=n,o.frame=i,o},e.diagramId=0,e.textDocumentId=0,e}()},"+cRy":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("owkM"),i=n("MOv1"),o=n("CcFB");t.ImplementationRequest=o.ImplementationRequest;const s=n("8ahE");t.TypeDefinitionRequest=s.TypeDefinitionRequest;const a=n("VqZt");t.WorkspaceFoldersRequest=a.WorkspaceFoldersRequest,t.DidChangeWorkspaceFoldersNotification=a.DidChangeWorkspaceFoldersNotification;const l=n("sKb1");t.ConfigurationRequest=l.ConfigurationRequest;const u=n("zZpG");t.DocumentColorRequest=u.DocumentColorRequest,t.ColorPresentationRequest=u.ColorPresentationRequest;const c=n("3JnO");t.FoldingRangeRequest=c.FoldingRangeRequest;const h=n("cTAX");t.DeclarationRequest=h.DeclarationRequest;const d=n("syj/");var p,f;t.SelectionRangeRequest=d.SelectionRangeRequest,function(e){e.is=function(e){const t=e;return r.string(t.language)||r.string(t.scheme)||r.string(t.pattern)}}(p=t.DocumentFilter||(t.DocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!r.string(t)&&!p.is(t))return!1;return!0}}(f=t.DocumentSelector||(t.DocumentSelector={})),(t.RegistrationRequest||(t.RegistrationRequest={})).type=new i.RequestType("client/registerCapability"),(t.UnregistrationRequest||(t.UnregistrationRequest={})).type=new i.RequestType("client/unregisterCapability"),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(t.ResourceOperationKind||(t.ResourceOperationKind={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(t.FailureHandlingKind||(t.FailureHandlingKind={})),(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})).hasId=function(e){const t=e;return t&&r.string(t.id)&&t.id.length>0},(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})).is=function(e){return e&&(null===e.documentSelector||f.is(e.documentSelector))},function(e){e.is=function(e){const t=e;return r.objectLiteral(t)&&(void 0===t.workDoneProgress||r.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){return e&&r.boolean(e.workDoneProgress)}}(t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})),(t.InitializeRequest||(t.InitializeRequest={})).type=new i.RequestType("initialize"),(t.InitializeError||(t.InitializeError={})).unknownProtocolVersion=1,(t.InitializedNotification||(t.InitializedNotification={})).type=new i.NotificationType("initialized"),(t.ShutdownRequest||(t.ShutdownRequest={})).type=new i.RequestType0("shutdown"),(t.ExitNotification||(t.ExitNotification={})).type=new i.NotificationType0("exit"),(t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).type=new i.NotificationType("workspace/didChangeConfiguration"),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4}(t.MessageType||(t.MessageType={})),(t.ShowMessageNotification||(t.ShowMessageNotification={})).type=new i.NotificationType("window/showMessage"),(t.ShowMessageRequest||(t.ShowMessageRequest={})).type=new i.RequestType("window/showMessageRequest"),(t.LogMessageNotification||(t.LogMessageNotification={})).type=new i.NotificationType("window/logMessage"),(t.TelemetryEventNotification||(t.TelemetryEventNotification={})).type=new i.NotificationType("telemetry/event"),function(e){e.None=0,e.Full=1,e.Incremental=2}(t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})),function(e){e.method="textDocument/didOpen",e.type=new i.NotificationType(e.method)}(t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})),function(e){e.method="textDocument/didChange",e.type=new i.NotificationType(e.method)}(t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})),function(e){e.method="textDocument/didClose",e.type=new i.NotificationType(e.method)}(t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})),function(e){e.method="textDocument/didSave",e.type=new i.NotificationType(e.method)}(t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})),function(e){e.method="textDocument/willSave",e.type=new i.NotificationType(e.method)}(t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})),function(e){e.method="textDocument/willSaveWaitUntil",e.type=new i.RequestType(e.method)}(t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})),(t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).type=new i.NotificationType("workspace/didChangeWatchedFiles"),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(t.FileChangeType||(t.FileChangeType={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(t.WatchKind||(t.WatchKind={})),(t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).type=new i.NotificationType("textDocument/publishDiagnostics"),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(t.CompletionTriggerKind||(t.CompletionTriggerKind={})),function(e){e.method="textDocument/completion",e.type=new i.RequestType(e.method),e.resultType=new i.ProgressType}(t.CompletionRequest||(t.CompletionRequest={})),function(e){e.method="completionItem/resolve",e.type=new i.RequestType(e.method)}(t.CompletionResolveRequest||(t.CompletionResolveRequest={})),function(e){e.method="textDocument/hover",e.type=new i.RequestType(e.method)}(t.HoverRequest||(t.HoverRequest={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})),function(e){e.method="textDocument/signatureHelp",e.type=new i.RequestType(e.method)}(t.SignatureHelpRequest||(t.SignatureHelpRequest={})),function(e){e.method="textDocument/definition",e.type=new i.RequestType(e.method),e.resultType=new i.ProgressType}(t.DefinitionRequest||(t.DefinitionRequest={})),function(e){e.method="textDocument/references",e.type=new i.RequestType(e.method),e.resultType=new i.ProgressType}(t.ReferencesRequest||(t.ReferencesRequest={})),function(e){e.method="textDocument/documentHighlight",e.type=new i.RequestType(e.method),e.resultType=new i.ProgressType}(t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})),function(e){e.method="textDocument/documentSymbol",e.type=new i.RequestType(e.method),e.resultType=new i.ProgressType}(t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})),function(e){e.method="textDocument/codeAction",e.type=new i.RequestType(e.method),e.resultType=new i.ProgressType}(t.CodeActionRequest||(t.CodeActionRequest={})),function(e){e.method="workspace/symbol",e.type=new i.RequestType(e.method),e.resultType=new i.ProgressType}(t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})),function(e){e.type=new i.RequestType("textDocument/codeLens"),e.resultType=new i.ProgressType}(t.CodeLensRequest||(t.CodeLensRequest={})),(t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).type=new i.RequestType("codeLens/resolve"),function(e){e.method="textDocument/documentLink",e.type=new i.RequestType(e.method),e.resultType=new i.ProgressType}(t.DocumentLinkRequest||(t.DocumentLinkRequest={})),(t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).type=new i.RequestType("documentLink/resolve"),function(e){e.method="textDocument/formatting",e.type=new i.RequestType(e.method)}(t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})),function(e){e.method="textDocument/rangeFormatting",e.type=new i.RequestType(e.method)}(t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})),function(e){e.method="textDocument/onTypeFormatting",e.type=new i.RequestType(e.method)}(t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})),function(e){e.method="textDocument/rename",e.type=new i.RequestType(e.method)}(t.RenameRequest||(t.RenameRequest={})),function(e){e.method="textDocument/prepareRename",e.type=new i.RequestType(e.method)}(t.PrepareRenameRequest||(t.PrepareRenameRequest={})),(t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).type=new i.RequestType("workspace/executeCommand"),(t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).type=new i.RequestType("workspace/applyEdit")},"+tJ4":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}}},"+umK":function(e,t,n){"use strict";function r(){}n.d(t,"a",function(){return r})},"/7TX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("1vg8");var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s,t.RequestType0=class extends s{constructor(e){super(e,0),this._=void 0}},t.RequestType=class extends s{constructor(e){super(e,1),this._=void 0}},t.RequestType1=class extends s{constructor(e){super(e,1),this._=void 0}},t.RequestType2=class extends s{constructor(e){super(e,2),this._=void 0}},t.RequestType3=class extends s{constructor(e){super(e,3),this._=void 0}},t.RequestType4=class extends s{constructor(e){super(e,4),this._=void 0}},t.RequestType5=class extends s{constructor(e){super(e,5),this._=void 0}},t.RequestType6=class extends s{constructor(e){super(e,6),this._=void 0}},t.RequestType7=class extends s{constructor(e){super(e,7),this._=void 0}},t.RequestType8=class extends s{constructor(e){super(e,8),this._=void 0}},t.RequestType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType0=class extends s{constructor(e){super(e,0),this._=void 0}},t.NotificationType1=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType2=class extends s{constructor(e){super(e,2),this._=void 0}},t.NotificationType3=class extends s{constructor(e){super(e,3),this._=void 0}},t.NotificationType4=class extends s{constructor(e){super(e,4),this._=void 0}},t.NotificationType5=class extends s{constructor(e){super(e,5),this._=void 0}},t.NotificationType6=class extends s{constructor(e){super(e,6),this._=void 0}},t.NotificationType7=class extends s{constructor(e){super(e,7),this._=void 0}},t.NotificationType8=class extends s{constructor(e){super(e,8),this._=void 0}},t.NotificationType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){return e&&r.string(e.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},"/WYv":function(e,t,n){"use strict";function r(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,"a",function(){return r})},0:function(e,t,n){e.exports=n("zUnb")},"0/uQ":function(e,t,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),s=n("xTla"),a=n("En8+"),l=n("IUTb"),u=n("pugT"),c=n("S5XQ"),h=n("u67D"),d=n("JcRv"),p=n("Fxb1");function f(e,t){if(!t)return e instanceof r.a?e:new r.a(Object(p.a)(e));if(null!=e){if(function(e){return e&&"function"==typeof e[s.a]}(e))return function(e,t){return new r.a(t?function(n){var r=new u.a;return r.add(t.schedule(function(){var i=e[s.a]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r}:Object(d.a)(e))}(e,t);if(Object(i.a)(e))return function(e,t){return new r.a(t?function(n){var r=new u.a;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r}:Object(c.a)(e))}(e,t);if(Object(o.a)(e))return Object(l.a)(e,t);if(function(e){return e&&"function"==typeof e[a.a]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.a(t?function(n){var r,i=new u.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[a.a](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),i}:Object(h.a)(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}n.d(t,"a",function(){return f})},"10Wk":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("+3PG"),i=n("CcnG"),o=function(){function e(){}return e.prototype.sendMessage=function(e,t,n){var i,o=JSON.stringify(n),s=!0,a=0,l=setInterval(function(){if(a>o.length)clearInterval(l);else if(s){s=!1;var n=0;i=o.length>a+5e3?r.a.getLSPMessage(t,n++,!1,o.substring(a,a+5e3)):r.a.getLSPMessage(t,n++,!0,o.substring(a));var u=setInterval(function(){e.readyState==WebSocket.OPEN?(clearInterval(u),console.log(i),e.send(JSON.stringify(i)),s=!0,a+=5e3):e.readyState==WebSocket.CLOSED?console.log("diagram.ws.readyState=CLOSED ",e.readyState):e.readyState==WebSocket.CLOSING?console.log("diagram.ws.readyState=CLOSING ",e.readyState):e.readyState==WebSocket.CONNECTING&&console.log("diagram.ws.readyState=CONNECTING ",e.readyState)},80)}},100)},e.ngInjectableDef=i.S({factory:function(){return new e},token:e,providedIn:"root"}),e}()},"1Y8E":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("kjvz"),i=n("U+XB"),o=n("LkUo"),s=n("zxs+"),a=n("in9m"),l=n("Gz0x");!function(e){function t(e,t={}){const n=new r.MonacoToProtocolConverter,l=new r.ProtocolToMonacoConverter;return{commands:new i.MonacoCommands(e),languages:new o.MonacoLanguages(l,n),workspace:new s.MonacoWorkspace(l,n,t.rootUri),window:new a.ConsoleWindow}}e.create=t,e.install=function(e,n={}){const r=t(e,n);return l.Services.install(r),r},e.get=function(){return l.Services.get()}}(t.MonacoServices||(t.MonacoServices={}))},"1mca":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov"),o=n("V7FC");function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.ColorProviderFeature=class extends o.TextDocumentFeature{constructor(e){super(e,i.DocumentColorRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.colorProvider);n&&r&&this.register(this.messages,{id:n,registerOptions:r})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{const o={color:e,textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(n.document),range:t.code2ProtocolConverter.asRange(n.range)};return t.sendRequest(i.ColorPresentationRequest.type,o,r).then(this.asColorPresentations.bind(this),e=>(t.logFailedRequest(i.ColorPresentationRequest.type,e),Promise.resolve(null)))},o=(e,n)=>{const r={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(i.DocumentColorRequest.type,r,n).then(this.asColorInformations.bind(this),e=>(t.logFailedRequest(i.ColorPresentationRequest.type,e),Promise.resolve(null)))},s=t.clientOptions.middleware;return r.languages.registerColorProvider(e.documentSelector,{provideColorPresentations:(e,t,r)=>s.provideColorPresentations?s.provideColorPresentations(e,t,r,n):n(e,t,r),provideDocumentColors:(e,t)=>s.provideDocumentColors?s.provideDocumentColors(e,t,o):o(e,t)})}asColor(e){return new r.Color(e.red,e.green,e.blue,e.alpha)}asColorInformations(e){return Array.isArray(e)?e.map(e=>new r.ColorInformation(this._client.protocol2CodeConverter.asRange(e.range),this.asColor(e.color))):[]}asColorPresentations(e){return Array.isArray(e)?e.map(e=>{let t=new r.ColorPresentation(e.label);return t.additionalTextEdits=this._client.protocol2CodeConverter.asTextEdits(e.additionalTextEdits),t.textEdit=this._client.protocol2CodeConverter.asTextEdit(e.textEdit),t}):[]}}},"1vg8":function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},"2Bdj":function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,"a",function(){return r})},"2ePl":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},"2vv7":function(e,t){e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");for(var n,r=String(e),i="",o=!!t&&!!t.extended,s=!!t&&!!t.globstar,a=!1,l=t&&"string"==typeof t.flags?t.flags:"",u=0,c=r.length;u<c;u++)switch(n=r[u]){case"\\":case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":i+="\\"+n;break;case"?":if(o){i+=".";break}case"[":case"]":if(o){i+=n;break}case"{":if(o){a=!0,i+="(";break}case"}":if(o){a=!1,i+=")";break}case",":if(a){i+="|";break}i+="\\"+n;break;case"*":for(var h=r[u-1],d=1;"*"===r[u+1];)d++,u++;var p=r[u+1];s?!(d>1)||"/"!==h&&void 0!==h||"/"!==p&&void 0!==p?i+="[^/]*":(i+="(?:[^/]*(?:/|$))*",u++):i+=".*";break;default:i+=n}return l&&~l.indexOf("g")||(i="^"+i+"$"),new RegExp(i,l)}},"3/g6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=class{error(e){console.error(e)}warn(e){console.warn(e)}info(e){console.info(e)}log(e){console.log(e)}debug(e){console.debug(e)}}},"33yf":function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return(i?"/":"")+(t=n(r(t.split("/"),function(e){return!!e}),!i).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),s="/"===i(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&s&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,l=0;l<s;l++)if(i[l]!==o[l]){a=l;break}var u=[];for(l=a;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=function(e){"string"!=typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("8oxB"))},"3JnO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");!function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(t.FoldingRangeKind||(t.FoldingRangeKind={})),function(e){e.method="textDocument/foldingRange",e.type=new r.RequestType(e.method),e.resultType=new r.ProgressType}(t.FoldingRangeRequest||(t.FoldingRangeRequest={}))},"49sm":function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},"4Wfv":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={})),t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},"5t/8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov"),o=n("V7FC");function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.TypeDefinitionFeature=class extends o.TextDocumentFeature{constructor(e){super(e,i.TypeDefinitionRequest.type)}fillClientCapabilities(e){s(s(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=s(s(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.typeDefinitionProvider);n&&r&&this.register(this.messages,{id:n,registerOptions:r})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.TypeDefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(i.TypeDefinitionRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware;return r.languages.registerTypeDefinitionProvider(e.documentSelector,{provideTypeDefinition:(e,t,r)=>o.provideTypeDefinition?o.provideTypeDefinition(e,t,r,n):n(e,t,r)})}}},"67Y/":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.c(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(i.a)},"6ahw":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(e){},error:function(e){if(r.a.useDeprecatedSynchronousErrorHandling)throw e;Object(i.a)(e)},complete:function(){}}},"6blF":function(e,t,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),s=n("xTla"),a=n("y3By"),l=n("iLxQ");n.d(t,"a",function(){return u});var u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var s=this.operator,a=function(e,t,n){if(e){if(e instanceof r.a)return e;if(e[i.a])return e[i.a]()}return e||t||n?new r.a(e,t,n):new r.a(o.a)}(e,t,n);if(s?s.call(a,this.source):a.add(this.source||l.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){l.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof r.a?t:null}return!0}(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:Object(a.b)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function c(e){if(e||(e=l.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},"8ahE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");!function(e){e.method="textDocument/typeDefinition",e.type=new r.RequestType(e.method),e.resultType=new r.ProgressType}(t.TypeDefinitionRequest||(t.TypeDefinitionRequest={}))},"8g8A":function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(t,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"8j13":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov");t.ConfigurationFeature=class{constructor(e){this._client=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(i.ConfigurationRequest.type,(t,n)=>{let r=e=>{let t=[];for(let n of e.items){let e=null!=n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},i=e.clientOptions.middleware.workspace;return i&&i.configuration?i.configuration(t,n,r):r(t)})}getConfiguration(e,t){let n=null;if(t){let i=t.lastIndexOf(".");if(-1===i)n=r.workspace.getConfiguration(void 0,e).get(t);else{let o=r.workspace.getConfiguration(t.substr(0,i),e);o&&(n=o.get(t.substr(i+1)))}}else{let t=r.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=t.get(e))}return n||null}}},"8oxB":function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&p())}function p(){if(!c){var e=a(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},ALIN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Po9p"),i=n("uWpP"),o=n("vIUA");t.createClientSocketTransport=function(e,t="utf-8"){let n,s=new Promise((e,t)=>{n=e});return new Promise((a,l)=>{let u=r.createServer(e=>{u.close(),n([new i.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])});u.on("error",l),u.listen(e,"127.0.0.1",()=>{u.removeListener("error",l),a({onConnected:()=>s})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},"B+lm":function(e,t,n){"use strict";var r=function(e){return e&&2===e.CLOSING},i=function(e,t,n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})},o=function(e){return e.minReconnectionDelay+Math.random()*e.minReconnectionDelay},s=["onopen","onclose","onmessage","onerror"],a=function(e,t,n){var l,u,c=this;void 0===n&&(n={});var h=0,d=0,p=!0,f=null,g={};if(!(this instanceof a))throw new TypeError("Failed to construct 'ReconnectingWebSocket': Please use the 'new' operator");var m={constructor:"undefined"!=typeof WebSocket&&r(WebSocket)?WebSocket:null,maxReconnectionDelay:1e4,minReconnectionDelay:1500,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,debug:!1};if(Object.keys(m).filter(function(e){return n.hasOwnProperty(e)}).forEach(function(e){return m[e]=n[e]}),!r(m.constructor))throw new TypeError("Invalid WebSocket constructor. Set `options.constructor`");var v=m.debug?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return console.log.apply(console,["RWS:"].concat(e))}:function(){},y=function(e,t){return setTimeout(function(){var n=new Error(t);n.code=e,Array.isArray(g.error)&&g.error.forEach(function(e){return(0,e[0])(n)}),l.onerror&&l.onerror(n)},0)},b=function(){v("handleClose",{shouldRetry:p}),v("retries count:",++d),d>m.maxRetries?y("EHOSTDOWN","Too many failed connection attempts"):(h=h?function(e,t){var n=h*e.reconnectionDelayGrowFactor;return n>e.maxReconnectionDelay?e.maxReconnectionDelay:n}(m):o(m),v("handleClose - reconnectDelay:",h),p&&setTimeout(w,h))},w=function(){if(p){v("connect");var n=l,r="function"==typeof e?e():e;for(var a in l=new m.constructor(r,t),u=setTimeout(function(){v("timeout"),l.close(),y("ETIMEDOUT","Connection timeout")},m.connectionTimeout),v("bypass properties"),l)["addEventListener","removeEventListener","close","send"].indexOf(a)<0&&i(l,c,a);l.addEventListener("open",function(){clearTimeout(u),v("open"),h=o(m),v("reconnectDelay:",h),d=0}),l.addEventListener("close",b),function(e,t,n){Object.keys(n).forEach(function(t){n[t].forEach(function(n){e.addEventListener(t,n[0],n[1])})}),t&&s.forEach(function(n){e[n]=t[n]})}(l,n,g),l.onclose=l.onclose||f,f=null}};v("init"),w(),this.close=function(e,t,n){void 0===e&&(e=1e3),void 0===t&&(t="");var r=void 0===n?{}:n,i=r.keepClosed,o=void 0!==i&&i,s=r.fastClose,a=void 0===s||s,u=r.delay,c=void 0===u?0:u;if(v("close - params:",{reason:t,keepClosed:o,fastClose:a,delay:c,retriesCount:d,maxRetries:m.maxRetries}),p=!o&&d<=m.maxRetries,c&&(h=c),l.close(e,t),a){var y={code:e,reason:t,wasClean:!0};b(),l.removeEventListener("close",b),Array.isArray(g.close)&&g.close.forEach(function(e){var t=e[0],n=e[1];t(y),l.removeEventListener("close",t,n)}),l.onclose&&(f=l.onclose,l.onclose(y),l.onclose=null)}},this.send=function(e){l.send(e)},this.addEventListener=function(e,t,n){Array.isArray(g[e])?g[e].some(function(e){return e[0]===t})||g[e].push([t,n]):g[e]=[[t,n]],l.addEventListener(e,t,n)},this.removeEventListener=function(e,t,n){Array.isArray(g[e])&&(g[e]=g[e].filter(function(e){return e[0]!==t})),l.removeEventListener(e,t,n)}};e.exports=a},BA4U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("fIkx"),i=n("Gkij");var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze(function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}});class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=o.None}}},BOov:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n("MOv1");t.ErrorCodes=i.ErrorCodes,t.ResponseError=i.ResponseError,t.CancellationToken=i.CancellationToken,t.CancellationTokenSource=i.CancellationTokenSource,t.Disposable=i.Disposable,t.Event=i.Event,t.Emitter=i.Emitter,t.Trace=i.Trace,t.TraceFormat=i.TraceFormat,t.SetTraceNotification=i.SetTraceNotification,t.LogTraceNotification=i.LogTraceNotification,t.RequestType=i.RequestType,t.RequestType0=i.RequestType0,t.NotificationType=i.NotificationType,t.NotificationType0=i.NotificationType0,t.MessageReader=i.MessageReader,t.MessageWriter=i.MessageWriter,t.ConnectionStrategy=i.ConnectionStrategy,t.StreamMessageReader=i.StreamMessageReader,t.StreamMessageWriter=i.StreamMessageWriter,t.IPCMessageReader=i.IPCMessageReader,t.IPCMessageWriter=i.IPCMessageWriter,t.createClientPipeTransport=i.createClientPipeTransport,t.createServerPipeTransport=i.createServerPipeTransport,t.generateRandomPipeName=i.generateRandomPipeName,t.createClientSocketTransport=i.createClientSocketTransport,t.createServerSocketTransport=i.createServerSocketTransport,t.ProgressType=i.ProgressType,r(n("kmEW")),r(n("+cRy"));const o=n("Lo6S"),s=n("Gaeh");!function(e){let t,n,r,i,a,l;!function(e){e.method=o.CallHierarchyPrepareRequest.method,e.type=o.CallHierarchyPrepareRequest.type}(t=e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})),function(e){e.method=o.CallHierarchyIncomingCallsRequest.method,e.type=o.CallHierarchyIncomingCallsRequest,e.resultType=o.CallHierarchyIncomingCallsRequest.resultType}(n=e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})),function(e){e.method=o.CallHierarchyOutgoingCallsRequest.method,e.type=o.CallHierarchyOutgoingCallsRequest,e.resultType=o.CallHierarchyOutgoingCallsRequest.resultType}(r=e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={})),function(e){e.type=s.WorkDoneProgress.type}(i=e.WorkDoneProgress||(e.WorkDoneProgress={})),function(e){e.type=s.WorkDoneProgressCreateRequest.type}(a=e.WorkDoneProgressCreateRequest||(e.WorkDoneProgressCreateRequest={})),function(e){e.type=s.WorkDoneProgressCancelNotification.type}(l=e.WorkDoneProgressCancelNotification||(e.WorkDoneProgressCancelNotification={}))}(t.Proposed||(t.Proposed={})),t.createProtocolConnection=function(e,t,n,r){return i.createMessageConnection(e,t,n,r)}},"C+6V":function(e,t,n){"use strict";(function(e){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n("1vg8"),o=n("/7TX");t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.RequestType1=o.RequestType1,t.RequestType2=o.RequestType2,t.RequestType3=o.RequestType3,t.RequestType4=o.RequestType4,t.RequestType5=o.RequestType5,t.RequestType6=o.RequestType6,t.RequestType7=o.RequestType7,t.RequestType8=o.RequestType8,t.RequestType9=o.RequestType9,t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.NotificationType1=o.NotificationType1,t.NotificationType2=o.NotificationType2,t.NotificationType3=o.NotificationType3,t.NotificationType4=o.NotificationType4,t.NotificationType5=o.NotificationType5,t.NotificationType6=o.NotificationType6,t.NotificationType7=o.NotificationType7,t.NotificationType8=o.NotificationType8,t.NotificationType9=o.NotificationType9;const s=n("uWpP");t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=n("vIUA");t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const l=n("Z5Ki");t.Disposable=l.Disposable,t.Event=l.Event,t.Emitter=l.Emitter;const u=n("Ff8q");t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken;const c=n("4Wfv");var h,d;r(n("qL5x")),r(n("ALIN")),function(e){e.type=new o.NotificationType("$/cancelRequest")}(h||(h={})),function(e){e.type=new o.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){this._=void 0}},t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var p,f,g,m=t.Trace=function(e){return e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose",e}(t.Trace||{});!function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(m=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTraceNotification")}(f=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTraceNotification")}(g=t.LogTraceNotification||(t.LogTraceNotification={}));var v=t.ConnectionErrors=function(e){return e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening",e}(t.ConnectionErrors||{});class y extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,y.prototype)}}t.ConnectionError=y,(t.ConnectionStrategy||(t.ConnectionStrategy={})).is=function(e){return e&&i.func(e.cancelUndispatched)};var b=function(e){return e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed",e}({});t.createMessageConnection=function(n,r,w,C){var I;return w||(w=t.NullLogger),function(t,n,r,s){let a=0,w=0,C=0;const I="2.0";let x,A,_=void 0,S=Object.create(null),D=void 0,T=Object.create(null),k=new Map,N=new c.LinkedMap,P=Object.create(null),M=Object.create(null),O=m.Off,E=p.Text,j=b.New,R=new l.Emitter,L=new l.Emitter,z=new l.Emitter,F=new l.Emitter,B=new l.Emitter;function G(e){return"req-"+e.toString()}function U(e){}function Z(){return j===b.Listening}function W(){return j===b.Closed}function V(){return j===b.Disposed}function Y(){j!==b.New&&j!==b.Listening||(j=b.Closed,L.fire(void 0))}t.onClose(Y),t.onError(function(e){R.fire([e,void 0,void 0])}),n.onClose(Y),n.onError(function(e){R.fire(e)});let H=t=>{try{if(o.isNotificationMessage(t)&&t.method===h.type.method){let e=G(t.params.id),r=N.get(e);if(o.isRequestMessage(r)){let i=s&&s.cancelUndispatched?s.cancelUndispatched(r,U):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return N.delete(e),i.id=r.id,q(i,t.method,Date.now()),void n.write(i)}}!function(e,t){var n;o.isRequestMessage(t)?e.set(G(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++C).toString():"res-"+n.toString(),t):e.set("not-"+(++w).toString(),t)}(N,t)}finally{!function t(){x||0===N.size||(x=e(()=>{x=void 0,function(){if(0===N.size)return;let e=N.shift();try{o.isRequestMessage(e)?function(e){if(V())return;function t(t,r,i){let s={jsonrpc:I,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,q(s,r,i),n.write(s)}function r(t,r,i){let o={jsonrpc:I,id:e.id,error:t.toJson()};q(o,r,i),n.write(o)}!function(e){if(O!==m.Off&&A)if(E===p.Text){let t=void 0;O===m.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),A.log(`Received request '${e.method} - (${e.id})'.`,t)}else X("receive-request",e)}(e);let s,a,l=S[e.method];l&&(s=l.type,a=l.handler);let c=Date.now();if(a||_){let l=new u.CancellationTokenSource,d=String(e.id);M[d]=l;try{let u,p=u=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(l.token):_(e.method,l.token):i.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,l.token):_(e.method,...e.params,l.token):a?a(e.params,l.token):_(e.method,e.params,l.token);u?p.then?p.then(n=>{delete M[d],t(n,e.method,c)},t=>{delete M[d],t instanceof o.ResponseError?r(t,e.method,c):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,c):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)}):(delete M[d],t(u,e.method,c)):(delete M[d],function(t,r,i){void 0===t&&(t=null);let o={jsonrpc:I,id:e.id,result:t};q(o,e.method,i),n.write(o)}(u,0,c))}catch(h){delete M[d],h instanceof o.ResponseError?t(h,e.method,c):h&&i.string(h.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${h.message}`),e.method,c):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,c)}(e):o.isNotificationMessage(e)?function(e){if(V())return;let t,n=void 0;if(e.method===h.type.method)t=(e=>{let t=M[String(e.id)];t&&t.cancel()});else{let r=T[e.method];r&&(t=r.handler,n=r.type)}if(t||D)try{!function(e){if(O!==m.Off&&A&&e.method!==g.type.method)if(E===p.Text){let t=void 0;O===m.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),A.log(`Received notification '${e.method}'.`,t)}else X("receive-notification",e)}(e),void 0===e.params||void 0!==n&&0===n.numberOfParams?t?t():D(e.method):i.array(e.params)&&(void 0===n||n.numberOfParams>1)?t?t(...e.params):D(e.method,...e.params):t?t(e.params):D(e.method,e.params)}catch(o){r.error(o.message?`Notification handler '${e.method}' failed with message: ${o.message}`:`Notification handler '${e.method}' failed unexpectedly.`)}else z.fire(e)}(e):o.isResponseMessage(e)?function(e){if(!V())if(null===e.id)r.error(e.error?`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`:"Received response message without id. No further error information provided.");else{let n=String(e.id),i=P[n];if(function(e,t){if(O!==m.Off&&A)if(E===p.Text){let n=void 0;if(O===m.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";A.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else A.log(`Received response ${e.id} without active response promise.`,n)}else X("receive-response",e)}(e,i),i){delete P[n];try{if(e.error){let t=e.error;i.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");i.resolve(e.result)}}catch(t){r.error(t.message?`Response handler '${i.method}' failed with message: ${t.message}`:`Response handler '${i.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=P[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{t()}}()}))}()}};function q(e,t,n){if(O!==m.Off&&A)if(E===p.Text){let r=void 0;O===m.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),A.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else X("send-response",e)}function X(e,t){if(!A||O===m.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};A.log(n)}function K(){if(W())throw new y(v.Closed,"Connection is closed.");if(V())throw new y(v.Disposed,"Connection is disposed.")}function J(e){return void 0===e?null:e}function Q(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=J(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(J(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let $={sendNotification:(e,...t)=>{let r,o;if(K(),i.string(e))switch(r=e,t.length){case 0:o=null;break;case 1:o=t[0];break;default:o=t}else r=e.method,o=Q(e,t);let s={jsonrpc:I,method:r,params:o};!function(e){if(O!==m.Off&&A)if(E===p.Text){let t=void 0;O===m.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),A.log(`Sending notification '${e.method}'.`,t)}else X("send-notification",e)}(s),n.write(s)},onNotification:(e,t)=>{K(),i.func(e)?D=e:t&&(i.string(e)?T[e]={type:void 0,handler:t}:T[e.method]={type:e,handler:t})},onProgress:(e,t,n)=>{if(k.has(t))throw new Error(`Progress handler for token ${t} already registered`);return k.set(t,n),{dispose:()=>{k.delete(t)}}},sendProgress:(e,t,n)=>{$.sendNotification(d.type,{token:t,value:n})},onUnhandledProgress:F.event,sendRequest:(e,...t)=>{let r,s;K(),function(){if(!Z())throw new Error("Call listen() first.")}();let l=void 0;if(i.string(e))switch(r=e,t.length){case 0:s=null;break;case 1:u.CancellationToken.is(t[0])?(s=null,l=t[0]):s=J(t[0]);break;default:const n=t.length-1;u.CancellationToken.is(t[n])?(l=t[n],s=2===t.length?J(t[0]):t.slice(0,n).map(e=>J(e))):s=t.map(e=>J(e))}else{r=e.method,s=Q(e,t);let n=e.numberOfParams;l=u.CancellationToken.is(t[n])?t[n]:void 0}let c=a++,d=new Promise((e,t)=>{let i={jsonrpc:I,id:c,method:r,params:s},a={method:r,timerStart:Date.now(),resolve:e,reject:t};!function(e){if(O!==m.Off&&A)if(E===p.Text){let t=void 0;O===m.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),A.log(`Sending request '${e.method} - (${e.id})'.`,t)}else X("send-request",e)}(i);try{n.write(i)}catch(l){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,l.message?l.message:"Unknown reason")),a=null}a&&(P[String(c)]=a)});return l&&l.onCancellationRequested(()=>{$.sendNotification(h.type,{id:c})}),d},onRequest:(e,t)=>{K(),i.func(e)?_=e:t&&(i.string(e)?S[e]={type:void 0,handler:t}:S[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,o=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||p.Text)),E=o,A=(O=e)===m.Off?void 0:t,!r||W()||V()||$.sendNotification(f.type,{value:m.toString(e)})},onError:R.event,onClose:L.event,onUnhandledNotification:z.event,onDispose:B.event,dispose:()=>{if(V())return;j=b.Disposed,B.fire(void 0);let e=new Error("Connection got disposed.");Object.keys(P).forEach(t=>{P[t].reject(e)}),P=Object.create(null),M=Object.create(null),N=new c.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(t.dispose)&&t.dispose()},listen:()=>{K(),function(){if(Z())throw new y(v.AlreadyListening,"Connection is already listening")}(),j=b.Listening,t.listen(H)},inspect:()=>{console.log("inspect")}};return $.onNotification(g.type,e=>{O!==m.Off&&A&&A.log(e.message,O===m.Verbose?e.verbose:void 0)}),$.onNotification(d.type,e=>{const t=k.get(e.token);t?t(e.value):F.fire(e)}),$}(void 0!==(I=n).listen&&void 0===I.read?n:new s.StreamMessageReader(n),void 0!==r.write&&void 0===r.end?r:new a.StreamMessageWriter(r),w,C)}}).call(this,n("URgk").setImmediate)},CcFB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");!function(e){e.method="textDocument/implementation",e.type=new r.RequestType(e.method),e.resultType=new r.ProgressType}(t.ImplementationRequest||(t.ImplementationRequest={}))},CcnG:function(e,t,n){"use strict";(function(e){n.d(t,"ib",function(){return Qn}),n.d(t,"jb",function(){return $n}),n.d(t,"kb",function(){return er}),n.d(t,"hb",function(){return Pt}),n.d(t,"g",function(){return mn}),n.d(t,"R",function(){return dn}),n.d(t,"y",function(){return hn}),n.d(t,"T",function(){return Ge}),n.d(t,"X",function(){return Be}),n.d(t,"c",function(){return Nt}),n.d(t,"C",function(){return Ot}),n.d(t,"B",function(){return Et}),n.d(t,"b",function(){return jt}),n.d(t,"d",function(){return Tt}),n.d(t,"e",function(){return kt}),n.d(t,"V",function(){return On}),n.d(t,"M",function(){return on}),n.d(t,"Z",function(){return an}),n.d(t,"u",function(){return Jn}),n.d(t,"f",function(){return tr}),n.d(t,"m",function(){return ct}),n.d(t,"l",function(){return _t}),n.d(t,"G",function(){return je}),n.d(t,"H",function(){return Ee}),n.d(t,"a",function(){return C}),n.d(t,"n",function(){return yt}),n.d(t,"r",function(){return vt}),n.d(t,"P",function(){return j}),n.d(t,"N",function(){return Re}),n.d(t,"S",function(){return p}),n.d(t,"U",function(){return M}),n.d(t,"q",function(){return ne}),n.d(t,"W",function(){return Z}),n.d(t,"p",function(){return g}),n.d(t,"o",function(){return R}),n.d(t,"A",function(){return L}),n.d(t,"I",function(){return F}),n.d(t,"z",function(){return Jt}),n.d(t,"D",function(){return Me}),n.d(t,"E",function(){return Ne}),n.d(t,"F",function(){return Pe}),n.d(t,"i",function(){return Wt}),n.d(t,"j",function(){return Ie}),n.d(t,"k",function(){return De}),n.d(t,"v",function(){return Se}),n.d(t,"x",function(){return _e}),n.d(t,"w",function(){return mt}),n.d(t,"J",function(){return Cn}),n.d(t,"K",function(){return bn}),n.d(t,"L",function(){return ht}),n.d(t,"O",function(){return xn}),n.d(t,"h",function(){return _n}),n.d(t,"s",function(){return Vn}),n.d(t,"t",function(){return Yn}),n.d(t,"Q",function(){return H}),n.d(t,"Y",function(){return Kn}),n.d(t,"sb",function(){return X}),n.d(t,"cb",function(){return Rt}),n.d(t,"ab",function(){return me}),n.d(t,"bb",function(){return xe}),n.d(t,"db",function(){return lt}),n.d(t,"eb",function(){return gt}),n.d(t,"fb",function(){return Ve}),n.d(t,"qb",function(){return A}),n.d(t,"vb",function(){return k}),n.d(t,"Bb",function(){return N}),n.d(t,"tb",function(){return Dt}),n.d(t,"ub",function(){return St}),n.d(t,"gb",function(){return Hr}),n.d(t,"lb",function(){return pi}),n.d(t,"mb",function(){return fs}),n.d(t,"nb",function(){return yr}),n.d(t,"ob",function(){return Li}),n.d(t,"pb",function(){return qr}),n.d(t,"rb",function(){return Vr}),n.d(t,"wb",function(){return ii}),n.d(t,"xb",function(){return ri}),n.d(t,"yb",function(){return Ai}),n.d(t,"zb",function(){return zi}),n.d(t,"Ab",function(){return $i}),n.d(t,"Cb",function(){return oo}),n.d(t,"Db",function(){return lo});var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),s=n("6blF"),a=n("p0ib"),l=n("S1nX");function u(e){for(var t in e)if(e[t]===u)return t;throw Error("Could not find renamed property on target object.")}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}var h=u({ngInjectableDef:u}),d=u({ngBaseDef:u});function p(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function f(e){return e&&e.hasOwnProperty(h)?e[h]:null}var g=function(){function e(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?p({providedIn:t.providedIn||"root",factory:t.factory}):void 0}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),m="__parameters__",v="__prop__metadata__";function y(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var i=e.apply(void 0,Object(r.g)(t));for(var o in i)this[o]=i[o]}}}function b(e,t,n){var i=y(t);function o(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof o)return i.apply(this,t),this;var s=new((e=o).bind.apply(e,Object(r.g)([void 0],t)));return a.annotation=s,a;function a(e,t,n){for(var r=e.hasOwnProperty(m)?e[m]:Object.defineProperty(e,m,{value:[]})[m];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(s),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function w(e,t,n,i){var o=y(t);function s(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this instanceof s)return o.apply(this,t),this;var a=new((e=s).bind.apply(e,Object(r.g)([void 0],t)));return function(e,n){var o=e.constructor,s=o.hasOwnProperty(v)?o[v]:Object.defineProperty(o,v,{value:{}})[v];s[n]=s.hasOwnProperty(n)&&s[n]||[],s[n].unshift(a),i&&i.apply(void 0,Object(r.g)([e,n],t))}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s}var C=new g("AnalyzeForEntryComponents"),I="undefined"!=typeof window&&window,x="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,A=void 0!==e&&e||I||x,_=Promise.resolve(0),S=null;function D(){if(!S){var e=A.Symbol;if(e&&e.iterator)S=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(S=r)}}return S}function T(e){"undefined"==typeof Zone?_.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function k(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function N(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(N).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var P=u({__forward_ref__:u});function M(e){return e.__forward_ref__=M,e.toString=function(){return N(this())},e}function O(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(P)&&t.__forward_ref__===M?t():e}var E,j=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),R=b("Inject",function(e){return{token:e}}),L=b("Optional"),z=b("Self"),F=b("SkipSelf"),B=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({}),G=void 0;function U(e){var t=G;return G=e,t}function Z(e,t){return void 0===t&&(t=B.Default),(E||function(e,t){if(void 0===t&&(t=B.Default),void 0===G)throw new Error("inject() must be called from an injection context");return null===G?function(e,t,n){var r=f(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&B.Optional)return null;throw new Error("Injector: NOT_FOUND ["+N(e)+"]")}(e,0,t):G.get(e,t&B.Optional?null:void 0,t)})(e,t)}var W=/([A-Z])/g;function V(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function Y(e,t){var n=X(e),r=X(t);return n&&r?function(e,t,n){for(var r=e[D()](),i=t[D()]();;){var o=r.next(),s=i.next();if(o.done&&s.done)return!0;if(o.done||s.done)return!1;if(!n(o.value,s.value))return!1}}(e,t,Y):!(n||!e||"object"!=typeof e&&"function"!=typeof e||r||!t||"object"!=typeof t&&"function"!=typeof t)||k(e,t)}var H=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),q=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function X(e){return!!K(e)&&(Array.isArray(e)||!(e instanceof Map)&&D()in e)}function K(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function J(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}var Q="__source",$=new Object,ee=new g("INJECTOR"),te=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=$),t===$)throw new Error("NullInjectorError: No provider for "+N(e)+"!");return t},e}(),ne=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new de(e,t):new de(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=$,e.NULL=new te,e.ngInjectableDef=p({providedIn:"any",factory:function(){return Z(ee)}}),e.__NG_ELEMENT_ID__=function(){return re()},e}(),re=J,ie=function(e){return e},oe=[],se=ie,ae=function(){return Array.prototype.slice.call(arguments)},le=u({provide:String,useValue:u}),ue=ne.NULL,ce=/\n/gm,he="\u0275",de=function(){function e(e,t,n){void 0===t&&(t=ue),void 0===n&&(n=null),this.parent=t,this.source=n;var r=this._records=new Map;r.set(ne,{token:ne,fn:ie,deps:oe,value:this,useNew:!1}),r.set(ee,{token:ee,fn:ie,deps:oe,value:this,useNew:!1}),function e(t,n){if(n)if((n=O(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw ge("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ge("Unexpected provider",n);var i=O(n.provide),o=function(e){var t=function(e){var t=oe,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6;if((l=O(n[r]))instanceof Array)for(var o=0,s=l;o<s.length;o++){var a=s[o];a instanceof L||a==L?i|=1:a instanceof F||a==F?i&=-3:a instanceof z||a==z?i&=-5:l=a instanceof R?a.token:O(a)}t.push({token:l,options:i})}}else if(e.useExisting){var l;t=[{token:l=O(e.useExisting),options:6}]}else if(!(n||le in e))throw ge("'deps' required",e);return t}(e),n=ie,r=oe,i=!1,o=O(e.provide);if(le in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=O(e.useClass);else{if("function"!=typeof o)throw ge("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=o}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var s=t.get(i);if(s){if(s.fn!==ae)throw pe(i)}else t.set(i,s={token:n.provide,deps:[],useNew:!1,fn:ae,value:oe});s.deps.push({token:i=n,options:6})}var a=t.get(i);if(a&&a.fn==ae)throw pe(i);t.set(i,o)}}(r,e)}return e.prototype.get=function(e,t,n){void 0===n&&(n=B.Default);var i=this._records.get(e);try{return function e(t,n,i,o,s,a){try{return function(t,n,i,o,s,a){var l,u;if(!n||a&B.SkipSelf)a&B.Self||(u=o.get(t,s,B.Default));else{if((u=n.value)==se)throw Error(he+"Circular dependency");if(u===oe){n.value=se;var c=n.useNew,h=n.fn,d=n.deps,p=oe;if(d.length){p=[];for(var f=0;f<d.length;f++){var g=d[f],m=g.options,v=2&m?i.get(g.token):void 0;p.push(e(g.token,v,i,v||4&m?o:ue,1&m?null:ne.THROW_IF_NOT_FOUND,B.Default))}}n.value=u=c?new((l=h).bind.apply(l,Object(r.g)([void 0],p))):h.apply(void 0,p)}}return u}(t,n,i,o,s,a)}catch(l){throw l instanceof Error||(l=new Error(l)),(l.ngTempTokenPath=l.ngTempTokenPath||[]).unshift(t),n&&n.value==se&&(n.value=oe),l}}(e,i,this._records,this.parent,t,n)}catch(s){var o=s.ngTempTokenPath;throw e[Q]&&o.unshift(e[Q]),s.message=fe("\n"+s.message,o,this.source),s.ngTokenPath=o,s.ngTempTokenPath=null,s}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(N(n))}),"StaticInjector["+e.join(", ")+"]"},e}();function pe(e){return ge("Cannot mix multi providers and regular providers",e)}function fe(e,t,n){void 0===n&&(n=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==he?e.substr(2):e;var r=N(t);if(t instanceof Array)r=t.map(N).join(" -> ");else if("object"==typeof t){var i=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];i.push(o+":"+("string"==typeof s?JSON.stringify(s):N(s)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+e.replace(ce,"\n  ")}function ge(e,t){return new Error(fe(e,t))}var me=new g("The presence of this token marks an injector as being the root injector."),ve=function(){return function(){}}(),ye=function(){return function(){}}();function be(e){var t=Error("No component factory found for "+N(e)+". Did you add it to @NgModule.entryComponents?");return t[we]=e,t}var we="ngComponent",Ce=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw be(e)},e}(),Ie=function(){function e(){}return e.NULL=new Ce,e}(),xe=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var r=0;r<e.length;r++){var i=e[r];this._factories.set(i.componentType,i)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw be(e);return new Ae(t,this._ngModule)},e}(),Ae=function(e){function t(t,n){var r=e.call(this)||this;return r.factory=t,r.ngModule=n,r.selector=t.selector,r.componentType=t.componentType,r.ngContentSelectors=t.ngContentSelectors,r.inputs=t.inputs,r.outputs=t.outputs,r}return Object(r.c)(t,e),t.prototype.create=function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)},t}(ye),_e=function(){return function(){}}(),Se=function(){return function(){}}(),De=function(){function e(e){this.nativeElement=e}return e.__NG_ELEMENT_ID__=function(){return Te(e)},e}(),Te=J,ke=function(){return function(){}}(),Ne=function(){return function(){}}(),Pe=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),Me=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Oe()},e}(),Oe=J,Ee=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({}),je=function(){return function(){}}(),Re=function(){return function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}(),Le=new Re("7.2.15"),ze=!0,Fe=!1;function Be(){return Fe=!0,ze}function Ge(){if(Fe)throw new Error("Cannot enable prod mode after platform setup.");ze=!1}var Ue=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},e}(),Ze=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,We=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ve(e){return(e=String(e)).match(Ze)||e.match(We)?e:(Be()&&console.warn("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function Ye(e){var t,n,i={};try{for(var o=Object(r.h)(e.split(",")),s=o.next();!s.done;s=o.next())i[s.value]=!0}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}function He(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var s=Object(r.h)(n),a=s.next();!a.done;a=s.next()){var l=a.value;for(var u in l)l.hasOwnProperty(u)&&(o[u]=!0)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o}var qe,Xe=Ye("area,br,col,hr,img,wbr"),Ke=Ye("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Je=Ye("rp,rt"),Qe=He(Je,Ke),$e=He(Xe,He(Ke,Ye("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),He(Je,Ye("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qe),et=Ye("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tt=Ye("srcset"),nt=He(et,tt,Ye("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),rt=Ye("script,style,template"),it=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")},e.prototype.startElement=function(e){var t,n=e.nodeName.toLowerCase();if(!$e.hasOwnProperty(n))return this.sanitizedSomething=!0,!rt.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=e.attributes,i=0;i<r.length;i++){var o=r.item(i),s=o.name,a=s.toLowerCase();if(nt.hasOwnProperty(a)){var l=o.value;et[a]&&(l=Ve(l)),tt[a]&&(t=l,l=(t=String(t)).split(",").map(function(e){return Ve(e.trim())}).join(", ")),this.buf.push(" ",s,'="',at(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();$e.hasOwnProperty(t)&&!Xe.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(at(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t},e}(),ot=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,st=/([^\#-~ |!])/g;function at(e){return e.replace(/&/g,"&amp;").replace(ot,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(st,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lt(e,t){var n=null;try{qe=qe||new Ue(e);var r=t?String(t):"";n=qe.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=qe.getInertBodyElement(r)}while(r!==o);var s=new it,a=s.sanitizeChildren(ut(n)||n);return Be()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n)for(var l=ut(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}function ut(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ct=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return Object(r.c)(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,r){var o,s=function(e){return null},a=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(s=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(s=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var l=e.prototype.subscribe.call(this,o,s,a);return t instanceof i.a&&t.add(l),l},t}(o.a),ht=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return dt(e,De)},e}(),dt=J,pt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ft=/^url\(([^)]+)\)$/;function gt(e){if(!(e=String(e).trim()))return"";var t=e.match(ft);return t&&Ve(t[1])===t[1]||e.match(pt)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(Be()&&console.warn("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}var mt=function(){return function(){}}(),vt=w("Input",function(e){return{bindingPropertyName:e}},void 0,function(e){return function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e.constructor;i.hasOwnProperty(d)||function(e){var t=e.constructor,n=t.ngBaseDef,r=t.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(c(r.inputs,n.inputs),c(r.outputs,n.outputs),c(r.declaredInputs,n.declaredInputs))}(e),(function(e){return e.inputs||{}}(i.ngBaseDef))[t]=n[0]}}()),yt=w("HostBinding",function(e){return{hostPropertyName:e}}),bt="ngDebugContext",wt="ngOriginalError",Ct="ngErrorLogger";function It(e){return e[bt]}function xt(e){return e[wt]}function At(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,Object(r.g)(t))}var _t=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e[Ct]||At}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?It(e)?It(e):this._findContext(xt(e)):null},e.prototype._findOriginalError=function(e){for(var t=xt(e);t&&xt(t);)t=xt(t);return t},e}();function St(e){return!!e&&"function"==typeof e.then}function Dt(e){return!!e&&"function"==typeof e.subscribe}var Tt=new g("Application Initializer"),kt=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();St(i)&&t.push(i)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},e}(),Nt=new g("AppId");function Pt(){return""+Mt()+Mt()+Mt()}function Mt(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ot=new g("Platform Initializer"),Et=new g("Platform ID"),jt=new g("appBootstrapListener"),Rt=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}();function Lt(){throw new Error("Runtime compiler is not loaded")}var zt,Ft,Bt=Lt,Gt=Lt,Ut=Lt,Zt=Lt,Wt=function(){function e(){this.compileModuleSync=Bt,this.compileModuleAsync=Gt,this.compileModuleAndAllComponentsSync=Ut,this.compileModuleAndAllComponentsAsync=Zt}return e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e.prototype.getModuleId=function(e){},e}(),Vt=function(){return function(){}}();function Yt(){var e=A.wtf;return!(!e||!(zt=e.trace)||(Ft=zt.events,0))}var Ht=Yt();function qt(e,t){return null}var Xt=Ht?function(e,t){return void 0===t&&(t=null),Ft.createScope(e,t)}:function(e,t){return qt},Kt=Ht?function(e,t){return zt.leaveScope(e,t),t}:function(e,t){return t},Jt=function(){function e(e){var t,n=e.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,r,i,o,s){try{return tn(t),e.invokeTask(r,i,o,s)}finally{nn(t)}},onInvoke:function(e,n,r,i,o,s,a){try{return tn(t),e.invoke(r,i,o,s,a)}finally{nn(t)}},onHasTask:function(e,n,r,i){e.hasTask(r,i),n===r&&("microTask"==i.change?(t.hasPendingMicrotasks=i.microTask,en(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,n,r,i){return e.handleError(r,i),t.runOutsideAngular(function(){return t.onError.emit(i)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,$t,Qt,Qt);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function Qt(){}var $t={};function en(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function tn(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function nn(e){e._nesting--,en(e)}var rn=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ct,this.onMicrotaskEmpty=new ct,this.onStable=new ct,this.onError=new ct}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),on=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){t.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Jt.assertNotInAngularZone(),T(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())T(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]},e.prototype.addCallback=function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e}(),sn=function(){function e(){this._applications=new Map,un.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),un.findTestabilityInTree(this,e,t)},Object(r.b)([Object(r.d)("design:paramtypes",[])],e)}();function an(e){un=e}var ln,un=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),cn=new g("AllowMultipleToken"),hn=function(){return function(e,t){this.name=e,this.token=t}}();function dn(e,t,n){void 0===n&&(n=[]);var r="Platform: "+t,i=new g(r);return function(t){void 0===t&&(t=[]);var o=pn();if(!o||o.injector.get(cn,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var s=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(ln&&!ln.destroyed&&!ln.injector.get(cn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ln=e.get(fn);var t=e.get(Ot,null);t&&t.forEach(function(e){return e()})}(ne.create({providers:s,name:r}))}return function(e){var t=pn();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function pn(){return ln&&!ln.destroyed?ln:null}var fn=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new rn:("zone.js"===n?void 0:n)||new Jt({enableLongStackTrace:Be()}),o=[{provide:Jt,useValue:i}];return i.run(function(){var t=ne.create({providers:o,parent:r.injector,name:e.moduleType.name}),n=e.create(t),s=n.injector.get(_t,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return vn(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(e){s.handleError(e)}})}),function(e,t,i){try{var o=((s=n.injector.get(kt)).runInitializers(),s.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return St(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(a){throw t.runOutsideAngular(function(){return e.handleError(a)}),a}var s}(s,i)})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var r=gn({},t);return function(e,t,n){return e.get(Vt).createCompiler([t]).compileModuleAsync(n)}(this.injector,r,e).then(function(e){return n.bootstrapModuleFactory(e,r)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(mn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+N(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function gn(e,t){return Array.isArray(t)?t.reduce(gn,e):Object(r.a)({},e,t)}var mn=function(){function e(e,t,n,r,i,o){var u=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Be(),this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new s.a(function(e){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){e.next(u._stable),e.complete()})}),h=new s.a(function(e){var t;u._zone.runOutsideAngular(function(){t=u._zone.onStable.subscribe(function(){Jt.assertNotInAngularZone(),T(function(){u._stable||u._zone.hasPendingMacrotasks||u._zone.hasPendingMicrotasks||(u._stable=!0,e.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){Jt.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=Object(a.a)(c,h.pipe(Object(l.a)()))}var t;return t=e,e.prototype.bootstrap=function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof ye?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof Ae?null:this._injector.get(_e),o=n.create(ne.NULL,[],t||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var s=o.injector.get(on,null);return s&&o.injector.get(sn).registerApplication(o.location.nativeElement,s),this._loadComponent(o),Be()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},e.prototype.tick=function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=t._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,Kt(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;vn(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(jt,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),vn(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=Xt("ApplicationRef#tick()"),e}();function vn(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var yn=function(){function e(){this.dirty=!0,this._results=[],this.changes=new ct,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[D()]=function(){return this._results[D()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e(n):n;return t.concat(r)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),bn=function(){return function(){}}(),wn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Cn=function(){function e(e,t){this._compiler=e,this._config=t||wn}return e.prototype.load=function(e){return this._compiler instanceof Wt?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,i=Object(r.f)(e.split("#"),2),o=i[0],s=i[1];return void 0===s&&(s="default"),n("crnd")(o).then(function(e){return e[s]}).then(function(e){return In(e,o,s)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=Object(r.f)(e.split("#"),2),i=t[0],o=t[1],s="NgFactory";return void 0===o&&(o="default",s=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(e){return e[o+s]}).then(function(e){return In(e,i,o)})},e}();function In(e,t,n){if(!e)throw new Error("Cannot find '"+n+"' in '"+t+"'");return e}var xn=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return An(e,De)},e}(),An=J,_n=function(){function e(){}return e.__NG_ELEMENT_ID__=function(){return Sn()},e}(),Sn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},Dn=function(){return function(e,t){this.name=e,this.callback=t}}(),Tn=function(){function e(e,t,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=e,t&&t instanceof kn&&t.addChild(this)}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),kn=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=t,i}return Object(r.c)(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,i=this,o=this.childNodes.indexOf(e);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.g)([o+1,0],t)),t.forEach(function(t){t.parent&&t.parent.removeChild(t),e.parent=i}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return Nn(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return Pn(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(Tn);function Nn(e,t,n){e.childNodes.forEach(function(e){e instanceof kn&&(t(e)&&n.push(e),Nn(e,t,n))})}function Pn(e,t,n){e instanceof kn&&e.childNodes.forEach(function(e){t(e)&&n.push(e),e instanceof kn&&Pn(e,t,n)})}var Mn=new Map,On=function(e){return Mn.get(e)||null};function En(e){Mn.set(e.nativeNode,e)}var jn=function(){function e(){}return e.prototype.supports=function(e){return X(e)},e.prototype.create=function(e){return new Ln(e)},e}(),Rn=function(e,t){return t},Ln=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Rn}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Gn(n,r,i)?t:n,s=Gn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var l=s-r,u=a-r;if(l!=u){for(var c=0;c<l;c++){var h=c<i.length?i[c]:i[c]=0,d=h+c;u<=d&&d<l&&(i[c]=h+1)}i[o.previousIndex]=u-l}}s!==a&&e(o,s,a)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!X(e))throw new Error("Error trying to diff '"+N(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,r,i,o=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(var a=0;a<this.length;a++)i=this._trackByFn(a,r=e[a]),null!==o&&k(o.trackById,i)?(s&&(o=this._verifyReinsertion(o,r,i,a)),k(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,a),s=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r=e[D()](),i=void 0;!(i=r.next()).done;)t(i.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&k(o.trackById,i)?(s&&(o=t._verifyReinsertion(o,e,i,n)),k(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(k(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(k(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new zn(t,n),i,r),e},e.prototype._verifyReinsertion=function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Bn),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),zn=function(){return function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Fn=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&k(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),Bn=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Fn,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function Gn(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Un=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||K(e)},e.prototype.create=function(){return new Zn},e}(),Zn=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||K(e)))throw new Error("Error trying to diff '"+N(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Wn(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){k(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),Wn=function(){return function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Vn=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new F,new L]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e.ngInjectableDef=p({providedIn:"root",factory:function(){return new e([new jn])}}),e}(),Yn=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new F,new L]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e.ngInjectableDef=p({providedIn:"root",factory:function(){return new e([new Un])}}),e}(),Hn=[new Un],qn=new Vn([new jn]),Xn=new Yn(Hn),Kn=dn(null,"core",[{provide:Et,useValue:"unknown"},{provide:fn,deps:[ne]},{provide:sn,deps:[]},{provide:Rt,deps:[]}]),Jn=new g("LocaleId");function Qn(){return qn}function $n(){return Xn}function er(e){return e||"en-US"}var tr=function(){return function(e){}}();function nr(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function rr(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function ir(e,t){return e.nodes[t]}function or(e,t){return e.nodes[t]}function sr(e,t){return e.nodes[t]}function ar(e,t){return e.nodes[t]}function lr(e,t){return e.nodes[t]}var ur={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function cr(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return hr(n,t),n}(i,e)}function hr(e,t){e[bt]=t,e[Ct]=t.logError.bind(t)}function dr(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}var pr=function(){},fr=new Map;function gr(e){var t=fr.get(e);return t||(t=N(e)+"_"+fr.size,fr.set(e,t)),t}var mr="$$undefined",vr="$$empty";function yr(e){return{id:mr,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var br=0;function wr(e,t,n,r){return!(!(2&e.state)&&k(e.oldValues[t.bindingIndex+n],r))}function Cr(e,t,n,r){return!!wr(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function Ir(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!Y(i,r)){var o=t.bindings[n].name;throw cr(ur.createDebugContext(e,t.nodeIndex),o+": "+i,o+": "+r,0!=(1&e.state))}}function xr(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Ar(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function _r(e,t,n,r){try{return xr(33554432&e.def.nodes[t].flags?or(e,t).componentView:e),ur.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function Sr(e){return e.parent?or(e.parent,e.parentNodeDef.nodeIndex):null}function Dr(e){return e.parent?e.parentNodeDef.parent:null}function Tr(e,t){switch(201347067&t.flags){case 1:return or(e,t.nodeIndex).renderElement;case 2:return ir(e,t.nodeIndex).renderText}}function kr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Nr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Pr(e){return 1<<e%32}function Mr(e){var t={},n=0,i={};return e&&e.forEach(function(e){var o=Object(r.f)(e,2),s=o[0],a=o[1];"number"==typeof s?(t[s]=a,n|=Pr(s)):i[s]=a}),{matchedQueries:t,references:i,matchedQueryIds:n}}function Or(e,t){return e.map(function(e){var n,i,o;return Array.isArray(e)?(o=(n=Object(r.f)(e,2))[0],i=n[1]):(o=0,i=e),i&&("function"==typeof i||"object"==typeof i)&&t&&Object.defineProperty(i,Q,{value:t,configurable:!0}),{flags:o,token:i,tokenKey:gr(i)}})}function Er(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===j.Native?or(e,n.renderParent.nodeIndex).renderElement:void 0:t}var jr=new WeakMap;function Rr(e){var t=jr.get(e);return t||((t=e(function(){return pr})).factory=e,jr.set(e,t)),t}function Lr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(Tr(e,e.def.lastRenderRootNode))),zr(e,t,0,e.def.nodes.length-1,n,r,i)}function zr(e,t,n,r,i,o,s){for(var a=n;a<=r;a++){var l=e.def.nodes[a];11&l.flags&&Br(e,l,t,i,o,s),a+=l.childCount}}function Fr(e,t,n,r,i,o){for(var s=e;s&&!kr(s);)s=s.parent;for(var a=s.parent,l=Dr(s),u=l.nodeIndex+l.childCount,c=l.nodeIndex+1;c<=u;c++){var h=a.def.nodes[c];h.ngContentIndex===t&&Br(a,h,n,r,i,o),c+=h.childCount}if(!a.parent){var d=e.root.projectableNodes[t];if(d)for(c=0;c<d.length;c++)Gr(e,d[c],n,r,i,o)}}function Br(e,t,n,r,i,o){if(8&t.flags)Fr(e,t.ngContent.index,n,r,i,o);else{var s=Tr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Gr(e,s,n,r,i,o),32&t.bindingFlags&&Gr(or(e,t.nodeIndex).componentView,s,n,r,i,o)):Gr(e,s,n,r,i,o),16777216&t.flags)for(var a=or(e,t.nodeIndex).viewContainer._embeddedViews,l=0;l<a.length;l++)Lr(a[l],n,r,i,o);1&t.flags&&!t.element.name&&zr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,o)}}function Gr(e,t,n,r,i,o){var s=e.renderer;switch(n){case 1:s.appendChild(r,t);break;case 2:s.insertBefore(r,t,i);break;case 3:s.removeChild(r,t);break;case 0:o.push(t)}}var Ur=/^:([^:]+):(.+)$/;function Zr(e){if(":"===e[0]){var t=e.match(Ur);return[t[1],t[2]]}return["",e]}function Wr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Vr(e,t,n,r,i,o,s,a,l,u,c,h,d,p,f,g,m,v,y,b){switch(e){case 1:return t+Yr(n)+r;case 2:return t+Yr(n)+r+Yr(i)+o;case 3:return t+Yr(n)+r+Yr(i)+o+Yr(s)+a;case 4:return t+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u;case 5:return t+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h;case 6:return t+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h+Yr(d)+p;case 7:return t+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h+Yr(d)+p+Yr(f)+g;case 8:return t+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h+Yr(d)+p+Yr(f)+g+Yr(m)+v;case 9:return t+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h+Yr(d)+p+Yr(f)+g+Yr(m)+v+Yr(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function Yr(e){return null!=e?e.toString():""}function Hr(e,t,n,r,i,o){e|=1;var s=Mr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Rr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||pr},provider:null,text:null,query:null,ngContent:null}}function qr(e,t,n,i,o,s,a,l,u,c,h,d){var p;void 0===a&&(a=[]),c||(c=pr);var f=Mr(n),g=f.matchedQueries,m=f.references,v=f.matchedQueryIds,y=null,b=null;s&&(y=(p=Object(r.f)(Zr(s),2))[0],b=p[1]),l=l||[];for(var w=new Array(l.length),C=0;C<l.length;C++){var I=Object(r.f)(l[C],3),x=I[0],A=I[1],_=I[2],S=Object(r.f)(Zr(A),2),D=S[0],T=S[1],k=void 0,N=void 0;switch(15&x){case 4:N=_;break;case 1:case 8:k=_}w[C]={flags:x,ns:D,name:T,nonMinifiedName:T,securityContext:k,suffix:N}}u=u||[];var P=new Array(u.length);for(C=0;C<u.length;C++){var M=Object(r.f)(u[C],2);P[C]={type:0,target:M[0],eventName:M[1],propName:null}}var O=(a=a||[]).map(function(e){var t=Object(r.f)(e,2),n=t[0],i=t[1],o=Object(r.f)(Zr(n),2);return[o[0],o[1],i]});return d=function(e){if(e&&e.id===mr){var t=null!=e.encapsulation&&e.encapsulation!==j.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+br++:vr}return e&&e.id===vr&&(e=null),e||null}(d),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:g,matchedQueryIds:v,references:m,ngContentIndex:i,childCount:o,bindings:w,bindingFlags:Wr(w),outputs:P,element:{ns:y,name:b,attrs:O,template:null,componentProvider:null,componentView:h||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||pr},provider:null,text:null,query:null,ngContent:null}}function Xr(e,t,n){var i,o=n.element,s=e.root.selectorOrNode,a=e.renderer;if(e.parent||!s){i=o.name?a.createElement(o.name,o.ns):a.createComment("");var l=Er(e,t,n);l&&a.appendChild(l,i)}else i=a.selectRootElement(s,!!o.componentRendererType&&o.componentRendererType.encapsulation===j.ShadowDom);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var c=Object(r.f)(o.attrs[u],3);a.setAttribute(i,c[1],c[2],c[0])}return i}function Kr(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],s=Jr(e,n.nodeIndex,(h=o.eventName,(c=o.target)?c+":"+h:h)),a=o.target,l=e;"component"===o.target&&(a=null,l=t);var u=l.renderer.listen(a||r,o.eventName,s);e.disposables[n.outputIndex+i]=u}var c,h}function Jr(e,t,n){return function(r){return _r(e,t,n,r)}}function Qr(e,t,n,r){if(!Cr(e,t,n,r))return!1;var i=t.bindings[n],o=or(e,t.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,o){var s=t.securityContext,a=s?e.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;var l=e.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(e,i,s,i.ns,a,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,s,a,r);break;case 4:!function(e,t,n,r,i){var o=e.root.sanitizer.sanitize(Ee.STYLE,i);if(null!=o){o=o.toString();var s=t.suffix;null!=s&&(o+=s)}else o=null;var a=e.renderer;null!=o?a.setStyle(n,r,o):a.removeStyle(n,r)}(e,i,s,a,r);break;case 8:!function(e,t,n,r,i){var o=t.securityContext,s=o?e.root.sanitizer.sanitize(o,i):i;e.renderer.setProperty(n,r,s)}(33554432&t.flags&&32&i.flags?o.componentView:e,i,s,a,r)}return!0}var $r=new Object,ei=gr(ne),ti=gr(ee),ni=gr(_e);function ri(e,t,n,r){return n=O(n),{index:-1,deps:Or(r,N(t)),flags:e,token:t,value:n}}function ii(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var o=e[i];o.token===me&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,t[gr(o.token)]=o}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}function oi(e,t,n){void 0===n&&(n=ne.THROW_IF_NOT_FOUND);var r,i,o=U(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var s=t.tokenKey;switch(s){case ei:case ti:case ni:return e}var a,l=e._def.providersByKey[s];if(l){var u=e._providers[l.index];return void 0===u&&(u=e._providers[l.index]=si(e,l)),u===$r?void 0:u}if((a=f(t.token))&&(r=e,null!=(i=a).providedIn&&(function(e,t){return e._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var c=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:t.token},e._providers[c]=$r,e._providers[c]=si(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{U(o)}}function si(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var i=n.length;switch(i){case 0:return new t;case 1:return new t(oi(e,n[0]));case 2:return new t(oi(e,n[0]),oi(e,n[1]));case 3:return new t(oi(e,n[0]),oi(e,n[1]),oi(e,n[2]));default:for(var o=new Array(i),s=0;s<i;s++)o[s]=oi(e,n[s]);return new(t.bind.apply(t,Object(r.g)([void 0],o)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var i=n.length;switch(i){case 0:return t();case 1:return t(oi(e,n[0]));case 2:return t(oi(e,n[0]),oi(e,n[1]));case 3:return t(oi(e,n[0]),oi(e,n[1]),oi(e,n[2]));default:for(var o=Array(i),s=0;s<i;s++)o[s]=oi(e,n[s]);return t.apply(void 0,Object(r.g)(o))}}(e,t.value,t.deps);break;case 2048:n=oi(e,t.deps[0]);break;case 256:n=t.value}return n===$r||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?$r:n}function ai(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,hi(n,t),ur.dirtyParentQueries(r),ui(r),r}function li(e,t,n){var r=t?Tr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Lr(n,2,i,o,void 0)}function ui(e){Lr(e,3,null,null,void 0)}function ci(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function hi(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var di=new Object;function pi(e,t,n,r,i,o){return new fi(e,t,n,r,i,o)}var fi=function(e){function t(t,n,r,i,o,s){var a=e.call(this)||this;return a.selector=t,a.componentType=n,a._inputs=i,a._outputs=o,a.ngContentSelectors=s,a.viewDefFactory=r,a}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=Rr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=ur.createRootView(e,t||[],n,i,r,di),a=sr(s,o).instance;return n&&s.renderer.setAttribute(or(s,0).renderElement,"ng-version",Le.full),new gi(s,new bi(s),a)},t}(ye),gi=function(e){function t(t,n,r){var i=e.call(this)||this;return i._view=t,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new De(or(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new xi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(ve);function mi(e,t,n){return new vi(e,t,n)}var vi=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new De(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new xi(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Dr(e),e=e.parent;return e?new xi(e,t):new xi(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=ai(this._data,e);ur.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new bi(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r},e.prototype.createComponent=function(e,t,n,r,i){var o=n||this.parentInjector;i||e instanceof Ae||(i=o.get(_e));var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,s=e;return o=(n=this._data).viewContainer._embeddedViews,null==(r=t)&&(r=o.length),(i=s._view).viewContainerParent=this._view,ci(o,r,i),function(e,t){var n=Sr(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,n){if(!(4&n.flags)){t.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,t.parentNodeDef)}}(n,i),ur.dirtyParentQueries(i),li(n,r>0?o[r-1]:null,i),s.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,s,a=this._embeddedViews.indexOf(e._view);return i=t,s=(o=(n=this._data).viewContainer._embeddedViews)[r=a],hi(o,r),null==i&&(i=o.length),ci(o,i,s),ur.dirtyParentQueries(s),ui(s),li(n,i>0?o[i-1]:null,s),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=ai(this._data,e);t&&ur.destroyView(t)},e.prototype.detach=function(e){var t=ai(this._data,e);return t?new bi(t):null},e}();function yi(e){return new bi(e)}var bi=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return Lr(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){xr(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{ur.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){ur.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ur.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,ui(this._view),ur.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function wi(e,t){return new Ci(e,t)}var Ci=function(e){function t(t,n){var r=e.call(this)||this;return r._parentView=t,r._def=n,r}return Object(r.c)(t,e),t.prototype.createEmbeddedView=function(e){return new bi(ur.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new De(or(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(ht);function Ii(e,t){return new xi(e,t)}var xi=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=ne.THROW_IF_NOT_FOUND),ur.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:gr(e)},t)},e}();function Ai(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=or(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return ir(e,n.nodeIndex).renderText;if(20240&n.flags)return sr(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function _i(e){return new Si(e.renderer)}var Si=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=Object(r.f)(Zr(t),2),i=this.delegate.createElement(n[1],n[0]);return e&&this.delegate.appendChild(e,i),i},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var i=Object(r.f)(Zr(t),2),o=i[0],s=i[1];null!=n?this.delegate.setAttribute(e,s,n,o):this.delegate.removeAttribute(e,s,o)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function Di(e,t,n,r){return new Ti(e,t,n,r)}var Ti=function(){function e(e,t,n,r){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=si(e,i))}}(this)}return e.prototype.get=function(e,t,n){void 0===t&&(t=ne.THROW_IF_NOT_FOUND),void 0===n&&(n=B.Default);var r=0;return n&B.SkipSelf?r|=1:n&B.Self&&(r|=4),oi(this,{token:e,tokenKey:gr(e),flags:r},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(Ie)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+N(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=e._providers[i];if(o&&o!==$r){var s=o.ngOnDestroy;"function"!=typeof s||r.has(o)||(s.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),ki=gr(ke),Ni=gr(Me),Pi=gr(De),Mi=gr(xn),Oi=gr(ht),Ei=gr(_n),ji=gr(ne),Ri=gr(ee);function Li(e,t,n,i,o,s,a,l){var u=[];if(a)for(var c in a){var h=Object(r.f)(a[c],2);u[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var d=[];if(l)for(var p in l)d.push({type:1,propName:p,target:null,eventName:l[p]});return Fi(e,t|=16384,n,i,o,o,s,u,d)}function zi(e,t,n,r,i){return Fi(-1,e,t,0,n,r,i)}function Fi(e,t,n,r,i,o,s,a,l){var u=Mr(n),c=u.matchedQueries,h=u.references,d=u.matchedQueryIds;l||(l=[]),a||(a=[]),o=O(o);var p=Or(s,N(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Wr(a),outputs:l,element:null,provider:{token:i,value:o,deps:p},text:null,query:null,ngContent:null}}function Bi(e,t){return Wi(e,t)}function Gi(e,t){for(var n=e;n.parent&&!kr(n);)n=n.parent;return Vi(n.parent,Dr(n),!0,t.provider.value,t.provider.deps)}function Ui(e,t){var n=Vi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],o=n[i.propName];if(!Dt(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var s=o.subscribe(Zi(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=s.unsubscribe.bind(s)}return n}function Zi(e,t,n){return function(r){return _r(e,t,n,r)}}function Wi(e,t){var n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return Vi(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,o){var s=o.length;switch(s){case 0:return i();case 1:return i(Hi(e,t,n,o[0]));case 2:return i(Hi(e,t,n,o[0]),Hi(e,t,n,o[1]));case 3:return i(Hi(e,t,n,o[0]),Hi(e,t,n,o[1]),Hi(e,t,n,o[2]));default:for(var a=Array(s),l=0;l<s;l++)a[l]=Hi(e,t,n,o[l]);return i.apply(void 0,Object(r.g)(a))}}(e,t.parent,n,i.value,i.deps);case 2048:return Hi(e,t.parent,n,i.deps[0]);case 256:return i.value}}function Vi(e,t,n,i,o){var s=o.length;switch(s){case 0:return new i;case 1:return new i(Hi(e,t,n,o[0]));case 2:return new i(Hi(e,t,n,o[0]),Hi(e,t,n,o[1]));case 3:return new i(Hi(e,t,n,o[0]),Hi(e,t,n,o[1]),Hi(e,t,n,o[2]));default:for(var a=new Array(s),l=0;l<s;l++)a[l]=Hi(e,t,n,o[l]);return new(i.bind.apply(i,Object(r.g)([void 0],a)))}}var Yi={};function Hi(e,t,n,r,i){if(void 0===i&&(i=ne.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=e;2&r.flags&&(i=null);var s=r.tokenKey;s===Ei&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var a=e;a;){if(t)switch(s){case ki:return _i(qi(a,t,n));case Ni:return qi(a,t,n).renderer;case Pi:return new De(or(a,t.nodeIndex).renderElement);case Mi:return or(a,t.nodeIndex).viewContainer;case Oi:if(t.element.template)return or(a,t.nodeIndex).template;break;case Ei:return yi(qi(a,t,n));case ji:case Ri:return Ii(a,t);default:var l=(n?t.element.allProviders:t.element.publicProviders)[s];if(l){var u=sr(a,l.nodeIndex);return u||(u={instance:Wi(a,l)},a.nodes[l.nodeIndex]=u),u.instance}}n=kr(a),t=Dr(a),a=a.parent,4&r.flags&&(a=null)}var c=o.root.injector.get(r.token,Yi);return c!==Yi||i===Yi?c:o.root.ngModule.injector.get(r.token,i)}function qi(e,t,n){var r;if(n)r=or(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!kr(r);)r=r.parent;return r}function Xi(e,t,n,r,i,o){if(32768&n.flags){var s=or(e,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var a=H.unwrap(e.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new q(a,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,o}function Ki(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],s=o.parent;for(!s&&o.flags&t&&Qi(e,i,o.flags&t,r++),0==(o.childFlags&t)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&t&&(r=Ji(e,s,t,r)),s=s.parent}}function Ji(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var o=e.def.nodes[i];o.flags&n&&Qi(e,i,o.flags&n,r++),i+=o.childCount}return r}function Qi(e,t,n,r){var i=sr(e,t);if(i){var o=i.instance;o&&(ur.setCurrentNode(e,t),1048576&n&&rr(e,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&rr(e,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function $i(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Pr(t),bindings:r},ngContent:null}}function eo(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Nr(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=e.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&t)===o.query.filterId&&lr(e,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&e.def.nodeFlags)for(i=0;i<e.def.nodes.length;i++){var o;134217728&(o=e.def.nodes[i]).flags&&536870912&o.flags&&lr(e,i).setDirty(),i+=o.childCount}}function to(e,t){var n=lr(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var o=t.parent.parent;i=no(e,o.nodeIndex,o.nodeIndex+o.childCount,t.query,[]),r=sr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=no(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var s=t.query.bindings,a=!1,l=0;l<s.length;l++){var u=s[l],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}r[u.propName]=c}a&&n.notifyOnChanges()}}function no(e,t,n,r,i){for(var o=t;o<=n;o++){var s=e.def.nodes[o],a=s.matchedQueries[r.id];if(null!=a&&i.push(ro(e,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var l=or(e,o);if((s.childMatchedQueries&r.filterId)===r.filterId&&(no(e,o+1,o+s.childCount,r,i),o+=s.childCount),16777216&s.flags)for(var u=l.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],d=Sr(h);d&&d===l&&no(h,0,h.def.nodes.length-1,r,i)}var p=l.template._projectedViews;if(p)for(c=0;c<p.length;c++){var f=p[c];no(f,0,f.def.nodes.length-1,r,i)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(o+=s.childCount)}return i}function ro(e,t,n){if(null!=n)switch(n){case 1:return or(e,t.nodeIndex).renderElement;case 0:return new De(or(e,t.nodeIndex).renderElement);case 2:return or(e,t.nodeIndex).template;case 3:return or(e,t.nodeIndex).viewContainer;case 4:return sr(e,t.nodeIndex).instance}}function io(e,t,n){var r=Er(e,t,n);r&&Fr(e,n.ngContent.index,1,r,null,void 0)}function oo(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function so(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var o=Er(e,t,n);return o&&i.appendChild(o,r),{renderText:r}}function ao(e,t){return(null!=e?e.toString():"")+t.suffix}function lo(e,t,n,r){for(var i=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null,f=0;f<t.length;f++){var g=t[f];if(g.nodeIndex=f,g.parent=u,g.bindingIndex=i,g.outputIndex=o,g.renderParent=c,s|=g.flags,l|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=u?u.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,h=!1,d=!1,g.element.template&&(l|=g.element.template.nodeMatchedQueries)}if(co(u,g,t.length),i+=g.bindings.length,o+=g.outputs.length,!c&&3&g.flags&&(p=g),20224&g.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var v=0!=(32768&g.flags);0==(8192&g.flags)||v?u.element.publicProviders[gr(g.provider.token)]=g:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[gr(g.provider.token)]=g),v&&(u.element.componentProvider=g)}if(u?(u.childFlags|=g.flags,u.directChildFlags|=g.flags,u.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(u.childMatchedQueries|=g.element.template.nodeMatchedQueries)):a|=g.flags,g.childCount>0)u=g,uo(g)||(c=g);else for(;u&&f===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),c=(u=y)&&uo(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||pr,updateRenderer:r||pr,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:p}}function uo(e){return 0!=(1&e.flags)&&null===e.element.name}function co(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function ho(e,t,n,r){var i=go(e.root,e.renderer,e,t,n);return mo(i,e.component,r),vo(i),i}function po(e,t,n){var r=go(e,e.renderer,null,null,t);return mo(r,n,n),vo(r),r}function fo(e,t,n,r){var i,o=t.element.componentRendererType;return i=o?e.root.rendererFactory.createRenderer(r,o):e.root.renderer,go(e.root,i,e,t.element.componentProvider,n)}function go(e,t,n,r,i){var o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function mo(e,t,n){e.component=t,e.context=n}function vo(e){var t;kr(e)&&(t=or(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];ur.setCurrentNode(e,i);var s=void 0;switch(201347067&o.flags){case 1:var a=Xr(e,t,o),l=void 0;if(33554432&o.flags){var u=Rr(o.element.componentView);l=ur.createComponentView(e,o,u,a)}Kr(e,l,o,a),s={renderElement:a,componentView:l,viewContainer:null,template:o.element.template?wi(e,o):void 0},16777216&o.flags&&(s.viewContainer=mi(e,o,s));break;case 2:s=so(e,t,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:Bi(e,o)});break;case 16:s={instance:Gi(e,o)};break;case 16384:(s=r[i])||(s={instance:Ui(e,o)}),32768&o.flags&&mo(or(e,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new yn;break;case 8:io(e,t,o),s=void 0}r[i]=s}So(e,_o.CreateViewNodes),No(e,201326592,268435456,0)}function yo(e){Co(e),ur.updateDirectives(e,1),Do(e,_o.CheckNoChanges),ur.updateRenderer(e,1),So(e,_o.CheckNoChanges),e.state&=-97}function bo(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,nr(e,0,256),Co(e),ur.updateDirectives(e,0),Do(e,_o.CheckAndUpdate),No(e,67108864,536870912,0);var t=nr(e,256,512);Ki(e,2097152|(t?1048576:0)),ur.updateRenderer(e,0),So(e,_o.CheckAndUpdate),No(e,134217728,536870912,0),Ki(e,8388608|((t=nr(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,nr(e,768,1024)}function wo(e,t,n,i,o,s,a,l,u,c,h,d,p){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,o,s,a,l,u,c,h){var d=t.bindings.length,p=!1;return d>0&&Qr(e,t,0,n)&&(p=!0),d>1&&Qr(e,t,1,r)&&(p=!0),d>2&&Qr(e,t,2,i)&&(p=!0),d>3&&Qr(e,t,3,o)&&(p=!0),d>4&&Qr(e,t,4,s)&&(p=!0),d>5&&Qr(e,t,5,a)&&(p=!0),d>6&&Qr(e,t,6,l)&&(p=!0),d>7&&Qr(e,t,7,u)&&(p=!0),d>8&&Qr(e,t,8,c)&&(p=!0),d>9&&Qr(e,t,9,h)&&(p=!0),p}(e,t,n,r,i,o,s,a,l,u,c,h);case 2:return function(e,t,n,r,i,o,s,a,l,u,c,h){var d=!1,p=t.bindings,f=p.length;if(f>0&&Cr(e,t,0,n)&&(d=!0),f>1&&Cr(e,t,1,r)&&(d=!0),f>2&&Cr(e,t,2,i)&&(d=!0),f>3&&Cr(e,t,3,o)&&(d=!0),f>4&&Cr(e,t,4,s)&&(d=!0),f>5&&Cr(e,t,5,a)&&(d=!0),f>6&&Cr(e,t,6,l)&&(d=!0),f>7&&Cr(e,t,7,u)&&(d=!0),f>8&&Cr(e,t,8,c)&&(d=!0),f>9&&Cr(e,t,9,h)&&(d=!0),d){var g=t.text.prefix;f>0&&(g+=ao(n,p[0])),f>1&&(g+=ao(r,p[1])),f>2&&(g+=ao(i,p[2])),f>3&&(g+=ao(o,p[3])),f>4&&(g+=ao(s,p[4])),f>5&&(g+=ao(a,p[5])),f>6&&(g+=ao(l,p[6])),f>7&&(g+=ao(u,p[7])),f>8&&(g+=ao(c,p[8])),f>9&&(g+=ao(h,p[9]));var m=ir(e,t.nodeIndex).renderText;e.renderer.setValue(m,g)}return d}(e,t,n,r,i,o,s,a,l,u,c,h);case 16384:return function(e,t,n,r,i,o,s,a,l,u,c,h){var d=sr(e,t.nodeIndex),p=d.instance,f=!1,g=void 0,m=t.bindings.length;return m>0&&wr(e,t,0,n)&&(f=!0,g=Xi(e,d,t,0,n,g)),m>1&&wr(e,t,1,r)&&(f=!0,g=Xi(e,d,t,1,r,g)),m>2&&wr(e,t,2,i)&&(f=!0,g=Xi(e,d,t,2,i,g)),m>3&&wr(e,t,3,o)&&(f=!0,g=Xi(e,d,t,3,o,g)),m>4&&wr(e,t,4,s)&&(f=!0,g=Xi(e,d,t,4,s,g)),m>5&&wr(e,t,5,a)&&(f=!0,g=Xi(e,d,t,5,a,g)),m>6&&wr(e,t,6,l)&&(f=!0,g=Xi(e,d,t,6,l,g)),m>7&&wr(e,t,7,u)&&(f=!0,g=Xi(e,d,t,7,u,g)),m>8&&wr(e,t,8,c)&&(f=!0,g=Xi(e,d,t,8,c,g)),m>9&&wr(e,t,9,h)&&(f=!0,g=Xi(e,d,t,9,h,g)),g&&p.ngOnChanges(g),65536&t.flags&&rr(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,r,i,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(e,t,n,r,i,o,s,a,l,u,c,h){var d=t.bindings,p=!1,f=d.length;if(f>0&&Cr(e,t,0,n)&&(p=!0),f>1&&Cr(e,t,1,r)&&(p=!0),f>2&&Cr(e,t,2,i)&&(p=!0),f>3&&Cr(e,t,3,o)&&(p=!0),f>4&&Cr(e,t,4,s)&&(p=!0),f>5&&Cr(e,t,5,a)&&(p=!0),f>6&&Cr(e,t,6,l)&&(p=!0),f>7&&Cr(e,t,7,u)&&(p=!0),f>8&&Cr(e,t,8,c)&&(p=!0),f>9&&Cr(e,t,9,h)&&(p=!0),p){var g=ar(e,t.nodeIndex),m=void 0;switch(201347067&t.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=r),f>2&&(m[2]=i),f>3&&(m[3]=o),f>4&&(m[4]=s),f>5&&(m[5]=a),f>6&&(m[6]=l),f>7&&(m[7]=u),f>8&&(m[8]=c),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=r),f>2&&(m[d[2].name]=i),f>3&&(m[d[3].name]=o),f>4&&(m[d[4].name]=s),f>5&&(m[d[5].name]=a),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=u),f>8&&(m[d[8].name]=c),f>9&&(m[d[9].name]=h);break;case 128:var v=n;switch(f){case 1:m=v.transform(n);break;case 2:m=v.transform(r);break;case 3:m=v.transform(r,i);break;case 4:m=v.transform(r,i,o);break;case 5:m=v.transform(r,i,o,s);break;case 6:m=v.transform(r,i,o,s,a);break;case 7:m=v.transform(r,i,o,s,a,l);break;case 8:m=v.transform(r,i,o,s,a,l,u);break;case 9:m=v.transform(r,i,o,s,a,l,u,c);break;case 10:m=v.transform(r,i,o,s,a,l,u,c,h)}}g.value=m}return p}(e,t,n,r,i,o,s,a,l,u,c,h);default:throw"unreachable"}}(e,t,i,o,s,a,l,u,c,h,d,p):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)Qr(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,o=0;o<n.length;o++)Cr(e,t,o,n[o])&&(i=!0);if(i){var s="";for(o=0;o<n.length;o++)s+=ao(n[o],r[o]);s=t.text.prefix+s;var a=ir(e,t.nodeIndex).renderText;e.renderer.setValue(a,s)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=sr(e,t.nodeIndex),i=r.instance,o=!1,s=void 0,a=0;a<n.length;a++)wr(e,t,a,n[a])&&(o=!0,s=Xi(e,r,t,a,n[a],s));return s&&i.ngOnChanges(s),65536&t.flags&&rr(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),o}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var i=t.bindings,o=!1,s=0;s<n.length;s++)Cr(e,t,s,n[s])&&(o=!0);if(o){var a=ar(e,t.nodeIndex),l=void 0;switch(201347067&t.flags){case 32:l=n;break;case 64:for(l={},s=0;s<n.length;s++)l[i[s].name]=n[s];break;case 128:var u=n[0],c=n.slice(1);l=u.transform.apply(u,Object(r.g)(c))}a.value=l}return o}(e,t,n);default:throw"unreachable"}}(e,t,i)}function Co(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=or(e,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var s=i[o];s.state|=32,Ar(s,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Io(e,t,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(e,t,n,r,i,o,s,a,l,u,c,h){var d=t.bindings.length;d>0&&Ir(e,t,0,n),d>1&&Ir(e,t,1,r),d>2&&Ir(e,t,2,i),d>3&&Ir(e,t,3,o),d>4&&Ir(e,t,4,s),d>5&&Ir(e,t,5,a),d>6&&Ir(e,t,6,l),d>7&&Ir(e,t,7,u),d>8&&Ir(e,t,8,c),d>9&&Ir(e,t,9,h)}(e,t,r,i,o,s,a,l,u,c,h,d):function(e,t,n){for(var r=0;r<n.length;r++)Ir(e,t,r,n[r])}(e,t,r),!1}function xo(e,t){if(lr(e,t.nodeIndex).dirty)throw cr(ur.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function Ao(e){if(!(128&e.state)){if(Do(e,_o.Destroy),So(e,_o.Destroy),Ki(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=Sr(e);if(t){var n=t.template._projectedViews;n&&(hi(n,n.indexOf(e)),ur.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(or(e,n).renderElement):2&r.flags?e.renderer.destroyNode(ir(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&lr(e,n).destroy()}}(e),kr(e)&&e.renderer.destroy(),e.state|=128}}var _o=function(e){return e[e.CreateViewNodes=0]="CreateViewNodes",e[e.CheckNoChanges=1]="CheckNoChanges",e[e.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate=3]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",e[e.Destroy=5]="Destroy",e}({});function So(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?To(or(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Do(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=or(e,r).viewContainer._embeddedViews,s=0;s<o.length;s++)To(o[s],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function To(e,t){var n=e.state;switch(t){case _o.CheckNoChanges:0==(128&n)&&(12==(12&n)?yo(e):64&n&&ko(e,_o.CheckNoChangesProjectedViews));break;case _o.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?yo(e):64&n&&ko(e,t));break;case _o.CheckAndUpdate:0==(128&n)&&(12==(12&n)?bo(e):64&n&&ko(e,_o.CheckAndUpdateProjectedViews));break;case _o.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?bo(e):64&n&&ko(e,t));break;case _o.Destroy:Ao(e);break;case _o.CreateViewNodes:vo(e)}}function ko(e,t){Do(e,t),So(e,t)}function No(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,o=0;o<i;o++){var s=e.def.nodes[o];if(s.flags&t&&s.flags&n)switch(ur.setCurrentNode(e,s.nodeIndex),r){case 0:to(e,s);break;case 1:xo(e,s)}s.childFlags&t&&s.childFlags&n||(o+=s.childCount)}}var Po=!1;function Mo(e,t,n,r,i,o){var s=i.injector.get(Ne);return po(Eo(e,i,s,t,n),r,o)}function Oo(e,t,n,r,i,o){var s=i.injector.get(Ne),a=Eo(e,i,new ds(s),t,n),l=Wo(r);return cs($o.create,po,null,[a,l,o])}function Eo(e,t,n,r,i){var o=t.injector.get(je),s=t.injector.get(_t),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function jo(e,t,n,r){var i=Wo(n);return cs($o.create,ho,null,[e,t,i,r])}function Ro(e,t,n,r){return n=Bo.get(t.element.componentProvider.provider.token)||Wo(n),cs($o.create,fo,null,[e,t,n,r])}function Lo(e,t,n,r){return Di(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===zo.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var r=zo.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)}),e.modules.forEach(function(e){Fo.forEach(function(r,i){f(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var r=e.providers[t];n&&(r.flags|=4096);var i=zo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Or(i.deps),r.value=i.value)}if(Fo.size>0){var o=new Set(e.modules);Fo.forEach(function(t,r){if(o.has(f(r).providedIn)){var i={token:r,flags:t.flags|(n?4096:0),deps:Or(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[gr(r)]=i}})}}(e=e.factory(function(){return pr})),e):e}(r))}var zo=new Map,Fo=new Map,Bo=new Map;function Go(e){var t;zo.set(e.token,e),"function"==typeof e.token&&(t=f(e.token))&&"function"==typeof t.providedIn&&Fo.set(e.token,e)}function Uo(e,t){var n=Rr(t.viewDefFactory),r=Rr(n.nodes[0].element.componentView);Bo.set(e,r)}function Zo(){zo.clear(),Fo.clear(),Bo.clear()}function Wo(e){if(0===zo.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&zo.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return pr});for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=zo.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Or(o.deps),i.value=o.value)}}}}function Vo(e,t,n,r,i,o,s,a,l,u,c,h,d){var p=e.def.nodes[t];return wo(e,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?ar(e,t).value:void 0}function Yo(e,t,n,r,i,o,s,a,l,u,c,h,d){var p=e.def.nodes[t];return Io(e,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?ar(e,t).value:void 0}function Ho(e){return cs($o.detectChanges,bo,null,[e])}function qo(e){return cs($o.checkNoChanges,yo,null,[e])}function Xo(e){return cs($o.destroy,Ao,null,[e])}var Ko,Jo,Qo,$o=function(e){return e[e.create=0]="create",e[e.detectChanges=1]="detectChanges",e[e.checkNoChanges=2]="checkNoChanges",e[e.destroy=3]="destroy",e[e.handleEvent=4]="handleEvent",e}({});function es(e,t){Jo=e,Qo=t}function ts(e,t,n,r){return es(e,t),cs($o.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function ns(e,t){if(128&e.state)throw dr($o[Ko]);return es(e,ss(e,0)),e.def.updateDirectives(function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=e.def.nodes[n];return 0===t?is(e,s,r,i):os(e,s,r,i),16384&s.flags&&es(e,ss(e,n)),224&s.flags?ar(e,s.nodeIndex).value:void 0},e)}function rs(e,t){if(128&e.state)throw dr($o[Ko]);return es(e,as(e,0)),e.def.updateRenderer(function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=e.def.nodes[n];return 0===t?is(e,s,r,i):os(e,s,r,i),3&s.flags&&es(e,as(e,n)),224&s.flags?ar(e,s.nodeIndex).value:void 0},e)}function is(e,t,n,i){if(wo.apply(void 0,Object(r.g)([e,t,n],i))){var o=1===n?i[0]:i;if(16384&t.flags){for(var s={},a=0;a<t.bindings.length;a++){var l=t.bindings[a],u=o[a];8&l.flags&&(s[(p=l.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(W,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()}))]=V(u))}var c=t.parent,h=or(e,c.nodeIndex).renderElement;if(c.element.name)for(var d in s)null!=(u=s[d])?e.renderer.setAttribute(h,d,u):e.renderer.removeAttribute(h,d);else e.renderer.setValue(h,"bindings="+JSON.stringify(s,null,2))}}var p}function os(e,t,n,i){Io.apply(void 0,Object(r.g)([e,t,n],i))}function ss(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function as(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ls=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,r=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Dr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return or(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return Ii(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){us(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&us(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!kr(e);)e=e.parent;return e.parent?or(e.parent,Dr(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Tr(this.view,this.nodeDef):Tr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var s=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(t,n),a=-1;t.factory(function(){var t;return++a===s?(t=e.error).bind.apply(t,Object(r.g)([e],i)):pr}),a<s&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,Object(r.g)(i)))},e}();function us(e,t,n){for(var r in t.references)n[r]=ro(e,t,t.references[r])}function cs(e,t,n,r){var i=Ko,o=Jo,s=Qo;try{Ko=e;var a=t.apply(n,r);return Jo=o,Qo=s,Ko=i,a}catch(l){if(It(l)||!Jo)throw l;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),hr(e,t),e}(l,hs())}}function hs(){return Jo?new ls(Jo,Qo):null}var ds=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new ps(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),ps=function(){function e(e){this.delegate=e,this.debugContextFactory=hs,this.data=this.delegate.data}return e.prototype.createDebugContext=function(e){return this.debugContextFactory(e)},e.prototype.destroyNode=function(e){!function(e){Mn.delete(e.nativeNode)}(On(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new kn(n,null,r);i.name=e,En(i)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&En(new Tn(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&En(new Tn(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=On(e),r=On(t);n&&r&&n instanceof kn&&n.addChild(r),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var r=On(e),i=On(t),o=On(n);r&&i&&r instanceof kn&&r.insertBefore(o,i),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=On(e),r=On(t);n&&r&&n instanceof kn&&n.removeChild(r),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e,t){var n=this.delegate.selectRootElement(e,t),r=hs();return r&&En(new kn(n,null,r)),n},e.prototype.setAttribute=function(e,t,n,r){var i=On(e);i&&i instanceof kn&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)},e.prototype.removeAttribute=function(e,t,n){var r=On(e);r&&r instanceof kn&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=On(e);n&&n instanceof kn&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=On(e);n&&n instanceof kn&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,r){var i=On(e);i&&i instanceof kn&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)},e.prototype.removeStyle=function(e,t,n){var r=On(e);r&&r instanceof kn&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var r=On(e);r&&r instanceof kn&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var r=On(e);r&&r.listeners.push(new Dn(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}();function fs(e,t,n){return new gs(e,t,n)}var gs=function(e){function t(t,n,r){var i=e.call(this)||this;return i.moduleType=t,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.c)(t,e),t.prototype.create=function(e){!function(){if(!Po){Po=!0;var e=Be()?{setCurrentNode:es,createRootView:Oo,createEmbeddedView:jo,createComponentView:Ro,createNgModuleRef:Lo,overrideProvider:Go,overrideComponentView:Uo,clearOverrides:Zo,checkAndUpdateView:Ho,checkNoChangesView:qo,destroyView:Xo,createDebugContext:function(e,t){return new ls(e,t)},handleEvent:ts,updateDirectives:ns,updateRenderer:rs}:{setCurrentNode:function(){},createRootView:Mo,createEmbeddedView:ho,createComponentView:fo,createNgModuleRef:Di,overrideProvider:pr,overrideComponentView:pr,clearOverrides:pr,checkAndUpdateView:bo,checkNoChangesView:yo,destroyView:Ao,createDebugContext:function(e,t){return new ls(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Vo:Yo,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Vo:Yo,e)}};ur.setCurrentNode=e.setCurrentNode,ur.createRootView=e.createRootView,ur.createEmbeddedView=e.createEmbeddedView,ur.createComponentView=e.createComponentView,ur.createNgModuleRef=e.createNgModuleRef,ur.overrideProvider=e.overrideProvider,ur.overrideComponentView=e.overrideComponentView,ur.clearOverrides=e.clearOverrides,ur.checkAndUpdateView=e.checkAndUpdateView,ur.checkNoChangesView=e.checkNoChangesView,ur.destroyView=e.destroyView,ur.resolveDep=Hi,ur.createDebugContext=e.createDebugContext,ur.handleEvent=e.handleEvent,ur.updateDirectives=e.updateDirectives,ur.updateRenderer=e.updateRenderer,ur.dirtyParentQueries=eo}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Rr(this._ngModuleDefFactory));return ur.createNgModuleRef(this.moduleType,e||ne.NULL,this._bootstrapComponents,t)},t}(Se)}).call(this,n("yLpj"))},DFRf:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n("uoVZ"),o=n("hde3"),s=n("oL6p"),a=n("Gz0x");t.createVSCodeApi=function(e){const t=()=>{throw new Error("unsupported")},n=o.default;class l{constructor(e){this.value=e,this.contains=t,this.intersects=t}append(e){return new l(this.value?this.value+l.sep+e:e)}}function u(t,n,...r){if("string"!=typeof n)throw new Error("unexpected message: "+JSON.stringify(n));const i=n;if(void 0!==r&&!Array.isArray(r))throw new Error("unexpected actions: "+JSON.stringify(r));const o=r||[],{window:s}=e();return s?s.showMessage(t,i,...o):Promise.resolve(void 0)}return l.sep=".",l.Empty=new l(""),l.QuickFix=new l("quickfix"),l.Refactor=new l("refactor"),l.RefactorExtract=l.Refactor.append("extract"),l.RefactorInline=l.Refactor.append("inline"),l.RefactorRewrite=l.Refactor.append("rewrite"),l.Source=new l("source"),l.SourceOrganizeImports=l.Source.append("organizeImports"),l.SourceFixAll=l.Source.append("fixAll"),{workspace:{createFileSystemWatcher(t,n,r,i){const o=e();if("string"!=typeof t)throw new Error("unsupported");if(o.workspace.createFileSystemWatcher){const e=o.workspace.createFileSystemWatcher(t,n,r,i);return Object.assign(e,{ignoreCreateEvents:!!n,ignoreChangeEvents:!!r,ignoreDeleteEvents:!!i})}return{ignoreCreateEvents:!!n,ignoreChangeEvents:!!r,ignoreDeleteEvents:!!i,onDidCreate:a.Event.None,onDidChange:a.Event.None,onDidDelete:a.Event.None,dispose:()=>{}}},applyEdit:t=>r(this,void 0,void 0,function*(){const n=e();if(a.WorkspaceEdit.is(t))return n.workspace.applyEdit(t);throw new Error("unsupported")}),getConfiguration(n,r){const{workspace:i}=e(),o=i.configurations?i.configurations.getConfiguration(n,r?r.toString():void 0):void 0;return Object.assign({get:(e,t)=>o?o.get(e,t):t,has:e=>!!o&&o.has(e),inspect:t,update:t},{toJSON:()=>o?o.toJSON():void 0})},get onDidChangeConfiguration(){const t=e();return t.workspace.configurations?t.workspace.configurations.onDidChangeConfiguration:a.Event.None},get workspaceFolders(){const t=e();if("workspaceFolders"in t.workspace)return t.workspace.workspaceFolders;const r=t.workspace.rootUri;if(!r)return;const i=n.parse(r);return[{uri:i,index:0,name:i.toString()}]},get onDidChangeWorkspaceFolders(){return e().workspace.onDidChangeWorkspaceFolders||a.Event.None},get textDocuments(){return e().workspace.textDocuments},get onDidOpenTextDocument(){return e().workspace.onDidOpenTextDocument},get onDidCloseTextDocument(){return e().workspace.onDidCloseTextDocument},get onDidChangeTextDocument(){const t=e();return(e,n,r)=>t.workspace.onDidChangeTextDocument(({textDocument:t,contentChanges:r})=>{e.bind(n)({document:t,contentChanges:r})},void 0,r)},get onWillSaveTextDocument(){const t=e().workspace.onWillSaveTextDocument;return t?(e,n,r)=>t(({textDocument:t,reason:r,waitUntil:i})=>{e.bind(n)({document:t,reason:r,waitUntil:e=>{i&&i(e)}})},void 0,r):a.Event.None},get onDidSaveTextDocument(){return e().workspace.onDidSaveTextDocument||a.Event.None},getWorkspaceFolder:t,asRelativePath:t,updateWorkspaceFolders:t,findFiles:t,saveAll:t,openTextDocument:t,registerTextDocumentContentProvider:t,registerTaskProvider:t,registerFileSystemProvider:t,rootPath:void 0,name:void 0},languages:{match(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));if(!a.DocumentIdentifier.is(n))throw new Error("unexpected document: "+JSON.stringify(n));return e().languages.match(t,n)?1:0},createDiagnosticCollection(n){const r=e(),i=r.languages.createDiagnosticCollection?r.languages.createDiagnosticCollection(n):void 0;return{name:n||"default",set(e,t){i&&i.set(e.toString(),t||[])},dispose(){i&&i.dispose()},delete:t,clear:t,forEach:t,get:t,has:t}},registerCompletionItemProvider(t,n,...r){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:i}=e();if(!i.registerCompletionItemProvider)return s.Disposable.create(()=>{});const o=n.resolveCompletionItem;return i.registerCompletionItemProvider(t,{provideCompletionItems:({textDocument:e,position:t,context:r},i)=>n.provideCompletionItems(e,t,i,r||{triggerKind:a.CompletionTriggerKind.Invoked}),resolveCompletionItem:o?(e,t)=>o(e,t):void 0},...r)},registerCodeActionsProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerCodeActionsProvider?r.registerCodeActionsProvider(t,{provideCodeActions:({textDocument:e,range:t,context:r},i)=>n.provideCodeActions(e,t,r,i)}):s.Disposable.create(()=>{})},registerCodeLensProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();if(!r.registerCodeLensProvider)return s.Disposable.create(()=>{});const i=n.resolveCodeLens;return r.registerCodeLensProvider(t,{provideCodeLenses:({textDocument:e},t)=>n.provideCodeLenses(e,t),resolveCodeLens:i?(e,t)=>i(e,t):void 0})},registerDefinitionProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerDefinitionProvider?r.registerDefinitionProvider(t,{provideDefinition:({textDocument:e,position:t},r)=>n.provideDefinition(e,t,r)}):s.Disposable.create(()=>{})},registerImplementationProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerImplementationProvider?r.registerImplementationProvider(t,{provideImplementation:({textDocument:e,position:t},r)=>n.provideImplementation(e,t,r)}):s.Disposable.create(()=>{})},registerTypeDefinitionProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerTypeDefinitionProvider?r.registerTypeDefinitionProvider(t,{provideTypeDefinition:({textDocument:e,position:t},r)=>n.provideTypeDefinition(e,t,r)}):s.Disposable.create(()=>{})},registerDeclarationProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerDeclarationProvider?r.registerDeclarationProvider(t,{provideDeclaration:({textDocument:e,position:t},r)=>n.provideDeclaration(e,t,r)}):s.Disposable.create(()=>{})},registerHoverProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerHoverProvider?r.registerHoverProvider(t,{provideHover:({textDocument:e,position:t},r)=>n.provideHover(e,t,r)}):s.Disposable.create(()=>{})},registerDocumentHighlightProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerDocumentHighlightProvider?r.registerDocumentHighlightProvider(t,{provideDocumentHighlights:({textDocument:e,position:t},r)=>n.provideDocumentHighlights(e,t,r)}):s.Disposable.create(()=>{})},registerDocumentSymbolProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerDocumentSymbolProvider?r.registerDocumentSymbolProvider(t,{provideDocumentSymbols:({textDocument:e},t)=>n.provideDocumentSymbols(e,t)}):s.Disposable.create(()=>{})},registerWorkspaceSymbolProvider(t){const{languages:n}=e();return n.registerWorkspaceSymbolProvider?n.registerWorkspaceSymbolProvider({provideWorkspaceSymbols:({query:e},n)=>t.provideWorkspaceSymbols(e,n)}):s.Disposable.create(()=>{})},registerReferenceProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerReferenceProvider?r.registerReferenceProvider(t,{provideReferences:({textDocument:e,position:t,context:r},i)=>n.provideReferences(e,t,r,i)}):s.Disposable.create(()=>{})},registerRenameProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerRenameProvider?r.registerRenameProvider(t,{provideRenameEdits:({textDocument:e,position:t,newName:r},i)=>n.provideRenameEdits(e,t,r,i)}):s.Disposable.create(()=>{})},registerDocumentFormattingEditProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerDocumentFormattingEditProvider?r.registerDocumentFormattingEditProvider(t,{provideDocumentFormattingEdits:({textDocument:e,options:t},r)=>n.provideDocumentFormattingEdits(e,t,r)}):s.Disposable.create(()=>{})},registerDocumentRangeFormattingEditProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerDocumentRangeFormattingEditProvider?r.registerDocumentRangeFormattingEditProvider(t,{provideDocumentRangeFormattingEdits:({textDocument:e,range:t,options:r},i)=>n.provideDocumentRangeFormattingEdits(e,t,r,i)}):s.Disposable.create(()=>{})},registerOnTypeFormattingEditProvider(t,n,r,...i){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:o}=e();return o.registerOnTypeFormattingEditProvider?o.registerOnTypeFormattingEditProvider(t,{provideOnTypeFormattingEdits:({textDocument:e,position:t,ch:r,options:i},o)=>n.provideOnTypeFormattingEdits(e,t,r,i,o)},r,...i):s.Disposable.create(()=>{})},registerSignatureHelpProvider(t,n,r,...i){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:o}=e();if(!o.registerSignatureHelpProvider)return s.Disposable.create(()=>{});let l,u;return"string"==typeof r?l=[r,...i]:r&&(l=r.triggerCharacters,u=r.retriggerCharacters),o.registerSignatureHelpProvider(t,{triggerCharacters:l,retriggerCharacters:u,provideSignatureHelp:({textDocument:e,position:t},r,i)=>n.provideSignatureHelp(e,t,r,i)})},registerDocumentLinkProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();if(!r.registerDocumentLinkProvider)return s.Disposable.create(()=>{});const i=n.resolveDocumentLink;return r.registerDocumentLinkProvider(t,{provideDocumentLinks:({textDocument:e},t)=>n.provideDocumentLinks(e,t),resolveDocumentLink:i?(e,t)=>i(e,t):void 0})},registerColorProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerColorProvider?r.registerColorProvider(t,{provideDocumentColors:({textDocument:e},t)=>n.provideDocumentColors(e,t),provideColorPresentations:({textDocument:e,color:t,range:r},i)=>n.provideColorPresentations(t,{document:e,range:r},i)}):s.Disposable.create(()=>{})},registerFoldingRangeProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerFoldingRangeProvider?r.registerFoldingRangeProvider(t,{provideFoldingRanges:({textDocument:e},t)=>n.provideFoldingRanges(e,{},t)}):s.Disposable.create(()=>{})},registerSelectionRangeProvider(t,n){if(!a.isDocumentSelector(t))throw new Error("unexpected selector: "+JSON.stringify(t));const{languages:r}=e();return r.registerSelectionRangeProvider?r.registerSelectionRangeProvider(t,{provideSelectionRanges:({textDocument:e,positions:t},r)=>n.provideSelectionRanges(e,t,r)}):s.Disposable.create(()=>{})},getLanguages:t,setTextDocumentLanguage:t,getDiagnostics:t,setLanguageConfiguration:t,onDidChangeDiagnostics:t},window:{showInformationMessage:u.bind(void 0,a.MessageType.Info),showWarningMessage:u.bind(void 0,a.MessageType.Warning),showErrorMessage:u.bind(void 0,a.MessageType.Error),createOutputChannel(n){const{window:r}=e(),i=r?r.createOutputChannel:void 0,o=i?i.bind(r)(n):void 0;return{name:n,append:o?o.append.bind(o):()=>{},appendLine:o?o.appendLine.bind(o):()=>{},clear:t,show:e=>{if(void 0!==e&&"boolean"!=typeof e)throw new Error("unexpected preserveFocus argument: "+JSON.stringify(e,void 0,4));return o?o.show(e):()=>{}},hide:t,dispose:o?o.dispose.bind(o):()=>{}}},withProgress:(t,n)=>{const{window:r}=e();return r&&r.withProgress?r.withProgress(t,n):n({report:()=>{}},(new i.CancellationTokenSource).token)},showTextDocument:t,createTextEditorDecorationType:t,showQuickPick:t,showWorkspaceFolderPick:t,showOpenDialog:t,showSaveDialog:t,showInputBox:t,createWebviewPanel:t,setStatusBarMessage:t,withScmProgress:t,createStatusBarItem:t,createTerminal:t,registerTreeDataProvider:t,createTreeView:t,registerWebviewPanelSerializer:t,get activeTextEditor(){return t()},get visibleTextEditors(){return t()},onDidChangeActiveTextEditor:t,onDidChangeVisibleTextEditors:t,onDidChangeTextEditorSelection:t,onDidChangeTextEditorVisibleRanges:t,onDidChangeTextEditorOptions:t,onDidChangeTextEditorViewColumn:t,get terminals(){return t()},get activeTerminal(){return t()},onDidChangeActiveTerminal:t,onDidOpenTerminal:t,onDidCloseTerminal:t,get state(){return t()},onDidChangeWindowState:t,createQuickPick:t,createInputBox:t,registerUriHandler:t},commands:{registerCommand(t,n,r){const{commands:i}=e();return i?i.registerCommand(t,n,r):s.Disposable.create(()=>{})},registerTextEditorCommand:t,executeCommand:t,getCommands:t},Uri:n,CompletionItem:class{constructor(e,t){this.label=e,this.kind=t}},CodeLens:class{constructor(e,t){this.range=e,this.command=t}get isResolved(){return!!this.command}},DocumentLink:class{constructor(e,t){this.range=e,this.target=t}},CodeActionKind:l,Disposable:class{constructor(e){this.callOnDispose=e}dispose(){this.callOnDispose()}}}}},DKTb:function(e,t,n){"use strict";function r(e){setTimeout(function(){throw e})}n.d(t,"a",function(){return r})},Dgmx:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("C+6V")),r(n("/7TX")),r(n("i6mb")),r(n("Zoef")),r(n("3/g6")),r(n("Uq9l"))},DrJT:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("K9Ia"),i=n("t/Na"),o=n("CcnG"),s=function(){function e(e){this.http=e,this.emitChangeSource=new r.a,this.changeEmitted$=this.emitChangeSource.asObservable(),this.stepEmit=new r.a,this.stepEmmited$=this.stepEmit.asObservable(),this.pdEmit=new r.a,this.pdEmmited$=this.pdEmit.asObservable(),this.pheEmit=new r.a,this.pheEmmited$=this.pheEmit.asObservable(),this.pOntShowEmit=new r.a,this.pOntShowEmitted$=this.pOntShowEmit.asObservable(),this.eOntShowEmit=new r.a,this.eOntShowEmitted$=this.eOntShowEmit.asObservable(),this.pNodesToDisplayEmit=new r.a,this.pNodesToDisplayEmitted$=this.pNodesToDisplayEmit.asObservable(),this.eNodesToDisplayEmit=new r.a,this.eNodesToDisplayEmitted$=this.eNodesToDisplayEmit.asObservable(),this.owlAddEmit=new r.a,this.owlAddEmitted$=this.owlAddEmit.asObservable(),this.ontNameAddEmit=new r.a,this.ontNameAddEmitted$=this.ontNameAddEmit.asObservable(),this.eOntNameAddEmit=new r.a,this.eOntNameAddEmitted$=this.eOntNameAddEmit.asObservable(),this.httpOptions={headers:new i.g({"Content-Type":"application/json"})}}return e.prototype.sendProject=function(e){this.emitChangeSource.next(e)},e.prototype.stepChange=function(e){this.stepEmit.next(e)},e.prototype.pdChange=function(e){this.pdEmit.next(e)},e.prototype.pheChange=function(e){this.pheEmit.next(e)},e.prototype.pOntShow=function(e){this.pOntShowEmit.next(e)},e.prototype.eOntShow=function(e){this.eOntShowEmit.next(e)},e.prototype.sendPNodes=function(e){this.pNodesToDisplayEmit.next(e)},e.prototype.sendENodes=function(e){this.eNodesToDisplayEmit.next(e)},e.prototype.sendOwlAdd=function(e){this.owlAddEmit.next(e)},e.prototype.sendOntName=function(e){this.ontNameAddEmit.next(e)},e.prototype.sendEOntName=function(e){this.eOntNameAddEmit.next(e)},e.prototype.getAllPhenomenon=function(){for(var e=new Array,t=0,n=this.project.contextDiagram.interfaceList;t<n.length;t++)for(var r=0,i=n[t].phenomenonList;r<i.length;r++)e.push(i[r]);for(var o=0,s=this.project.problemDiagram.referenceList;o<s.length;o++)for(var a=0,l=s[o].phenomenonList;a<l.length;a++)e.push(l[a]);for(var u=0,c=this.project.problemDiagram.constraintList;u<c.length;u++)for(var h=0,d=c[u].phenomenonList;h<d.length;h++)e.push(d[h]);for(var p=0;p<e.length;p++)for(var f=e.length-1;f>p;f--)e[p].no==e[f].no&&e.splice(f,1);return e},e.prototype.getAllRequirementPhenomenon=function(){for(var e=new Array,t=0,n=this.project.problemDiagram.referenceList;t<n.length;t++)for(var r=0,i=n[t].phenomenonList;r<i.length;r++)e.push(i[r]);for(var o=0,s=this.project.problemDiagram.constraintList;o<s.length;o++)for(var a=0,l=s[o].phenomenonList;a<l.length;a++)e.push(l[a]);for(var u=0;u<e.length;u++)for(var c=e.length-1;c>u;c--)e[u].no==e[c].no&&e.splice(c,1);return e},e.prototype.getReference=function(e){for(var t=[],n=0,r=e.problemDiagram.referenceList;n<r.length;n++)for(var i=0,o=r[n].phenomenonList;i<o.length;i++)t.push(o[i]);for(var s=0,a=e.problemDiagram.constraintList;s<a.length;s++)for(var l=0,u=a[s].phenomenonList;l<u.length;l++)t.push(u[l]);for(var c=0;c<t.length;c++)for(var h=t.length-1;h>c;h--)t[c].no==t[h].no&&t.splice(h,1);return t},e.prototype.checkCorrectness=function(e){return this.http.post("http://47.52.116.116:8098/project/checkCorrectness",e,this.httpOptions)},e.prototype.checkCorrectContext=function(e){return this.http.post("http://47.52.116.116:8098/project/checkCorrectContext",e,this.httpOptions)},e.prototype.checkCorrectProblem=function(e){return this.http.post("http://47.52.116.116:8098/project/checkCorrectProblem",e,this.httpOptions)},e.prototype.checkWellFormed=function(e){return this.http.post("http://47.52.116.116:8098/project/checkWellFormed",e,this.httpOptions)},e.prototype.getSubProblemDiagram=function(e){return this.http.post("http://47.52.116.116:8098/project/getSubProblemDiagram",e,this.httpOptions)},e.prototype.getBehIntList=function(e,t){return this.http.post("http://47.52.116.116:8098/project/getBehIntList/"+t,e,this.httpOptions)},e.prototype.getExpIntList=function(e,t){return this.http.post("http://47.52.116.116:8098/project/getExpIntList/"+t,e,this.httpOptions)},e.prototype.getRes=function(e){for(var t=0;t<e.length;t++)if(e[t].errorList.length>0)return!1;return!0},e.prototype.getStrategy=function(e){var t=[];switch(e.split(":")[0]){case"IntegrityError":t.push("If this interaction is unnecessary, you can remove the phenomenon in the problem graph.");break;case"SynTaxError":t.push("Interaction has wrong relationships"),t.push("Behavior order lines can only connect behaviorInteractions,"),t.push("Expected order lines can only connect expectedInteractions,"),t.push("Synchrocity lines can only connect behaviorInteractions and behaviorInteractions,"),t.push("Behavior enable lines can only from behaviorInteractions to expectedInteractions,"),t.push("expected enable lines can only from expectedInteractions to behaviorInteractions,");break;case"SemanticError":t.push("Strategy:Introducing New Problem"),t.push("When a scenario sce has undetermined expected interaction intR, after introducing a new domain d(i), the problem description p = {M,DS,IS,RS,SS}, where RS = {req1, req2, ~, reqN}, SS = {sce1, sce2, ~, sceN}, can be elaborated using the follwing steps:"),t.push("1. Introduce a domain d into DS; that is, DS=DS U(d). Then, two strategies can be adopted for accomplishing the model building. One is introducing a biddable domain b(d) as the model builder, which results in another new domain to be added in DS, i.e., DS=DS_[b(d). The other is developing an automatic model builder whose functionality needs to be included in the model building requirement."),t.push("2. Identify new phenomena and interactions involving o(d) and other new domains. Add them into IS."),t.push("3. Add a new requirement req(N+1)={building domain d} to RS, i.e., RS=RS U[req(n+1)]. Then, there is a refinement relationship between req(i) and req(n+1) that is, refinement(req(i), req(n+1))."),t.push("Construct scenario sce(n+1) for req(n+1), SS=SS U{sce(n+1)}. For each scenario involving intR, update it so that intR can be determined uniformly.");break;case"StateError":t.push("Strategy:Introducing Model Domain"),t.push("When a model domain o(d)(o(d) represents the model domain of d) is introduced to separate the two concerns of the same domain, the problem description p = {M,DS,IS,RS,SS},where RS = {req1,req2,\u2026,reqN}, SS = {sce1,sce2,\u2026,sceN}, can be elaborated using the follwing steps:"),t.push("1. Introduce a domain o(d) into DS; that is, DS=DS U {o(d)}. Then, two strategies can be adopted for accomplishing the model building. One is introducing a biddable domain b(d) as the model builder, which results in another new domain to be added in DS, i.e., DS=DS U {b(d)}.The other is developing an automatic model builder whose functionality needs to be included in the model building requirement."),t.push("2. Identify new phenomena and interactions involving o(d) and other new domains. Add them into IS;delete interations involving d in IS;IS=IS U {int[O(d)/d]}/int"),t.push("3. Split the original requirements into two separates sub-requirements,RS=RS U {req(n+1)}\uff0cwhere req(n+1) is for building o(d). Suppose req(i) \u2208 RS is the requirement accomplishing original requirements using o(d).Therefore,there is a refinement relationship between req(i) and req(n+1), i.e., refinement(req(i), req(n+1))."),t.push("4.According to these two requirements sets,do the following:"),t.push("a)Construct a new scenario sce(n+1),which is for realizing requirement req(n+1);"),t.push("b)Update the scenaior set involving sce(i), using new interations to replace old interaction to accomplish the original functions with o(d)."),t.push("Notice:"),t.push("1.IS=IS U {int[O(d)/d]}/int representing replacing d with o(d) in int. ")}return t},e.ngInjectableDef=o.S({factory:function(){return new e(o.W(i.c))},token:e,providedIn:"root"}),e}()},EVdn:function(e,t,n){var r;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,h=o.indexOf,d={},p=d.toString,f=d.hasOwnProperty,g=f.toString,m=g.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,nonce:!0,noModule:!0};function C(e,t,n){var r,i,o=(n=n||s).createElement("script");if(o.text=e,t)for(r in w)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function I(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[p.call(e)]||"object":typeof e}var x=function(e,t){return new x.fn.init(e,t)},A=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function _(e){var t=!!e&&"length"in e&&e.length,n=I(e);return!y(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:"3.4.1",constructor:x,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(u&&r&&(x.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||x.isPlainObject(n)?n:{},i=!1,s[t]=x.extend(u,o,r)):void 0!==r&&(s[t]=r));return s},x.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e)||(t=a(e))&&("function"!=typeof(n=f.call(t,"constructor")&&t.constructor)||g.call(n)!==m))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){C(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(_(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(A,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(_(Object(e))?x.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(_(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return u.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){d["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,n,r,i,o,s,a,l,u,c,h,d,p,f,g,m,v,y,b,w="sizzle"+1*new Date,C=e.document,I=0,x=0,A=le(),_=le(),S=le(),D=le(),T=function(e,t){return e===t&&(h=!0),0},k={}.hasOwnProperty,N=[],P=N.pop,M=N.push,O=N.push,E=N.slice,j=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",z="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+L+"*("+z+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+L+"*\\]",B=":("+z+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",G=new RegExp(L+"+","g"),U=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),Z=new RegExp("^"+L+"*,"+L+"*"),W=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),V=new RegExp(L+"|>"),Y=new RegExp(B),H=new RegExp("^"+z+"$"),q={ID:new RegExp("^#("+z+")"),CLASS:new RegExp("^\\.("+z+")"),TAG:new RegExp("^("+z+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},se=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{O.apply(N=E.call(C.childNodes),C.childNodes)}catch(_e){O={apply:N.length?function(e,t){M.apply(e,E.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var o,a,u,c,h,f,v,y=t&&t.ownerDocument,I=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==I&&9!==I&&11!==I)return r;if(!i&&((t?t.ownerDocument||t:C)!==p&&d(t),t=t||p,g)){if(11!==I&&(h=$.exec(e)))if(o=h[1]){if(9===I){if(!(u=t.getElementById(o)))return r;if(u.id===o)return r.push(u),r}else if(y&&(u=y.getElementById(o))&&b(t,u)&&u.id===o)return r.push(u),r}else{if(h[2])return O.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!D[e+" "]&&(!m||!m.test(e))&&(1!==I||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===I&&V.test(e)){for((c=t.getAttribute("id"))?c=c.replace(re,ie):t.setAttribute("id",c=w),a=(f=s(e)).length;a--;)f[a]="#"+c+" "+be(f[a]);v=f.join(","),y=ee.test(e)&&ve(t.parentNode)||t}try{return O.apply(r,y.querySelectorAll(v)),r}catch(x){D(e,!0)}finally{c===w&&t.removeAttribute("id")}}}return l(e.replace(U,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ue(e){return e[w]=!0,e}function ce(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(_e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ue(function(t){return t=+t,ue(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!X.test(e.namespaceURI||t&&t.nodeName||"HTML")},d=ae.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:C;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,g=!o(p),C!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ce(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(p.getElementsByClassName),n.getById=ce(function(e){return f.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=Q.test(p.querySelectorAll))&&(ce(function(e){f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Q.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ce(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(f.compareDocumentPosition),b=t||Q.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===C&&b(C,e)?-1:t===p||t.ownerDocument===C&&b(C,t)?1:c?j(c,e)-j(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:c?j(c,e)-j(c,t):0;if(i===o)return de(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?de(s[r],a[r]):s[r]===C?-1:a[r]===C?1:0},p):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),n.matchesSelector&&g&&!D[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(_e){D(t,!0)}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&k.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(re,ie)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(T),h){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=ae.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ae.selectors={cacheLength:50,createPseudo:ue,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=A[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&A(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(G," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,p,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(b=(p=(u=(c=(h=(d=m)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===I&&u[1])&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===t){c[e]=[I,p,b];break}}else if(y&&(b=p=(u=(c=(h=(d=t)[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===I&&u[1]),!1===b)for(;(d=++p&&d&&d[g]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(h=d[w]||(d[w]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[I,b]),d!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=j(e,o[s])]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ue(function(e){var t=[],n=[],r=a(e.replace(U,"$1"));return r[w]?ue(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:ue(function(e){return function(t){return ae(e,t).length>0}}),contains:ue(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:ue(function(e){return H.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,n){return[n<0?n+t:n]}),even:me(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:me(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:me(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:me(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function we(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=x++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var u,c,h,d=[I,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(c=(h=t[w]||(t[w]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[o])&&u[0]===I&&u[1]===a)return d[2]=u[2];if(c[o]=d,d[2]=e(t,n,l))return!0}return!1}}function Ce(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Ie(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),u&&t.push(a)));return s}function xe(e,t,n,r,i,o){return r&&!r[w]&&(r=xe(r)),i&&!i[w]&&(i=xe(i,o)),ue(function(o,s,a,l){var u,c,h,d=[],p=[],f=s.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:Ie(g,d,e,a,l),v=n?i||(o?e:f||r)?[]:s:m;if(n&&n(m,v,a,l),r)for(u=Ie(v,p),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[p[c]]=!(m[p[c]]=h));if(o){if(i||e){if(i){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(m[c]=h);i(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=i?j(o,h):d[c])>-1&&(o[u]=!(s[u]=h))}}else v=Ie(v===s?v.splice(f,v.length):v),i?i(null,s,v,l):O.apply(s,v)})}function Ae(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,c=we(function(e){return e===t},a,!0),h=we(function(e){return j(t,e)>-1},a,!0),d=[function(e,n,r){var i=!s&&(r||n!==u)||((t=n).nodeType?c(e,n,r):h(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])d=[we(Ce(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return xe(l>1&&Ce(d),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(U,"$1"),n,l<i&&Ae(e.slice(l,i)),i<o&&Ae(e=e.slice(i)),i<o&&be(e))}d.push(n)}return Ce(d)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,s=ae.tokenize=function(e,t){var n,i,o,s,a,l,u,c=_[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=r.preFilter;a;){for(s in n&&!(i=Z.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=W.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(U," ")}),a=a.slice(n.length)),r.filter)!(i=q[s].exec(a))||u[s]&&!(i=u[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):_(e,l).slice(0)},a=ae.compile=function(e,t){var n,i=[],o=[],a=S[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Ae(t[n]))[w]?i.push(a):o.push(a);(a=S(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,l,c){var h,f,m,v=0,y="0",b=o&&[],w=[],C=u,x=o||i&&r.find.TAG("*",c),A=I+=null==C?1:Math.random()||.1,_=x.length;for(c&&(u=s===p||s||c);y!==_&&null!=(h=x[y]);y++){if(i&&h){for(f=0,s||h.ownerDocument===p||(d(h),a=!g);m=e[f++];)if(m(h,s||p,a)){l.push(h);break}c&&(I=A)}n&&((h=!m&&h)&&v--,o&&b.push(h))}if(v+=y,n&&y!==v){for(f=0;m=t[f++];)m(b,w,s,a);if(o){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=P.call(l));w=Ie(w)}O.apply(l,w),c&&!o&&w.length>0&&v+t.length>1&&ae.uniqueSort(l)}return c&&(I=A,u=C),b};return n?ue(o):o}(o,i))).selector=e}return a},l=ae.select=function(e,t,n,i){var o,l,u,c,h,d="function"==typeof e&&e,p=!i&&s(e=d.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=q.needsContext.test(e)?0:l.length;o--&&!r.relative[c=(u=l[o]).type];)if((h=r.find[c])&&(i=h(u.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=i.length&&be(l)))return O.apply(n,i),n;break}}return(d||a(e,p))(i,t,!g,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!h,d(),n.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||he(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ae}(n);x.find=S,x.expr=S.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=S.uniqueSort,x.text=S.getText,x.isXMLDoc=S.isXML,x.contains=S.contains,x.escapeSelector=S.escape;var D=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=x.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,t,n){return y(t)?x.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?x.grep(e,function(e){return e===t!==n}):"string"!=typeof t?x.grep(e,function(e){return h.call(t,e)>-1!==n}):x.filter(t,e,n)}x.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},x.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<r;t++)if(x.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)x.find(e,i[t],n);return r>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&k.test(e)?x(e):e||[],!1).length}});var O,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||O,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:E.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(x.merge(this,x.parseHTML(r[1],(t=t instanceof x?t[0]:t)&&t.nodeType?t.ownerDocument||t:s,!0)),P.test(r[1])&&x.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=s.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,O=x(s);var j=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!=typeof e&&x(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(x(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return D(e,"parentNode")},parentsUntil:function(e,t,n){return D(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return D(e,"nextSibling")},prevAll:function(e){return D(e,"previousSibling")},nextUntil:function(e,t,n){return D(e,"nextSibling",n)},prevUntil:function(e,t,n){return D(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(N(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(R[e]||x.uniqueSort(i),j.test(e)&&i.reverse()),this.pushStack(i)}});var z=/[^\x20\t\r\n\f]+/g;function F(e){return e}function B(e){throw e}function G(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(z)||[],function(e,n){t[n]=!0}),t}(e):x.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){x.each(n,function(n,r){y(r)?e.unique&&u.has(r)||o.push(r):r&&r.length&&"string"!==I(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return x.each(arguments,function(e,t){for(var n;(n=x.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?x.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,r,i){var o=0;function s(e,t,r,i){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(e<o)){if((n=r.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");y(u=n&&("object"==typeof n||"function"==typeof n)&&n.then)?i?u.call(n,s(o,t,F,i),s(o,t,B,i)):u.call(n,s(++o,t,F,i),s(o,t,B,i),s(o,t,F,t.notifyWith)):(r!==F&&(a=void 0,l=[n]),(i||t.resolveWith)(a,l))}},c=i?u:function(){try{u()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,c.stackTrace),e+1>=o&&(r!==B&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?c():(x.Deferred.getStackHook&&(c.stackTrace=x.Deferred.getStackHook()),n.setTimeout(c))}}return x.Deferred(function(n){t[0][3].add(s(0,n,y(i)?i:F,n.notifyWith)),t[1][3].add(s(0,n,y(e)?e:F)),t[2][3].add(s(0,n,y(r)?r:B))}).promise()},promise:function(e){return null!=e?x.extend(e,i):i}},o={};return x.each(t,function(e,n){var s=n[2],a=n[5];i[n[1]]=s.add,a&&s.add(function(){r=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=l.call(arguments),o=x.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(G(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)G(i[n],s(n),o.reject);return o.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&U.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){n.setTimeout(function(){throw e})};var Z=x.Deferred();function W(){s.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),x.ready()}x.fn.ready=function(e){return Z.then(e).catch(function(e){x.readyException(e)}),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||Z.resolveWith(s,[x]))}}),x.ready.then=Z.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(x.ready):(s.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var V=function(e,t,n,r,i,o,s){var a=0,l=e.length,u=null==n;if("object"===I(n))for(a in i=!0,n)V(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,y(r)||(s=!0),u&&(s?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(x(e),n)})),t))for(;a<l;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:u?t.call(e):l?t(e[0],n):o},Y=/^-ms-/,H=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function X(e){return e.replace(Y,"ms-").replace(H,q)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=x.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(z)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||x.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var Q=new J,$=new J,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(i){}$.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return $.hasData(e)||Q.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=$.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=X(r.slice(5)),ne(o,r,i[r]));Q.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){$.set(this,e)}):V(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=$.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each(function(){$.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){$.remove(this,e)})}}),x.extend({queue:function(e,t,n){var r;if(e)return r=Q.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=Q.access(e,t,x.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=x.queue(e,t=t||"fx"),r=n.length,i=n.shift(),o=x._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){x.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:x.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=s.documentElement,ae=function(e){return x.contains(e.ownerDocument,e)},le={composed:!0};se.getRootNode&&(ae=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ue=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===x.css(e,"display")},ce=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=s[o];return i};function he(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return x.css(e,t,"")},l=a(),u=n&&n[3]||(x.cssNumber[t]?"":"px"),c=e.nodeType&&(x.cssNumber[t]||"px"!==u&&+l)&&ie.exec(x.css(e,t));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;s--;)x.style(e,t,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;x.style(e,t,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}var de={};function pe(e){var t,n=e.ownerDocument,r=e.nodeName,i=de[r];return i||(t=n.body.appendChild(n.createElement(r)),i=x.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),de[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Q.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ue(r)&&(i[o]=pe(r))):"none"!==n&&(i[o]="none",Q.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}x.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ue(this)?x(this).show():x(this).hide()})}});var ge=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?x.merge([e],n):n}function we(e,t){for(var n=0,r=e.length;n<r;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var Ce,Ie,xe=/<|&#?\w+;/;function Ae(e,t,n,r,i){for(var o,s,a,l,u,c,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===I(o))x.merge(d,o.nodeType?[o]:o);else if(xe.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(me.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(l=ye[a]||ye._default)[1]+x.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;x.merge(d,s.childNodes),(s=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(r&&x.inArray(o,r)>-1)i&&i.push(o);else if(u=ae(o),s=be(h.appendChild(o),"script"),u&&we(s),n)for(c=0;o=s[c++];)ve.test(o.type||"")&&n.push(o);return h}Ce=s.createDocumentFragment().appendChild(s.createElement("div")),(Ie=s.createElement("input")).setAttribute("type","radio"),Ie.setAttribute("checked","checked"),Ie.setAttribute("name","t"),Ce.appendChild(Ie),v.checkClone=Ce.cloneNode(!0).cloneNode(!0).lastChild.checked,Ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Ce.cloneNode(!0).lastChild.defaultValue;var _e=/^key/,Se=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,De=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function ke(){return!1}function Ne(e,t){return e===function(){try{return s.activeElement}catch(e){}}()==("focus"===t)}function Pe(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)Pe(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return x().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),e.each(function(){x.event.add(this,t,i,r,n)})}function Me(e,t,n){n?(Q.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Q.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=l.call(arguments),Q.set(this,t,o),r=n(this,t),this[t](),o!==(i=Q.get(this,t))||r?Q.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(Q.set(this,t,{value:x.event.trigger(x.extend(o[0],x.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Q.get(e,t)&&x.event.add(e,t,Te)}x.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,u,c,h,d,p,f,g,m=Q.get(e);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&x.find.matchesSelector(se,i),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(z)||[""]).length;u--;)p=g=(a=De.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=x.event.special[p]||{},h=x.event.special[p=(i?h.delegateType:h.bindType)||p]||{},c=x.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&x.expr.match.needsContext.test(i),namespace:f.join(".")},o),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,f,s)||e.addEventListener&&e.addEventListener(p,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),x.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,u,c,h,d,p,f,g,m=Q.hasData(e)&&Q.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(z)||[""]).length;u--;)if(p=g=(a=De.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=x.event.special[p]||{},d=l[p=(r?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,m.handle)||x.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)x.event.remove(e,p+t[u],n,r,!0);x.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=x.event.fix(e),l=new Array(arguments.length),u=(Q.get(this,"events")||{})[a.type]||[],c=x.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=x.event.handlers.call(this,a,u),t=0;(i=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(a.result=r)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?x(i,this).index(u)>-1:x.find(i,this,null,[u]).length),s[i]&&o.push(r);o.length&&a.push({elem:u,handlers:o})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&N(t,"input")&&Me(t,"click",Te),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&N(t,"input")&&Me(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&N(t,"input")&&Q.get(t,"click")||N(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Se.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},function(e,t){x.event.special[e]={setup:function(){return Me(this,e,Ne),!1},trigger:function(){return Me(this,e),!0},delegateType:t}}),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||x.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),x.fn.extend({on:function(e,t,n,r){return Pe(this,e,t,n,r)},one:function(e,t,n,r){return Pe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){x.event.remove(this,e,n,t)})}});var Oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Fe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,r,i,o,s,a,l,u;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),s=Q.set(t,o),u=o.events))for(i in delete s.handle,s.events={},u)for(n=0,r=u[i].length;n<r;n++)x.event.add(t,i,u[i][n]);$.hasData(e)&&(a=$.access(e),l=x.extend({},a),$.set(t,l))}}function Ge(e,t,n,r){t=u.apply([],t);var i,o,s,a,l,c,h=0,d=e.length,p=d-1,f=t[0],g=y(f);if(g||d>1&&"string"==typeof f&&!v.checkClone&&je.test(f))return e.each(function(i){var o=e.eq(i);g&&(t[0]=f.call(this,i,o.html())),Ge(o,t,n,r)});if(d&&(o=(i=Ae(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=x.map(be(i,"script"),ze)).length;h<d;h++)l=i,h!==p&&(l=x.clone(l,!0,!0),a&&x.merge(s,be(l,"script"))),n.call(e[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,x.map(s,Fe),h=0;h<a;h++)ve.test((l=s[h]).type||"")&&!Q.access(l,"globalEval")&&x.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&!l.noModule&&x._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):C(l.textContent.replace(Re,""),l,c))}return e}function Ue(e,t,n){for(var r,i=t?x.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||x.cleanData(be(r)),r.parentNode&&(n&&ae(r)&&we(be(r,"script")),r.parentNode.removeChild(r));return e}x.extend({htmlPrefilter:function(e){return e.replace(Oe,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a,l,u,c=e.cloneNode(!0),h=ae(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=be(c),r=0,i=(o=be(e)).length;r<i;r++)a=o[r],"input"===(u=(l=s[r]).nodeName.toLowerCase())&&ge.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||be(e),s=s||be(c),r=0,i=o.length;r<i;r++)Be(o[r],s[r]);else Be(e,c);return(s=be(c,"script")).length>0&&we(s,!h&&be(e,"script")),c},cleanData:function(e){for(var t,n,r,i=x.event.special,o=0;void 0!==(n=e[o]);o++)if(K(n)){if(t=n[Q.expando]){if(t.events)for(r in t.events)i[r]?x.event.remove(n,r):x.removeEvent(n,r,t.handle);n[Q.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Ue(this,e,!0)},remove:function(e){return Ue(this,e)},text:function(e){return V(this,function(e){return void 0===e?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ge(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Ge(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ge(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ge(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return V(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!ye[(me.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ge(this,arguments,function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(be(this)),n&&n.replaceChild(t,this))},e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var n,r=[],i=x(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),x(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}});var Ze=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Ve=new RegExp(oe.join("|"),"i");function Ye(e,t,n){var r,i,o,s,a=e.style;return(n=n||We(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||ae(e)||(s=x.style(e,t)),!v.pixelBoxStyles()&&Ze.test(s)&&Ve.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function He(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(u).appendChild(c);var e=n.getComputedStyle(c);r="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),i=36===t(e.width),c.style.position="absolute",o=12===t(c.offsetWidth/3),se.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var r,i,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,x.extend(v,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var qe=["Webkit","Moz","ms"],Xe=s.createElement("div").style,Ke={};function Je(e){return x.cssProps[e]||Ke[e]||(e in Xe?e:Ke[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=qe.length;n--;)if((e=qe[n]+t)in Xe)return e}(e)||e)}var Qe=/^(none|table(?!-c[ea]).+)/,$e=/^--/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"};function nt(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function rt(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=x.css(e,n+oe[s],!0,i)),r?("content"===n&&(l-=x.css(e,"padding"+oe[s],!0,i)),"margin"!==n&&(l-=x.css(e,"border"+oe[s]+"Width",!0,i))):(l+=x.css(e,"padding"+oe[s],!0,i),"padding"!==n?l+=x.css(e,"border"+oe[s]+"Width",!0,i):a+=x.css(e,"border"+oe[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function it(e,t,n){var r=We(e),i=(!v.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,r),o=i,s=Ye(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ze.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&i||"auto"===s||!parseFloat(s)&&"inline"===x.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===x.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+rt(e,t,n||(i?"border":"content"),o,r,s)+"px"}function ot(e,t,n,r,i){return new ot.prototype.init(e,t,n,r,i)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=X(t),l=$e.test(t),u=e.style;if(l||(t=Je(a)),s=x.cssHooks[t]||x.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=he(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(x.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,o,s,a=X(t);return $e.test(t)||(t=Je(a)),(s=x.cssHooks[t]||x.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Ye(e,t,r)),"normal"===i&&t in tt&&(i=tt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){if(n)return!Qe.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,r):ce(e,et,function(){return it(e,t,r)})},set:function(e,n,r){var i,o=We(e),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===x.css(e,"boxSizing",!1,o),l=r?rt(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-rt(e,t,"border",!1,o)-.5)),l&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),nt(0,n,l)}}}),x.cssHooks.marginLeft=He(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-ce(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(x.cssHooks[e+t].set=nt)}),x.fn.extend({css:function(e,t){return V(this,function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=We(e),i=t.length;s<i;s++)o[t[s]]=x.css(e,t[s],!1,r);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)}}),x.Tween=ot,(ot.prototype={constructor:ot,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,n=ot.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ot.propHooks._default.set(this),this}}).init.prototype=ot.prototype,(ot.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Je(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=ot.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=ot.prototype.init,x.fx.step={};var st,at,lt=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function ct(){at&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ct):n.setTimeout(ct,x.fx.interval),x.fx.tick())}function ht(){return n.setTimeout(function(){st=void 0}),st=Date.now()}function dt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function ft(e,t,n){var r,i,o=0,s=ft.prefilters.length,a=x.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=st||ht(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(r);return a.notifyWith(e,[u,r,n]),r<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||ht(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=x.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,u.opts.specialEasing);o<s;o++)if(r=ft.prefilters[o].call(u,e,c,u.opts))return y(r.stop)&&(x._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return x.map(c,pt,u),y(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}x.Animation=x.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return he(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(z);for(var n,r=0,i=e.length;r<i;r++)(ft.tweeners[n=e[r]]=ft.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,u,c,h="width"in t||"height"in t,d=this,p={},f=e.style,g=e.nodeType&&ue(e),m=Q.get(e,"fxshow");for(r in n.queue||(null==(s=x._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()})})),t)if(lt.test(i=t[r])){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}p[r]=m&&m[r]||x.style(e,r)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(p))for(r in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=m&&m.display)&&(u=Q.get(e,"display")),"none"===(c=x.css(e,"display"))&&(u?c=u:(fe([e],!0),u=e.style.display||u,c=x.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===x.css(e,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(u="none"===(c=f.display)?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=Q.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&fe([e],!0),d.done(function(){for(r in g||fe([e]),Q.remove(e,"fxshow"),p)x.style(e,r,p[r])})),l=pt(g?m[r]:0,r,d),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return x.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ue).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),s=function(){var t=ft(this,x.extend({},e),o);(i||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=x.timers,s=Q.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ut.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||x.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,r,i)}}),x.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),st=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){at||(at=!0,ct())},x.fx.stop=function(){at=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,this.queue(t=t||"fx",function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",v.checkOn=""!==e.value,v.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",v.radioValue="t"===e.value}();var gt,mt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return V(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})}}),x.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(i=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=x.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(z);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||x.find.attr;mt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=mt[s],mt[s]=i,i=null!=n(e,t,r)?s:null,mt[s]=o),i}});var vt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;function bt(e){return(e.match(z)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(z)||[]}x.fn.extend({prop:function(e,t){return V(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})}}),x.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(i=x.propHooks[t=x.propFix[t]||t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(x.propHooks.selected={get:function(e){return null},set:function(e){}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,l=0;if(y(e))return this.each(function(t){x(this).addClass(e.call(this,t,wt(this)))});if((t=Ct(e)).length)for(;n=this[l++];)if(i=wt(n),r=1===n.nodeType&&" "+bt(i)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=bt(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,l=0;if(y(e))return this.each(function(t){x(this).removeClass(e.call(this,t,wt(this)))});if(!arguments.length)return this.attr("class","");if((t=Ct(e)).length)for(;n=this[l++];)if(i=wt(n),r=1===n.nodeType&&" "+bt(i)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=bt(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,wt(this),t),t)}):this.each(function(){var t,i,o,s;if(r)for(i=0,o=x(this),s=Ct(e);t=s[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=wt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+bt(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var It=/\r/g;x.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,x(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(It,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:bt(x.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=x.makeArray(t),s=i.length;s--;)((r=i[s]).selected=x.inArray(x.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},v.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in n;var xt=/^(?:focusinfocus|focusoutblur)$/,At=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,r,i){var o,a,l,u,c,h,d,p,g=[r||s],m=f.call(e,"type")?e.type:e,v=f.call(e,"namespace")?e.namespace.split("."):[];if(a=p=l=r=r||s,3!==r.nodeType&&8!==r.nodeType&&!xt.test(m+x.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(e=e[x.expando]?e:new x.Event(m,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:x.makeArray(t,[e]),d=x.event.special[m]||{},i||!d.trigger||!1!==d.trigger.apply(r,t))){if(!i&&!d.noBubble&&!b(r)){for(xt.test((u=d.delegateType||m)+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(r.ownerDocument||s)&&g.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=g[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?u:d.bindType||m,(h=(Q.get(a,"events")||{})[e.type]&&Q.get(a,"handle"))&&h.apply(a,t),(h=c&&a[c])&&h.apply&&K(a)&&(e.result=h.apply(a,t),!1===e.result&&e.preventDefault());return e.type=m,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),t)||!K(r)||c&&y(r[m])&&!b(r)&&((l=r[c])&&(r[c]=null),x.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,At),r[m](),e.isPropagationStopped()&&p.removeEventListener(m,At),x.event.triggered=void 0,l&&(r[c]=l)),e.result}},simulate:function(e,t,n){var r=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(r,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),v.focusin||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Q.access(r,t);i||r.addEventListener(e,n,!0),Q.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Q.access(r,t)-1;i?Q.access(r,t,i):(r.removeEventListener(e,n,!0),Q.remove(r,t))}}});var _t=n.location,St=Date.now(),Dt=/\?/;x.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(r){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+e),t};var Tt=/\[\]$/,kt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,n,r){var i;if(Array.isArray(t))x.each(t,function(t,i){n||Tt.test(e)?r(e,i):Mt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==I(t))r(e,t);else for(i in t)Mt(e+"["+i+"]",t[i],n,r)}x.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){i(this.name,this.value)});else for(n in e)Mt(n,e[n],t,i);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Pt.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!ge.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Ot=/%20/g,Et=/#.*$/,jt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,zt=/^\/\//,Ft={},Bt={},Gt="*/".concat("*"),Ut=s.createElement("a");function Zt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(z)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Wt(e,t,n,r){var i={},o=e===Bt;function s(a){var l;return i[a]=!0,x.each(e[a]||[],function(e,a){var u=a(t,n,r);return"string"!=typeof u||o||i[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Vt(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}Ut.href=_t.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,x.ajaxSettings),t):Vt(x.ajaxSettings,e)},ajaxPrefilter:Zt(Ft),ajaxTransport:Zt(Bt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var r,i,o,a,l,u,c,h,d,p,f=x.ajaxSetup({},t=t||{}),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?x(g):x.event,v=x.Deferred(),y=x.Callbacks("once memory"),b=f.statusCode||{},w={},C={},I="canceled",A={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Rt.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=C[e.toLowerCase()]=C[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)A.always(e[A.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||I;return r&&r.abort(t),_(0,t),this}};if(v.promise(A),f.url=((e||f.url||_t.href)+"").replace(zt,_t.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(z)||[""],null==f.crossDomain){u=s.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ut.protocol+"//"+Ut.host!=u.protocol+"//"+u.host}catch(S){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=x.param(f.data,f.traditional)),Wt(Ft,f,t,A),c)return A;for(d in(h=x.event&&f.global)&&0==x.active++&&x.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),i=f.url.replace(Et,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ot,"+")):(p=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(Dt.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(jt,"$1"),p=(Dt.test(i)?"&":"?")+"_="+St+++p),f.url=i+p),f.ifModified&&(x.lastModified[i]&&A.setRequestHeader("If-Modified-Since",x.lastModified[i]),x.etag[i]&&A.setRequestHeader("If-None-Match",x.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&A.setRequestHeader("Content-Type",f.contentType),A.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Gt+"; q=0.01":""):f.accepts["*"]),f.headers)A.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(g,A,f)||c))return A.abort();if(I="abort",y.add(f.complete),A.done(f.success),A.fail(f.error),r=Wt(Bt,f,t,A)){if(A.readyState=1,h&&m.trigger("ajaxSend",[A,f]),c)return A;f.async&&f.timeout>0&&(l=n.setTimeout(function(){A.abort("timeout")},f.timeout));try{c=!1,r.send(w,_)}catch(S){if(c)throw S;_(-1,S)}}else _(-1,"No Transport");function _(e,t,s,a){var u,d,p,w,C,I=t;c||(c=!0,l&&n.clearTimeout(l),r=void 0,o=a||"",A.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(w=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,A,s)),w=function(e,t,n,r){var i,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(i in u)if((a=i.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[i]:!0!==u[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(S){return{state:"parsererror",error:s?S:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,w,A,u),u?(f.ifModified&&((C=A.getResponseHeader("Last-Modified"))&&(x.lastModified[i]=C),(C=A.getResponseHeader("etag"))&&(x.etag[i]=C)),204===e||"HEAD"===f.type?I="nocontent":304===e?I="notmodified":(I=w.state,d=w.data,u=!(p=w.error))):(p=I,!e&&I||(I="error",e<0&&(e=0))),A.status=e,A.statusText=(t||I)+"",u?v.resolveWith(g,[d,I,A]):v.rejectWith(g,[A,I,p]),A.statusCode(b),b=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[A,f,u?d:p]),y.fireWith(g,[A,I]),h&&(m.trigger("ajaxComplete",[A,f]),--x.active||x.event.trigger("ajaxStop")))}return A},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:i,data:n,success:r},x.isPlainObject(e)&&e))}}),x._evalUrl=function(e,t){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},Ht=x.ajaxSettings.xhr();v.cors=!!Ht&&"withCredentials"in Ht,v.ajax=Ht=!!Ht,x.ajaxTransport(function(e){var t,r;if(v.cors||Ht&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=r=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Yt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),r=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}}),x.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}});var qt,Xt=[],Kt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||x.expando+"_"+St++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,s,a=!1!==e.jsonp&&(Kt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Kt,"$1"+i):!1!==e.jsonp&&(e.url+=(Dt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){s=arguments},r.always(function(){void 0===o?x(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(i)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((qt=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(r)):t=s),o=!n&&[],(i=P.exec(e))?[t.createElement(i[1])]:(i=Ae([e],t,o),o&&o.length&&x(o).remove(),x.merge([],i.childNodes)));var r,i,o},x.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=bt(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&x.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.expr.pseudos.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length},x.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,u=x.css(e,"position"),c=x(e),h={};"static"===u&&(e.style.position="relative"),a=c.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(r=c.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),y(t)&&(t=t.call(e,n,x.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):c.css(h)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?{top:(t=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===x.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),i.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-x.css(r,"marginTop",!0),left:t.left-i.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||se})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;x.fn[e]=function(r){return V(this,function(e,r,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),x.each(["top","left"],function(e,t){x.cssHooks[t]=He(v.pixelPosition,function(e,n){if(n)return n=Ye(e,t),Ze.test(n)?x(e).position()[t]+"px":n})}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return V(this,function(t,n,i){var o;return b(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?x.css(t,n,a):x.style(t,n,i,a)},t,s?i:void 0,s)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),x.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=l.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||x.guid++,i},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=N,x.isFunction=y,x.isWindow=b,x.camelCase=X,x.type=I,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=(function(){return x}).apply(t,[]))||(e.exports=r);var Jt=n.jQuery,Qt=n.$;return x.noConflict=function(e){return n.$===x&&(n.$=Qt),e&&n.jQuery===x&&(n.jQuery=Jt),x},i||(n.jQuery=n.$=x),x})},"En8+":function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(t,"a",function(){return i});var i=r()},EwVN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ");t.default=class extends r.DocumentLink{constructor(e,t){super(e,t)}}},"F/XL":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("nkY7"),i=n("IUTb"),o=n("G5J1"),s=n("PU8L");function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];switch(Object(r.a)(n)?e.pop():n=void 0,e.length){case 0:return Object(o.b)(n);case 1:return n?Object(i.a)(e,n):Object(s.a)(e[0]);default:return Object(i.a)(e,n)}}},"F/us":function(e,t,n){(function(e,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},o=i._,s=Array.prototype,a=Object.prototype,l="undefined"!=typeof Symbol?Symbol.prototype:null,u=s.push,c=s.slice,h=a.toString,d=a.hasOwnProperty,p=Array.isArray,f=Object.keys,g=Object.create,m=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};t.nodeType?i._=v:(!n.nodeType&&n.exports&&(t=n.exports=v),t._=v),v.VERSION="1.9.1";var y,b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},w=function(e,t,n){return v.iteratee!==y?v.iteratee(e,t):null==e?v.identity:v.isFunction(e)?b(e,t,n):v.isObject(e)&&!v.isArray(e)?v.matcher(e):v.property(e)};v.iteratee=y=function(e,t){return w(e,t,1/0)};var C=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},I=function(e){if(!v.isObject(e))return{};if(g)return g(e);m.prototype=e;var t=new m;return m.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},A=function(e,t){return null!=e&&d.call(e,t)},_=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},S=Math.pow(2,53)-1,D=x("length"),T=function(e){var t=D(e);return"number"==typeof t&&t>=0&&t<=S};v.each=v.forEach=function(e,t,n){var r,i;if(t=b(t,n),T(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=v.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},v.map=v.collect=function(e,t,n){t=w(t,n);for(var r=!T(e)&&v.keys(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o};var k=function(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!T(t)&&v.keys(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var l=o?o[a]:a;r=n(r,t[l],l,t)}return r}(t,b(n,i,4),r,o)}};v.reduce=v.foldl=v.inject=k(1),v.reduceRight=v.foldr=k(-1),v.find=v.detect=function(e,t,n){var r=(T(e)?v.findIndex:v.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},v.filter=v.select=function(e,t,n){var r=[];return t=w(t,n),v.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},v.reject=function(e,t,n){return v.filter(e,v.negate(w(t)),n)},v.every=v.all=function(e,t,n){t=w(t,n);for(var r=!T(e)&&v.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0},v.some=v.any=function(e,t,n){t=w(t,n);for(var r=!T(e)&&v.keys(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,r){return T(e)||(e=v.values(e)),("number"!=typeof n||r)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=C(function(e,t,n){var r,i;return v.isFunction(t)?i=t:v.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),v.map(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=_(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=T(e)?e:v.values(e)).length;a<l;a++)null!=(r=e[a])&&r>o&&(o=r);else t=w(t,n),v.each(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o},v.min=function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,l=(e=T(e)?e:v.values(e)).length;a<l;a++)null!=(r=e[a])&&r<o&&(o=r);else t=w(t,n),v.each(e,function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},v.shuffle=function(e){return v.sample(e,1/0)},v.sample=function(e,t,n){if(null==t||n)return T(e)||(e=v.values(e)),e[v.random(e.length-1)];var r=T(e)?v.clone(e):v.values(e),i=D(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=v.random(s,o),l=r[s];r[s]=r[a],r[a]=l}return r.slice(0,t)},v.sortBy=function(e,t,n){var r=0;return t=w(t,n),v.pluck(v.map(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var N=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=w(r,i),v.each(n,function(t,i){var s=r(t,i,n);e(o,t,s)}),o}};v.groupBy=N(function(e,t,n){A(e,n)?e[n].push(t):e[n]=[t]}),v.indexBy=N(function(e,t,n){e[n]=t}),v.countBy=N(function(e,t,n){A(e,n)?e[n]++:e[n]=1});var P=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(e){return e?v.isArray(e)?c.call(e):v.isString(e)?e.match(P):T(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:T(e)?e.length:v.keys(e).length},v.partition=N(function(e,t,n){e[n?0:1].push(t)},!0),v.first=v.head=v.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,Boolean)};var M=function(e,t,n,r){for(var i=(r=r||[]).length,o=0,s=D(e);o<s;o++){var a=e[o];if(T(a)&&(v.isArray(a)||v.isArguments(a)))if(t)for(var l=0,u=a.length;l<u;)r[i++]=a[l++];else M(a,t,n,r),i=r.length;else n||(r[i++]=a)}return r};v.flatten=function(e,t){return M(e,t,!1)},v.without=C(function(e,t){return v.difference(e,t)}),v.uniq=v.unique=function(e,t,n,r){v.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=w(n,r));for(var i=[],o=[],s=0,a=D(e);s<a;s++){var l=e[s],u=n?n(l,s,e):l;t&&!n?(s&&o===u||i.push(l),o=u):n?v.contains(o,u)||(o.push(u),i.push(l)):v.contains(i,l)||i.push(l)}return i},v.union=C(function(e){return v.uniq(M(e,!0,!0))}),v.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=D(e);r<i;r++){var o=e[r];if(!v.contains(t,o)){var s;for(s=1;s<n&&v.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},v.difference=C(function(e,t){return t=M(t,!0,!0),v.filter(e,function(e){return!v.contains(t,e)})}),v.unzip=function(e){for(var t=e&&v.max(e,D).length||0,n=Array(t),r=0;r<t;r++)n[r]=v.pluck(e,r);return n},v.zip=C(v.unzip),v.object=function(e,t){for(var n={},r=0,i=D(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var O=function(e){return function(t,n,r){n=w(n,r);for(var i=D(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};v.findIndex=O(1),v.findLastIndex=O(-1),v.sortedIndex=function(e,t,n,r){for(var i=(n=w(n,r,1))(t),o=0,s=D(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o};var E=function(e,t,n){return function(r,i,o){var s=0,a=D(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(c.call(r,s,a),v.isNaN))>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(r[o]===i)return o;return-1}};v.indexOf=E(1,v.findIndex,v.sortedIndex),v.lastIndexOf=E(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},v.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(c.call(e,r,r+=t));return n};var j=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=I(e.prototype),s=e.apply(o,i);return v.isObject(s)?s:o};v.bind=C(function(e,t,n){if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var r=C(function(i){return j(e,r,t,this,n.concat(i))});return r}),v.partial=C(function(e,t){var n=v.partial.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return j(e,r,this,this,s)};return r}),v.partial.placeholder=v,v.bindAll=C(function(e,t){var n=(t=M(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=v.bind(e[r],e)}}),v.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return A(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},v.delay=C(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var r,i,o,s,a=0;n||(n={});var l=function(){a=!1===n.leading?0:v.now(),r=null,s=e.apply(i,o),r||(i=o=null)},u=function(){var u=v.now();a||!1!==n.leading||(a=u);var c=t-(u-a);return i=this,o=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),a=u,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u},v.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},s=C(function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,t),a&&(i=e.apply(this,s))}else r=v.delay(o,t,this,s);return i});return s.cancel=function(){clearTimeout(r),r=null},s},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2),v.restArguments=C;var R=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=function(e,t){var n=L.length,r=e.constructor,i=v.isFunction(r)&&r.prototype||a,o="constructor";for(A(e,o)&&!v.contains(t,o)&&t.push(o);n--;)(o=L[n])in e&&e[o]!==i[o]&&!v.contains(t,o)&&t.push(o)};v.keys=function(e){if(!v.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)A(e,n)&&t.push(n);return R&&z(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return R&&z(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},v.mapObject=function(e,t,n){t=w(t,n);for(var r=v.keys(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},v.pairs=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},v.invert=function(e){for(var t={},n=v.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()};var F=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,l=0;l<a;l++){var u=s[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}};v.extend=F(v.allKeys),v.extendOwn=v.assign=F(v.keys),v.findKey=function(e,t,n){t=w(t,n);for(var r,i=v.keys(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r};var B,G,U=function(e,t,n){return t in n};v.pick=C(function(e,t){var n={},r=t[0];if(null==e)return n;v.isFunction(r)?(t.length>1&&(r=b(r,t[1])),t=v.allKeys(e)):(r=U,t=M(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n}),v.omit=C(function(e,t){var n,r=t[0];return v.isFunction(r)?(r=v.negate(r),t.length>1&&(n=t[1])):(t=v.map(M(t,!1,!1),String),r=function(e,n){return!v.contains(t,n)}),v.pick(e,r,n)}),v.defaults=F(v.allKeys,!0),v.create=function(e,t){var n=I(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0},B=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&G(e,t,n,r)},G=function(e,t,n,r){e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(v.isFunction(s)&&s instanceof s&&v.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var u=(n=n||[]).length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!B(e[u],t[u],n,r))return!1}else{var c,d=v.keys(e);if(u=d.length,v.keys(t).length!==u)return!1;for(;u--;)if(!A(t,c=d[u])||!B(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0},v.isEqual=function(e,t){return B(e,t)},v.isEmpty=function(e){return null==e||(T(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=p||function(e){return"[object Array]"===h.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){v["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return A(e,"callee")}),"object"!=typeof Int8Array&&"function"!=typeof(i.document&&i.document.childNodes)&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return!v.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&isNaN(e)},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){if(!v.isArray(t))return A(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!d.call(e,i))return!1;e=e[i]}return!!n},v.noConflict=function(){return i._=o,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=function(e){return v.isArray(e)?function(t){return _(t,e)}:x(e)},v.propertyOf=function(e){return null==e?function(){}:function(t){return v.isArray(t)?_(e,t):e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=v.invert(Z),V=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return r.test(e=null==e?"":""+e)?e.replace(i,t):e}};v.escape=V(Z),v.unescape=V(W),v.result=function(e,t,n){v.isArray(t)||(t=[t]);var r=t.length;if(!r)return v.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=v.isFunction(o)?o.call(e):o}return e};var Y=0;v.uniqueId=function(e){var t=++Y+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,K=function(e){return"\\"+q[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var r,i=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(i,function(t,n,r,i,a){return s+=e.slice(o,a).replace(X,K),o=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(t.variable||"obj","_",s)}catch(l){throw l.source=s,l}var a=function(e){return r.call(this,e,v)};return a.source="function("+(t.variable||"obj")+"){\n"+s+"}",a},v.chain=function(e){var t=v(e);return t._chain=!0,t};var J=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){return v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),J(this,n.apply(v,e))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],J(this,n)}}),v.each(["concat","join","slice"],function(e){var t=s[e];v.prototype[e]=function(){return J(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},void 0===(r=(function(){return v}).apply(t,[]))||(n.exports=r)}()}).call(this,n("yLpj"),n("YuTi")(e))},FFOo:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),s=n("pugT"),a=n("L/V9"),l=n("iLxQ"),u=n("DKTb"),c=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,s._parentSubscription=null,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,n,r,i)}return s}return r.c(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this},t}(s.a),h=function(e){function t(t,n,r,s){var a,l=e.call(this)||this;l._parentSubscriber=t;var u=l;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.a&&(u=Object.create(n),Object(i.a)(u.unsubscribe)&&l.add(u.unsubscribe.bind(u)),u.unsubscribe=l.unsubscribe.bind(l))),l._context=u,l._next=a,l._error=r,l._complete=s,l}return r.c(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=l.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(u.a)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;Object(u.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};l.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),l.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!l.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return l.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c)},FW9y:function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function o(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=o,t.stringArray=function(e){return o(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=function(e){return e&&i(e.then)}},Ff8q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Z5Ki"),i=n("1vg8");var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),e.is=function(t){let n=t;return n&&(n===e.None||n===e.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=t.CancellationToken||(t.CancellationToken={}));const s=Object.freeze(function(e,t){let n=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(n)}}});class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=o.None}}},Fxb1:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),s=n("u67D"),a=n("JcRv"),l=n("2ePl"),u=n("/WYv"),c=n("McSo"),h=n("En8+"),d=n("xTla"),p=function(e){if(e instanceof r.a)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[d.a])return Object(a.a)(e);if(Object(l.a)(e))return Object(i.a)(e);if(Object(u.a)(e))return Object(o.a)(e);if(e&&"function"==typeof e[h.a])return Object(s.a)(e);var t=Object(c.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("6blF"),i=new r.a(function(e){return e.complete()});function o(e){return e?function(e){return new r.a(function(t){return e.schedule(function(){return t.complete()})})}(e):i}},Gaeh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");(t.WorkDoneProgress||(t.WorkDoneProgress={})).type=new r.ProgressType,(t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})).type=new r.RequestType("window/workDoneProgress/create"),(t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={})).type=new r.NotificationType("window/workDoneProgress/cancel")},Gkij:function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))}},Gz0x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("BOov"),i=n("C+6V");t.Disposable=i.Disposable,t.CancellationToken=i.CancellationToken,t.Event=i.Event,t.Emitter=i.Emitter,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("BOov")),function(e){const t=window,n=Symbol("Services");e.get=(()=>{const e=t[n];if(!e)throw new Error("Language Client services has not been installed");return e}),e.install=function(e){return t[n]&&console.error(new Error("Language Client services has been overridden")),t[n]=e,i.Disposable.create(()=>t[n]=void 0)}}(t.Services||(t.Services={})),t.isDocumentSelector=function(e){return!(!e||!Array.isArray(e))&&e.every(e=>"string"==typeof e||r.DocumentFilter.is(e))},t.SignatureHelpTriggerKind=function(e){return e[e.Invoke=1]="Invoke",e[e.TriggerCharacter=2]="TriggerCharacter",e[e.ContentChange=3]="ContentChange",e}(t.SignatureHelpTriggerKind||{}),(t.DocumentIdentifier||(t.DocumentIdentifier={})).is=function(e){return!!e&&"uri"in e&&"languageId"in e},t.ConfigurationTarget=function(e){return e[e.Global=1]="Global",e[e.Workspace=2]="Workspace",e[e.WorkspaceFolder=3]="WorkspaceFolder",e}(t.ConfigurationTarget||{})},H7XF:function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[1];return 3*(t[0]+n)/4-n},t.toByteArray=function(e){var t,n,r=u(e),s=r[0],a=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),c=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o=[],s=t;s<n;s+=3)o.push(r[(i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},I0O9:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("33yf"),i=n("PENG"),o=n("Po9p"),s=n("Po9p"),a=n("K4MX"),l=n("k5Vz");t.generateRandomPipeName=function(){const t=o.randomBytes(21).toString("hex");return"win32"===e.platform?`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`:r.join(i.tmpdir(),`vscode-${t}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{let u=s.createServer(e=>{u.close(),n([new a.SocketMessageReader(e,t),new l.SocketMessageWriter(e,t)])});u.on("error",o),u.listen(e,()=>{u.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new l.SocketMessageWriter(n,t)]}}).call(this,n("8oxB"))},I92I:function(e,t,n){"use strict";var r=function(){return function(){}}();n.d(t,"a",function(){return i});var i=function(){function e(){}return e.getFrame=function(e,t){var n=new r;return n.method=e,n.params=t,n},e}()},IUTb:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function s(e,t){return new r.a(t?function(n){var r=new i.a,o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(e))}},Ip0R:function(e,t,n){"use strict";n.d(t,"q",function(){return v}),n.d(t,"j",function(){return b}),n.d(t,"k",function(){return y}),n.d(t,"r",function(){return w}),n.d(t,"b",function(){return D}),n.d(t,"h",function(){return I}),n.d(t,"i",function(){return A}),n.d(t,"c",function(){return T}),n.d(t,"p",function(){return k}),n.d(t,"o",function(){return P}),n.d(t,"n",function(){return M}),n.d(t,"m",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"g",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return h}),n.d(t,"l",function(){return d}),n.d(t,"f",function(){return u});var r=n("CcnG"),i=n("mrSG"),o=function(){return function(){}}(),s=new r.p("Location Initialized"),a=function(){return function(){}}(),l=new r.p("appBaseHref"),u=function(){function e(e){var n=this;this._subject=new r.m,this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._baseHref=t.stripTrailingSlash(c(i)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}var t;return t=e,e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(e,n){return void 0===n&&(n=""),this.path()==this.normalize(e+t.normalizeQueryParams(n))},e.prototype.normalize=function(e){return t.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,c(e)))},e.prototype.prepareExternalUrl=function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",e,t)},e.prototype.replaceState=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})},e.normalizeQueryParams=function(e){return e&&"?"!==e[0]?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)},e}();function c(e){return e.replace(/\/index.html$/,"")}var h=function(e){function t(t,n){var r=e.call(this)||this;return r._platformLocation=t,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.c)(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=u.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},t.prototype.pushState=function(e,t,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)},t.prototype.replaceState=function(e,t,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(a),d=function(e){function t(t,n){var r=e.call(this)||this;if(r._platformLocation=t,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.c)(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return u.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+u.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?""+t+n:t},t.prototype.pushState=function(e,t,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)},t.prototype.replaceState=function(e,t,n,r){var i=this.prepareExternalUrl(n+u.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(a),p=void 0,f=["en",[["a","p"],["AM","PM"],p],[["AM","PM"],p,p],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],p,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],p,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",p,"{1} 'at' {0}",p],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],g={},m=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),v=new r.p("UseV4Plurals"),y=function(){return function(){}}(),b=function(e){function t(t,n){var r=e.call(this)||this;return r.locale=t,r.deprecatedPluralFn=n,r}return Object(i.c)(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return function(e){var t=e.toLowerCase().replace(/_/g,"-"),n=g[t];if(n)return n;var r=t.split("-")[0];if(n=g[r])return n;if("en"===r)return f;throw new Error('Missing locale data for the locale "'+e+'".')}(e)[18]}(t||this.locale)(e)){case m.Zero:return"zero";case m.One:return"one";case m.Two:return"two";case m.Few:return"few";case m.Many:return"many";default:return"other"}},t}(y);function w(e,t){var n,r;t=encodeURIComponent(t);try{for(var o=Object(i.h)(e.split(";")),s=o.next();!s.done;s=o.next()){var a=s.value,l=a.indexOf("="),u=Object(i.f)(-1==l?[a,""]:[a.slice(0,l),a.slice(l+1)],2),c=u[1];if(u[0].trim()===t)return decodeURIComponent(c)}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var C=function(){function e(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),e}(),I=function(){function e(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(e.prototype,"ngForOf",{set:function(e){this._ngForOf=e,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(e){Object(r.X)()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(e)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngForTemplate",{set:function(e){e&&(this._template=e)},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},e.prototype._applyChanges=function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new C(null,t._ngForOf,-1,-1),i),s=new x(e,o);n.push(s)}else null==i?t._viewContainer.remove(r):(o=t._viewContainer.get(r),t._viewContainer.move(o,i),s=new x(e,o),n.push(s))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})},e.prototype._perViewChange=function(e,t){e.context.$implicit=t.item},e.ngTemplateContextGuard=function(e,t){return!0},e}(),x=function(){return function(e,t){this.record=e,this.view=t}}(),A=function(){function e(e,t){this._viewContainer=e,this._context=new _,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfThen",{set:function(e){S("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfElse",{set:function(e){S("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e.ngTemplateGuard_ngIf=function(e,t){return!0},e}(),_=function(){return function(){this.$implicit=null,this.ngIf=null}}();function S(e,t){if(t&&!t.createEmbeddedView)throw new Error(e+" must be a TemplateRef, but received '"+Object(r.Bb)(t)+"'.")}var D=function(){return function(){}}(),T=new r.p("DocumentToken"),k="browser",N="server";function P(e){return e===N}var M=function(){function e(){}return e.ngInjectableDef=Object(r.S)({providedIn:"root",factory:function(){return new O(Object(r.W)(T),window,Object(r.W)(r.l))}}),e}(),O=function(){function e(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=function(){return[0,0]}}return e.prototype.setOffset=function(e){this.offset=Array.isArray(e)?function(){return e}:e},e.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},e.prototype.scrollToPosition=function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])},e.prototype.scrollToAnchor=function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='"+e+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},e.prototype.setHistoryScrollRestoration=function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}},e.prototype.scrollToElement=function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},e.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}},e}()},JcRv:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("xTla"),i=function(e){return function(t){var n=e[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},K4MX:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("fIkx"),i=n("Gkij");let o=8192,s=e.from("\r","ascii")[0],a=e.from("\n","ascii")[0],l="\r\n";class u{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=e.allocUnsafe(o)}append(t){var n=t;if("string"==typeof t){var r=t,i=e.byteLength(r,this.encoding);(n=e.allocUnsafe(i)).write(r,0,i,this.encoding)}if(this.buffer.length-this.index>=n.length)n.copy(this.buffer,this.index,0,n.length);else{var s=(Math.ceil((this.index+n.length)/o)+1)*o;0===this.index?(this.buffer=e.allocUnsafe(s),n.copy(this.buffer,0,0,n.length)):this.buffer=e.concat([this.buffer.slice(0,this.index),n],s)}this.index+=n.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split(l).forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)};class c{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=c;class h extends c{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new u(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=h,t.IPCMessageReader=class extends c{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}},t.SocketMessageReader=class extends h{constructor(e,t="utf-8"){super(e,t)}}}).call(this,n("tjlA").Buffer)},K9Ia:function(e,t,n){"use strict";var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),s=n("pugT"),a=n("8g8A"),l=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.c(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(s.a),u=n("L/V9");n.d(t,"b",function(){return c}),n.d(t,"a",function(){return h});var c=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.c(t,e),t}(o.a),h=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.c(t,e),t.prototype[u.a]=function(){return new c(this)},t.prototype.lift=function(e){var t=new d(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new l(this,e))},t.prototype.asObservable=function(){var e=new i.a;return e.source=this,e},t.create=function(e,t){return new d(e,t)},t}(i.a),d=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.c(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.a.EMPTY},t}(h)},"L/V9":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},LkUo:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n("2vv7"),o=n("Gz0x"),s=n("bwr2"),a=n("oL6p");var l;function u(e,t){return i(e,{extended:!0,globstar:!0}).test(t)}!function(e){e.fromDocument=function(e){return{uri:monaco.Uri.parse(e.uri),languageId:e.languageId}},e.fromModel=function(e){return{uri:e.uri,languageId:e.getModeId()}}}(l=t.MonacoModelIdentifier||(t.MonacoModelIdentifier={})),t.testGlob=u,t.MonacoLanguages=class{constructor(e,t){this.p2m=e,this.m2p=t}match(e,t){return this.matchModel(e,l.fromDocument(t))}createDiagnosticCollection(e){return new s.MonacoDiagnosticCollection(e||"default",this.p2m)}registerCompletionItemProvider(e,t,...n){const r=this.createCompletionProvider(e,t,...n),i=new a.DisposableCollection;for(const o of this.matchLanguage(e))i.push(monaco.languages.registerCompletionItemProvider(o,r));return i}createCompletionProvider(e,t,...n){return{triggerCharacters:n,provideCompletionItems:(n,i,o,s)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=n.getWordUntilPosition(i),a=new monaco.Range(i.lineNumber,r.startColumn,i.lineNumber,r.endColumn),u=this.m2p.asCompletionParams(n,i,o),c=yield t.provideCompletionItems(u,s);return c&&this.p2m.asCompletionResult(c,a)}),resolveCompletionItem:t.resolveCompletionItem?(e,n,i,o)=>r(this,void 0,void 0,function*(){const e=this.m2p.asCompletionItem(i),n=yield t.resolveCompletionItem(e,o);if(n){const e=this.p2m.asCompletionItem(n,i.range);Object.assign(i,e)}return i}):void 0}}registerHoverProvider(e,t){const n=this.createHoverProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerHoverProvider(i,n));return r}createHoverProvider(e,t){return{provideHover:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentPositionParams(n,i),s=yield t.provideHover(r,o);return s&&this.p2m.asHover(s)})}}registerSignatureHelpProvider(e,t,...n){const r=this.createSignatureHelpProvider(e,t,...n),i=new a.DisposableCollection;for(const o of this.matchLanguage(e))i.push(monaco.languages.registerSignatureHelpProvider(o,r));return i}createSignatureHelpProvider(e,t,...n){return{signatureHelpTriggerCharacters:[...t.triggerCharacters||n||[]],provideSignatureHelp:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentPositionParams(n,i),s=yield t.provideSignatureHelp(r,o,{triggerKind:1,isRetrigger:!1});return s&&this.p2m.asSignatureHelp(s)})}}registerDefinitionProvider(e,t){const n=this.createDefinitionProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerDefinitionProvider(i,n));return r}createDefinitionProvider(e,t){return{provideDefinition:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentPositionParams(n,i),s=yield t.provideDefinition(r,o);return s&&this.p2m.asDefinitionResult(s)})}}registerReferenceProvider(e,t){const n=this.createReferenceProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerReferenceProvider(i,n));return r}createReferenceProvider(e,t){return{provideReferences:(n,i,o,s)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asReferenceParams(n,i,o),a=yield t.provideReferences(r,s);return a&&this.p2m.asReferences(a)})}}registerDocumentHighlightProvider(e,t){const n=this.createDocumentHighlightProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerDocumentHighlightProvider(i,n));return r}createDocumentHighlightProvider(e,t){return{provideDocumentHighlights:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentPositionParams(n,i),s=yield t.provideDocumentHighlights(r,o);return s&&this.p2m.asDocumentHighlights(s)})}}registerDocumentSymbolProvider(e,t){const n=this.createDocumentSymbolProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerDocumentSymbolProvider(i,n));return r}createDocumentSymbolProvider(e,t){return{provideDocumentSymbols:(n,i)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asDocumentSymbolParams(n),o=yield t.provideDocumentSymbols(r,i);return o&&this.p2m.asDocumentSymbols(o)})}}registerCodeActionsProvider(e,t){const n=this.createCodeActionProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerCodeActionProvider(i,n));return r}createCodeActionProvider(e,t){return{provideCodeActions:(n,i,o,s)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asCodeActionParams(n,i,o),a=yield t.provideCodeActions(r,s);return a&&this.p2m.asCodeActions(a)||void 0})}}registerCodeLensProvider(e,t){const n=this.createCodeLensProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerCodeLensProvider(i,n));return r}createCodeLensProvider(e,t){return{provideCodeLenses:(n,i)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asCodeLensParams(n),o=yield t.provideCodeLenses(r,i);return o&&this.p2m.asCodeLenses(o)}),resolveCodeLens:t.resolveCodeLens?(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return i;const r=this.m2p.asCodeLens(i),s=yield t.resolveCodeLens(r,o);if(s){const e=this.p2m.asCodeLens(s);Object.assign(i,e)}return i}):(e,t)=>t}}registerDocumentFormattingEditProvider(e,t){const n=this.createDocumentFormattingEditProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerDocumentFormattingEditProvider(i,n));return r}createDocumentFormattingEditProvider(e,t){return{provideDocumentFormattingEdits:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asDocumentFormattingParams(n,i),s=yield t.provideDocumentFormattingEdits(r,o);return s&&this.p2m.asTextEdits(s)})}}registerDocumentRangeFormattingEditProvider(e,t){const n=this.createDocumentRangeFormattingEditProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerDocumentRangeFormattingEditProvider(i,n));return r}createDocumentRangeFormattingEditProvider(e,t){return{provideDocumentRangeFormattingEdits:(n,i,o,s)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asDocumentRangeFormattingParams(n,i,o),a=yield t.provideDocumentRangeFormattingEdits(r,s);return a&&this.p2m.asTextEdits(a)})}}registerOnTypeFormattingEditProvider(e,t,n,...r){const i=this.createOnTypeFormattingEditProvider(e,t,n,...r),o=new a.DisposableCollection;for(const s of this.matchLanguage(e))o.push(monaco.languages.registerOnTypeFormattingEditProvider(s,i));return o}createOnTypeFormattingEditProvider(e,t,n,...i){return{autoFormatTriggerCharacters:[n].concat(i),provideOnTypeFormattingEdits:(n,i,o,s,a)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asDocumentOnTypeFormattingParams(n,i,o,s),u=yield t.provideOnTypeFormattingEdits(r,a);return u&&this.p2m.asTextEdits(u)})}}registerRenameProvider(e,t){const n=this.createRenameProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerRenameProvider(i,n));return r}createRenameProvider(e,t){return{provideRenameEdits:(n,i,o,s)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asRenameParams(n,i,o),a=yield t.provideRenameEdits(r,s);return a&&this.p2m.asWorkspaceEdit(a)})}}registerDocumentLinkProvider(e,t){const n=this.createDocumentLinkProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerLinkProvider(i,n));return r}createDocumentLinkProvider(e,t){return{provideLinks:(n,i)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asDocumentLinkParams(n),o=yield t.provideDocumentLinks(r,i);return o&&this.p2m.asDocumentLinks(o)}),resolveLink:(e,n)=>r(this,void 0,void 0,function*(){if(t.resolveDocumentLink&&null==e.url){const r=this.m2p.asDocumentLink(e),i=yield t.resolveDocumentLink(r,n);if(i){const t=this.p2m.asDocumentLink(i);Object.assign(e,t)}}return e})}}registerImplementationProvider(e,t){const n=this.createImplementationProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerImplementationProvider(i,n));return r}createImplementationProvider(e,t){return{provideImplementation:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentPositionParams(n,i),s=yield t.provideImplementation(r,o);return s&&this.p2m.asDefinitionResult(s)})}}registerTypeDefinitionProvider(e,t){const n=this.createTypeDefinitionProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerTypeDefinitionProvider(i,n));return r}createTypeDefinitionProvider(e,t){return{provideTypeDefinition:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentPositionParams(n,i),s=yield t.provideTypeDefinition(r,o);return s&&this.p2m.asDefinitionResult(s)})}}registerColorProvider(e,t){const n=this.createDocumentColorProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerColorProvider(i,n));return r}createDocumentColorProvider(e,t){return{provideDocumentColors:(n,i)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentIdentifier(n),o=yield t.provideDocumentColors({textDocument:r},i);return o&&this.p2m.asColorInformations(o)}),provideColorPresentations:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentIdentifier(n),s=this.m2p.asRange(i.range),a=yield t.provideColorPresentations({textDocument:r,color:i.color,range:s},o);return a&&this.p2m.asColorPresentations(a)})}}registerFoldingRangeProvider(e,t){const n=this.createFoldingRangeProvider(e,t),r=new a.DisposableCollection;for(const i of this.matchLanguage(e))r.push(monaco.languages.registerFoldingRangeProvider(i,n));return r}createFoldingRangeProvider(e,t){return{provideFoldingRanges:(n,i,o)=>r(this,void 0,void 0,function*(){if(!this.matchModel(e,l.fromModel(n)))return;const r=this.m2p.asTextDocumentIdentifier(n),i=yield t.provideFoldingRanges({textDocument:r},o);return i&&this.p2m.asFoldingRanges(i)})}}matchModel(e,t){return Array.isArray(e)?e.some(e=>this.matchModel(e,t)):o.DocumentFilter.is(e)?!(e.language&&e.language!==t.languageId||e.scheme&&e.scheme!==t.uri.scheme||e.pattern&&!u(e.pattern,t.uri.path)):e===t.languageId}matchLanguage(e){const t=new Set;if(Array.isArray(e))for(const n of e)t.add(this.matchLanguageByFilter(n));else t.add(this.matchLanguageByFilter(e));return t}matchLanguageByFilter(e){return o.DocumentFilter.is(e)?e.language?e.language:"*":e}}},Lo6S:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");!function(e){e.method="textDocument/prepareCallHierarchy",e.type=new r.RequestType(e.method)}(t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})),function(e){e.method="callHierarchy/incomingCalls",e.type=new r.RequestType(e.method),e.resultType=new r.ProgressType}(t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})),function(e){e.method="callHierarchy/outgoingCalls",e.type=new r.RequestType(e.method),e.resultType=new r.ProgressType}(t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={}))},LvDl:function(e,t,n){(function(e,r){var i;(function(){var o,s=200,a="Expected a function",l="__lodash_placeholder__",u=1,c=2,h=4,d=1,p=2,f=1,g=2,m=4,v=8,y=16,b=32,w=64,C=128,I=256,x=512,A=800,_=16,S=1/0,D=9007199254740991,T=1.7976931348623157e308,k=NaN,N=4294967295,P=N-1,M=N>>>1,O=[["ary",C],["bind",f],["bindKey",g],["curry",v],["curryRight",y],["flip",x],["partial",b],["partialRight",w],["rearg",I]],E="[object Arguments]",j="[object Array]",R="[object AsyncFunction]",L="[object Boolean]",z="[object Date]",F="[object DOMException]",B="[object Error]",G="[object Function]",U="[object GeneratorFunction]",Z="[object Map]",W="[object Number]",V="[object Null]",Y="[object Object]",H="[object Proxy]",q="[object RegExp]",X="[object Set]",K="[object String]",J="[object Symbol]",Q="[object Undefined]",$="[object WeakMap]",ee="[object ArrayBuffer]",te="[object DataView]",ne="[object Float32Array]",re="[object Float64Array]",ie="[object Int8Array]",oe="[object Int16Array]",se="[object Int32Array]",ae="[object Uint8Array]",le="[object Uint8ClampedArray]",ue="[object Uint16Array]",ce="[object Uint32Array]",he=/\b__p \+= '';/g,de=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fe=/&(?:amp|lt|gt|quot|#39);/g,ge=/[&<>"']/g,me=RegExp(fe.source),ve=RegExp(ge.source),ye=/<%-([\s\S]+?)%>/g,be=/<%([\s\S]+?)%>/g,we=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ie=/^\w*$/,xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ae=/[\\^$.*+?()[\]{}|]/g,_e=RegExp(Ae.source),Se=/^\s+|\s+$/g,De=/^\s+/,Te=/\s+$/,ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ne=/\{\n\/\* \[wrapped with (.+)\] \*/,Pe=/,? & /,Me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oe=/\\(\\)?/g,Ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,je=/\w*$/,Re=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,ze=/^\[object .+?Constructor\]$/,Fe=/^0o[0-7]+$/i,Be=/^(?:0|[1-9]\d*)$/,Ge=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ue=/($^)/,Ze=/['\n\r\u2028\u2029\\]/g,We="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ve="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ye="["+Ve+"]",He="["+We+"]",qe="\\d+",Xe="[a-z\\xdf-\\xf6\\xf8-\\xff]",Ke="[^\\ud800-\\udfff"+Ve+qe+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Je="\\ud83c[\\udffb-\\udfff]",Qe="[^\\ud800-\\udfff]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",et="[\\ud800-\\udbff][\\udc00-\\udfff]",tt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",nt="(?:"+Xe+"|"+Ke+")",rt="(?:"+tt+"|"+Ke+")",it="(?:"+He+"|"+Je+")?",ot="[\\ufe0e\\ufe0f]?"+it+"(?:\\u200d(?:"+[Qe,$e,et].join("|")+")[\\ufe0e\\ufe0f]?"+it+")*",st="(?:"+["[\\u2700-\\u27bf]",$e,et].join("|")+")"+ot,at="(?:"+[Qe+He+"?",He,$e,et,"[\\ud800-\\udfff]"].join("|")+")",lt=RegExp("['\u2019]","g"),ut=RegExp(He,"g"),ct=RegExp(Je+"(?="+Je+")|"+at+ot,"g"),ht=RegExp([tt+"?"+Xe+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Ye,tt,"$"].join("|")+")",rt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Ye,tt+nt,"$"].join("|")+")",tt+"?"+nt+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",tt+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qe,st].join("|"),"g"),dt=RegExp("[\\u200d\\ud800-\\udfff"+We+"\\ufe0e\\ufe0f]"),pt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ft=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gt=-1,mt={};mt[ne]=mt[re]=mt[ie]=mt[oe]=mt[se]=mt[ae]=mt[le]=mt[ue]=mt[ce]=!0,mt[E]=mt[j]=mt[ee]=mt[L]=mt[te]=mt[z]=mt[B]=mt[G]=mt[Z]=mt[W]=mt[Y]=mt[q]=mt[X]=mt[K]=mt[$]=!1;var vt={};vt[E]=vt[j]=vt[ee]=vt[te]=vt[L]=vt[z]=vt[ne]=vt[re]=vt[ie]=vt[oe]=vt[se]=vt[Z]=vt[W]=vt[Y]=vt[q]=vt[X]=vt[K]=vt[J]=vt[ae]=vt[le]=vt[ue]=vt[ce]=!0,vt[B]=vt[G]=vt[$]=!1;var yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bt=parseFloat,wt=parseInt,Ct="object"==typeof e&&e&&e.Object===Object&&e,It="object"==typeof self&&self&&self.Object===Object&&self,xt=Ct||It||Function("return this")(),At=t&&!t.nodeType&&t,_t=At&&"object"==typeof r&&r&&!r.nodeType&&r,St=_t&&_t.exports===At,Dt=St&&Ct.process,Tt=function(){try{return _t&&_t.require&&_t.require("util").types||Dt&&Dt.binding&&Dt.binding("util")}catch(e){}}(),kt=Tt&&Tt.isArrayBuffer,Nt=Tt&&Tt.isDate,Pt=Tt&&Tt.isMap,Mt=Tt&&Tt.isRegExp,Ot=Tt&&Tt.isSet,Et=Tt&&Tt.isTypedArray;function jt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Rt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ft(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function Bt(e,t){return!(null==e||!e.length)&&Kt(e,t,0)>-1}function Gt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ut(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Zt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Wt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Vt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ht=en("length");function qt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function Xt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Kt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Xt(e,Qt,n)}function Jt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Qt(e){return e!=e}function $t(e,t){var n=null==e?0:e.length;return n?rn(e,t)/n:k}function en(e){return function(t){return null==t?o:t[e]}}function tn(e){return function(t){return null==e?o:e[t]}}function nn(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function rn(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function on(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function sn(e){return function(t){return e(t)}}function an(e,t){return Ut(t,function(t){return e[t]})}function ln(e,t){return e.has(t)}function un(e,t){for(var n=-1,r=e.length;++n<r&&Kt(t,e[n],0)>-1;);return n}function cn(e,t){for(var n=e.length;n--&&Kt(t,e[n],0)>-1;);return n}var hn=tn({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),dn=tn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function pn(e){return"\\"+yt[e]}function fn(e){return dt.test(e)}function gn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function mn(e,t){return function(n){return e(t(n))}}function vn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n];s!==t&&s!==l||(e[n]=l,o[i++]=n)}return o}function yn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function bn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function wn(e){return fn(e)?function(e){for(var t=ct.lastIndex=0;ct.test(e);)++t;return t}(e):Ht(e)}function Cn(e){return fn(e)?function(e){return e.match(ct)||[]}(e):function(e){return e.split("")}(e)}var In=tn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),xn=function e(t){var n,r=(t=null==t?xt:xn.defaults(xt.Object(),t,xn.pick(xt,ft))).Array,i=t.Date,We=t.Error,Ve=t.Function,Ye=t.Math,He=t.Object,qe=t.RegExp,Xe=t.String,Ke=t.TypeError,Je=r.prototype,Qe=He.prototype,$e=t["__core-js_shared__"],et=Ve.prototype.toString,tt=Qe.hasOwnProperty,nt=0,rt=(n=/[^.]+$/.exec($e&&$e.keys&&$e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",it=Qe.toString,ot=et.call(He),st=xt._,at=qe("^"+et.call(tt).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=St?t.Buffer:o,dt=t.Symbol,yt=t.Uint8Array,Ct=ct?ct.allocUnsafe:o,It=mn(He.getPrototypeOf,He),At=He.create,_t=Qe.propertyIsEnumerable,Dt=Je.splice,Tt=dt?dt.isConcatSpreadable:o,Ht=dt?dt.iterator:o,tn=dt?dt.toStringTag:o,An=function(){try{var e=xo(He,"defineProperty");return e({},"",{}),e}catch(t){}}(),_n=t.clearTimeout!==xt.clearTimeout&&t.clearTimeout,Sn=i&&i.now!==xt.Date.now&&i.now,Dn=t.setTimeout!==xt.setTimeout&&t.setTimeout,Tn=Ye.ceil,kn=Ye.floor,Nn=He.getOwnPropertySymbols,Pn=ct?ct.isBuffer:o,Mn=t.isFinite,On=Je.join,En=mn(He.keys,He),jn=Ye.max,Rn=Ye.min,Ln=i.now,zn=t.parseInt,Fn=Ye.random,Bn=Je.reverse,Gn=xo(t,"DataView"),Un=xo(t,"Map"),Zn=xo(t,"Promise"),Wn=xo(t,"Set"),Vn=xo(t,"WeakMap"),Yn=xo(He,"create"),Hn=Vn&&new Vn,qn={},Xn=Xo(Gn),Kn=Xo(Un),Jn=Xo(Zn),Qn=Xo(Wn),$n=Xo(Vn),er=dt?dt.prototype:o,tr=er?er.valueOf:o,nr=er?er.toString:o;function rr(e){if(da(e)&&!ta(e)&&!(e instanceof ar)){if(e instanceof sr)return e;if(tt.call(e,"__wrapped__"))return Ko(e)}return new sr(e)}var ir=function(){function e(){}return function(t){if(!ha(t))return{};if(At)return At(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function or(){}function sr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function ar(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function lr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ur(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function cr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new cr;++t<n;)this.add(e[t])}function dr(e){var t=this.__data__=new ur(e);this.size=t.size}function pr(e,t){var n=ta(e),r=!n&&ea(e),i=!n&&!r&&oa(e),o=!n&&!r&&!i&&wa(e),s=n||r||i||o,a=s?on(e.length,Xe):[],l=a.length;for(var u in e)!t&&!tt.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||No(u,l))||a.push(u);return a}function fr(e){var t=e.length;return t?e[li(0,t-1)]:o}function gr(e,t,n){(n===o||Js(e[t],n))&&(n!==o||t in e)||wr(e,t,n)}function mr(e,t,n){var r=e[t];tt.call(e,t)&&Js(r,n)&&(n!==o||t in e)||wr(e,t,n)}function vr(e,t){for(var n=e.length;n--;)if(Js(e[n][0],t))return n;return-1}function yr(e,t,n,r){return Dr(e,function(e,i,o){t(r,e,n(e),o)}),r}function br(e,t){return e&&Gi(t,Ua(t),e)}function wr(e,t,n){"__proto__"==t&&An?An(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Cr(e,t){for(var n=-1,i=t.length,s=r(i),a=null==e;++n<i;)s[n]=a?o:La(e,t[n]);return s}function Ir(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function xr(e,t,n,r,i,s){var a,l=t&u,d=t&c,p=t&h;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!ha(e))return e;var f=ta(e);if(f){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&tt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Bi(e,a)}else{var g=So(e),m=g==G||g==U;if(oa(e))return Ei(e,l);if(g==Y||g==E||m&&!i){if(a=d||m?{}:To(e),!l)return d?function(e,t){return Gi(e,_o(e),t)}(e,function(t,n){return t&&Gi(e,Za(e),t)}(a)):function(e,t){return Gi(e,Ao(e),t)}(e,br(a,e))}else{if(!vt[g])return i?e:{};a=function(e,t,n){var r,i,o=e.constructor;switch(t){case ee:return ji(e);case L:case z:return new o(+e);case te:return function(e,t){var n=t?ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ne:case re:case ie:case oe:case se:case ae:case le:case ue:case ce:return Ri(e,n);case Z:return new o;case W:case K:return new o(e);case q:return(i=new(r=e).constructor(r.source,je.exec(r))).lastIndex=r.lastIndex,i;case X:return new o;case J:return tr?He(tr.call(e)):{}}}(e,g,l)}}s||(s=new dr);var v=s.get(e);if(v)return v;s.set(e,a),va(e)?e.forEach(function(r){a.add(xr(r,t,n,r,e,s))}):pa(e)&&e.forEach(function(r,i){a.set(i,xr(r,t,n,i,e,s))});var y=f?o:(p?d?mo:go:d?Za:Ua)(e);return Lt(y||e,function(r,i){y&&(r=e[i=r]),mr(a,i,xr(r,t,n,i,e,s))}),a}function Ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=He(e);r--;){var i=n[r],s=e[i];if(s===o&&!(i in e)||!(0,t[i])(s))return!1}return!0}function _r(e,t,n){if("function"!=typeof e)throw new Ke(a);return Uo(function(){e.apply(o,n)},t)}function Sr(e,t,n,r){var i=-1,o=Bt,a=!0,l=e.length,u=[],c=t.length;if(!l)return u;n&&(t=Ut(t,sn(n))),r?(o=Gt,a=!1):t.length>=s&&(o=ln,a=!1,t=new hr(t));e:for(;++i<l;){var h=e[i],d=null==n?h:n(h);if(h=r||0!==h?h:0,a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;u.push(h)}else o(t,d,r)||u.push(h)}return u}rr.templateSettings={escape:ye,evaluate:be,interpolate:we,variable:"",imports:{_:rr}},(rr.prototype=or.prototype).constructor=rr,(sr.prototype=ir(or.prototype)).constructor=sr,(ar.prototype=ir(or.prototype)).constructor=ar,lr.prototype.clear=function(){this.__data__=Yn?Yn(null):{},this.size=0},lr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},lr.prototype.get=function(e){var t=this.__data__;if(Yn){var n=t[e];return"__lodash_hash_undefined__"===n?o:n}return tt.call(t,e)?t[e]:o},lr.prototype.has=function(e){var t=this.__data__;return Yn?t[e]!==o:tt.call(t,e)},lr.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Yn&&t===o?"__lodash_hash_undefined__":t,this},ur.prototype.clear=function(){this.__data__=[],this.size=0},ur.prototype.delete=function(e){var t=this.__data__,n=vr(t,e);return!(n<0||(n==t.length-1?t.pop():Dt.call(t,n,1),--this.size,0))},ur.prototype.get=function(e){var t=this.__data__,n=vr(t,e);return n<0?o:t[n][1]},ur.prototype.has=function(e){return vr(this.__data__,e)>-1},ur.prototype.set=function(e,t){var n=this.__data__,r=vr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},cr.prototype.clear=function(){this.size=0,this.__data__={hash:new lr,map:new(Un||ur),string:new lr}},cr.prototype.delete=function(e){var t=Co(this,e).delete(e);return this.size-=t?1:0,t},cr.prototype.get=function(e){return Co(this,e).get(e)},cr.prototype.has=function(e){return Co(this,e).has(e)},cr.prototype.set=function(e,t){var n=Co(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},hr.prototype.add=hr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},hr.prototype.has=function(e){return this.__data__.has(e)},dr.prototype.clear=function(){this.__data__=new ur,this.size=0},dr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},dr.prototype.get=function(e){return this.__data__.get(e)},dr.prototype.has=function(e){return this.__data__.has(e)},dr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ur){var r=n.__data__;if(!Un||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new cr(r)}return n.set(e,t),this.size=n.size,this};var Dr=Wi(jr),Tr=Wi(Rr,!0);function kr(e,t){var n=!0;return Dr(e,function(e,r,i){return n=!!t(e,r,i)}),n}function Nr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(l===o?a==a&&!ba(a):n(a,l)))var l=a,u=s}return u}function Pr(e,t){var n=[];return Dr(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function Mr(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=ko),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?Mr(a,t-1,n,r,i):Zt(i,a):r||(i[i.length]=a)}return i}var Or=Vi(),Er=Vi(!0);function jr(e,t){return e&&Or(e,t,Ua)}function Rr(e,t){return e&&Er(e,t,Ua)}function Lr(e,t){return Ft(t,function(t){return la(e[t])})}function zr(e,t){for(var n=0,r=(t=Ni(t,e)).length;null!=e&&n<r;)e=e[qo(t[n++])];return n&&n==r?e:o}function Fr(e,t,n){var r=t(e);return ta(e)?r:Zt(r,n(e))}function Br(e){return null==e?e===o?Q:V:tn&&tn in He(e)?function(e){var t=tt.call(e,tn),n=e[tn];try{e[tn]=o;var r=!0}catch(s){}var i=it.call(e);return r&&(t?e[tn]=n:delete e[tn]),i}(e):function(e){return it.call(e)}(e)}function Gr(e,t){return e>t}function Ur(e,t){return null!=e&&tt.call(e,t)}function Zr(e,t){return null!=e&&t in He(e)}function Wr(e,t,n){for(var i=n?Gt:Bt,s=e[0].length,a=e.length,l=a,u=r(a),c=1/0,h=[];l--;){var d=e[l];l&&t&&(d=Ut(d,sn(t))),c=Rn(d.length,c),u[l]=!n&&(t||s>=120&&d.length>=120)?new hr(l&&d):o}d=e[0];var p=-1,f=u[0];e:for(;++p<s&&h.length<c;){var g=d[p],m=t?t(g):g;if(g=n||0!==g?g:0,!(f?ln(f,m):i(h,m,n))){for(l=a;--l;){var v=u[l];if(!(v?ln(v,m):i(e[l],m,n)))continue e}f&&f.push(m),h.push(g)}}return h}function Vr(e,t,n){var r=null==(e=Fo(e,t=Ni(t,e)))?e:e[qo(as(t))];return null==r?o:jt(r,e,n)}function Yr(e){return da(e)&&Br(e)==E}function Hr(e,t,n,r,i){return e===t||(null==e||null==t||!da(e)&&!da(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var a=ta(e),l=ta(t),u=a?j:So(e),c=l?j:So(t),h=(u=u==E?Y:u)==Y,f=(c=c==E?Y:c)==Y,g=u==c;if(g&&oa(e)){if(!oa(t))return!1;a=!0,h=!1}if(g&&!h)return s||(s=new dr),a||wa(e)?po(e,t,n,r,i,s):function(e,t,n,r,i,o,s){switch(u){case te:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ee:return!(e.byteLength!=t.byteLength||!o(new yt(e),new yt(t)));case L:case z:case W:return Js(+e,+t);case B:return e.name==t.name&&e.message==t.message;case q:case K:return e==t+"";case Z:var a=gn;case X:if(a||(a=yn),e.size!=t.size&&!(r&d))return!1;var l=s.get(e);if(l)return l==t;r|=p,s.set(e,t);var c=po(a(e),a(t),r,i,o,s);return s.delete(e),c;case J:if(tr)return tr.call(e)==tr.call(t)}return!1}(e,t,0,n,r,i,s);if(!(n&d)){var m=h&&tt.call(e,"__wrapped__"),v=f&&tt.call(t,"__wrapped__");if(m||v){var y=m?e.value():e,b=v?t.value():t;return s||(s=new dr),i(y,b,n,r,s)}}return!!g&&(s||(s=new dr),function(e,t,n,r,i,s){var a=n&d,l=go(e),u=l.length;if(u!=go(t).length&&!a)return!1;for(var c=u;c--;){var h=l[c];if(!(a?h in t:tt.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var f=!0;s.set(e,t),s.set(t,e);for(var g=a;++c<u;){var m=e[h=l[c]],v=t[h];if(r)var y=a?r(v,m,h,t,e,s):r(m,v,h,e,t,s);if(!(y===o?m===v||i(m,v,n,r,s):y)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return s.delete(e),s.delete(t),f}(e,t,n,r,i,s))}(e,t,n,r,Hr,i))}function qr(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=He(e);i--;){var l=n[i];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<s;){var u=(l=n[i])[0],c=e[u],h=l[1];if(a&&l[2]){if(c===o&&!(u in e))return!1}else{var f=new dr;if(r)var g=r(c,h,u,e,t,f);if(!(g===o?Hr(h,c,d|p,r,f):g))return!1}}return!0}function Xr(e){return!(!ha(e)||(t=e,rt&&rt in t))&&(la(e)?at:ze).test(Xo(e));var t}function Kr(e){return"function"==typeof e?e:null==e?fl:"object"==typeof e?ta(e)?ti(e[0],e[1]):ei(e):xl(e)}function Jr(e){if(!jo(e))return En(e);var t=[];for(var n in He(e))tt.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Qr(e,t){return e<t}function $r(e,t){var n=-1,i=ra(e)?r(e.length):[];return Dr(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function ei(e){var t=Io(e);return 1==t.length&&t[0][2]?Lo(t[0][0],t[0][1]):function(n){return n===e||qr(n,e,t)}}function ti(e,t){return Mo(e)&&Ro(t)?Lo(qo(e),t):function(n){var r=La(n,e);return r===o&&r===t?za(n,e):Hr(t,r,d|p)}}function ni(e,t,n,r,i){e!==t&&Or(t,function(s,a){if(i||(i=new dr),ha(s))!function(e,t,n,r,i,s,a){var l=Bo(e,n),u=Bo(t,n),c=a.get(u);if(c)gr(e,n,c);else{var h=s?s(l,u,n+"",e,t,a):o,d=h===o;if(d){var p=ta(u),f=!p&&oa(u),g=!p&&!f&&wa(u);h=u,p||f||g?ta(l)?h=l:ia(l)?h=Bi(l):f?(d=!1,h=Ei(u,!0)):g?(d=!1,h=Ri(u,!0)):h=[]:ga(u)||ea(u)?(h=l,ea(l)?h=Ta(l):ha(l)&&!la(l)||(h=To(u))):d=!1}d&&(a.set(u,h),i(h,u,r,s,a),a.delete(u)),gr(e,n,h)}}(e,t,a,n,ni,r,i);else{var l=r?r(Bo(e,a),s,a+"",e,t,i):o;l===o&&(l=s),gr(e,a,l)}},Za)}function ri(e,t){var n=e.length;if(n)return No(t+=t<0?n:0,n)?e[t]:o}function ii(e,t,n){var r=-1;return t=Ut(t.length?t:[fl],sn(wo())),function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=Li(i[r],o[r]);if(l)return r>=a?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}($r(e,function(e,n,i){return{criteria:Ut(t,function(t){return t(e)}),index:++r,value:e}}))}function oi(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=zr(e,s);n(a,s)&&hi(o,Ni(s,e),a)}return o}function si(e,t,n,r){var i=r?Jt:Kt,o=-1,s=t.length,a=e;for(e===t&&(t=Bi(t)),n&&(a=Ut(e,sn(n)));++o<s;)for(var l=0,u=t[o],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&Dt.call(a,l,1),Dt.call(e,l,1);return e}function ai(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;No(i)?Dt.call(e,i,1):Ii(e,i)}}return e}function li(e,t){return e+kn(Fn()*(t-e+1))}function ui(e,t){var n="";if(!e||t<1||t>D)return n;do{t%2&&(n+=e),(t=kn(t/2))&&(e+=e)}while(t);return n}function ci(e,t){return Zo(zo(e,t,fl),e+"")}function hi(e,t,n,r){if(!ha(e))return e;for(var i=-1,s=(t=Ni(t,e)).length,a=s-1,l=e;null!=l&&++i<s;){var u=qo(t[i]),c=n;if(i!=a){var h=l[u];(c=r?r(h,u,l):o)===o&&(c=ha(h)?h:No(t[i+1])?[]:{})}mr(l,u,c),l=l[u]}return e}var di=Hn?function(e,t){return Hn.set(e,t),e}:fl,pi=An?function(e,t){return An(e,"toString",{configurable:!0,enumerable:!1,value:hl(t),writable:!0})}:fl;function fi(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function gi(e,t){var n;return Dr(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function mi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=M){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!ba(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return vi(e,t,fl,n)}function vi(e,t,n,r){t=n(t);for(var i=0,s=null==e?0:e.length,a=t!=t,l=null===t,u=ba(t),c=t===o;i<s;){var h=kn((i+s)/2),d=n(e[h]),p=d!==o,f=null===d,g=d==d,m=ba(d);if(a)var v=r||g;else v=c?g&&(r||p):l?g&&p&&(r||!f):u?g&&p&&!f&&(r||!m):!f&&!m&&(r?d<=t:d<t);v?i=h+1:s=h}return Rn(s,P)}function yi(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Js(a,l)){var l=a;o[i++]=0===s?0:s}}return o}function bi(e){return"number"==typeof e?e:ba(e)?k:+e}function wi(e){if("string"==typeof e)return e;if(ta(e))return Ut(e,wi)+"";if(ba(e))return nr?nr.call(e):"";var t=e+"";return"0"==t&&1/e==-S?"-0":t}function Ci(e,t,n){var r=-1,i=Bt,o=e.length,a=!0,l=[],u=l;if(n)a=!1,i=Gt;else if(o>=s){var c=t?null:so(e);if(c)return yn(c);a=!1,i=ln,u=new hr}else u=t?[]:l;e:for(;++r<o;){var h=e[r],d=t?t(h):h;if(h=n||0!==h?h:0,a&&d==d){for(var p=u.length;p--;)if(u[p]===d)continue e;t&&u.push(d),l.push(h)}else i(u,d,n)||(u!==l&&u.push(d),l.push(h))}return l}function Ii(e,t){return null==(e=Fo(e,t=Ni(t,e)))||delete e[qo(as(t))]}function xi(e,t,n,r){return hi(e,t,n(zr(e,t)),r)}function Ai(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?fi(e,r?0:o,r?o+1:i):fi(e,r?o+1:0,r?i:o)}function _i(e,t){var n=e;return n instanceof ar&&(n=n.value()),Wt(t,function(e,t){return t.func.apply(t.thisArg,Zt([e],t.args))},n)}function Si(e,t,n){var i=e.length;if(i<2)return i?Ci(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],l=-1;++l<i;)l!=o&&(s[o]=Sr(s[o]||a,e[l],t,n));return Ci(Mr(s,1),t,n)}function Di(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;)n(a,e[r],r<s?t[r]:o);return a}function Ti(e){return ia(e)?e:[]}function ki(e){return"function"==typeof e?e:fl}function Ni(e,t){return ta(e)?e:Mo(e,t)?[e]:Ho(ka(e))}var Pi=ci;function Mi(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:fi(e,t,n)}var Oi=_n||function(e){return xt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=Ct?Ct(n):new e.constructor(n);return e.copy(r),r}function ji(e){var t=new e.constructor(e.byteLength);return new yt(t).set(new yt(e)),t}function Ri(e,t){var n=t?ji(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Li(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,s=ba(e),a=t!==o,l=null===t,u=t==t,c=ba(t);if(!l&&!c&&!s&&e>t||s&&a&&u&&!l&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!s&&!c&&e<t||c&&n&&i&&!r&&!s||l&&n&&i||!a&&i||!u)return-1}return 0}function zi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,l=-1,u=t.length,c=jn(s-a,0),h=r(u+c),d=!i;++l<u;)h[l]=t[l];for(;++o<a;)(d||o<s)&&(h[n[o]]=e[o]);for(;c--;)h[l++]=e[o++];return h}function Fi(e,t,n,i){for(var o=-1,s=e.length,a=-1,l=n.length,u=-1,c=t.length,h=jn(s-l,0),d=r(h+c),p=!i;++o<h;)d[o]=e[o];for(var f=o;++u<c;)d[f+u]=t[u];for(;++a<l;)(p||o<s)&&(d[f+n[a]]=e[o++]);return d}function Bi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Gi(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var l=t[s],u=r?r(n[l],e[l],l,n,e):o;u===o&&(u=e[l]),i?wr(n,l,u):mr(n,l,u)}return n}function Ui(e,t){return function(n,r){var i=ta(n)?Rt:yr,o=t?t():{};return i(n,e,wo(r,2),o)}}function Zi(e){return ci(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&Po(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=He(t);++r<i;){var l=n[r];l&&e(t,l,r,s)}return t})}function Wi(e,t){return function(n,r){if(null==n)return n;if(!ra(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=He(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Vi(e){return function(t,n,r){for(var i=-1,o=He(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(!1===n(o[l],l,o))break}return t}}function Yi(e){return function(t){var n=fn(t=ka(t))?Cn(t):o,r=n?n[0]:t.charAt(0),i=n?Mi(n,1).join(""):t.slice(1);return r[e]()+i}}function Hi(e){return function(t){return Wt(ll(el(t).replace(lt,"")),e,"")}}function qi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ir(e.prototype),r=e.apply(n,t);return ha(r)?r:n}}function Xi(e){return function(t,n,r){var i=He(t);if(!ra(t)){var s=wo(n,3);t=Ua(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function Ki(e){return fo(function(t){var n=t.length,r=n,i=sr.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ke(a);if(i&&!l&&"wrapper"==yo(s))var l=new sr([],!0)}for(r=l?r:n;++r<n;){var u=yo(s=t[r]),c="wrapper"==u?vo(s):o;l=c&&Oo(c[0])&&c[1]==(C|v|b|I)&&!c[4].length&&1==c[9]?l[yo(c[0])].apply(l,c[3]):1==s.length&&Oo(s)?l[u]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&ta(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}})}function Ji(e,t,n,i,s,a,l,u,c,h){var d=t&C,p=t&f,m=t&g,b=t&(v|y),w=t&x,I=m?o:qi(e);return function f(){for(var g=arguments.length,v=r(g),y=g;y--;)v[y]=arguments[y];if(b)var C=bo(f),x=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,C);if(i&&(v=zi(v,i,s,b)),a&&(v=Fi(v,a,l,b)),g-=x,b&&g<h){var A=vn(v,C);return io(e,t,Ji,f.placeholder,n,v,A,u,c,h-g)}var _=p?n:this,S=m?_[e]:e;return g=v.length,u?v=function(e,t){for(var n=e.length,r=Rn(t.length,n),i=Bi(e);r--;){var s=t[r];e[r]=No(s,n)?i[s]:o}return e}(v,u):w&&g>1&&v.reverse(),d&&c<g&&(v.length=c),this&&this!==xt&&this instanceof f&&(S=I||qi(S)),S.apply(_,v)}}function Qi(e,t){return function(n,r){return function(e,t,n,r){return jr(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function $i(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=wi(n),r=wi(r)):(n=bi(n),r=bi(r)),i=e(n,r)}return i}}function eo(e){return fo(function(t){return t=Ut(t,sn(wo())),ci(function(n){var r=this;return e(t,function(e){return jt(e,r,n)})})})}function to(e,t){var n=(t=t===o?" ":wi(t)).length;if(n<2)return n?ui(t,e):t;var r=ui(t,Tn(e/wn(t)));return fn(t)?Mi(Cn(r),0,e).join(""):r.slice(0,e)}function no(e){return function(t,n,i){return i&&"number"!=typeof i&&Po(t,n,i)&&(n=i=o),t=Aa(t),n===o?(n=t,t=0):n=Aa(n),function(e,t,n,i){for(var o=-1,s=jn(Tn((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,i=i===o?t<n?1:-1:Aa(i),e)}}function ro(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Da(t),n=Da(n)),e(t,n)}}function io(e,t,n,r,i,s,a,l,u,c){var h=t&v;t|=h?b:w,(t&=~(h?w:b))&m||(t&=~(f|g));var d=[e,t,i,h?s:o,h?a:o,h?o:s,h?o:a,l,u,c],p=n.apply(o,d);return Oo(e)&&Go(p,d),p.placeholder=r,Wo(p,e,t)}function oo(e){var t=Ye[e];return function(e,n){if(e=Da(e),(n=null==n?0:Rn(_a(n),292))&&Mn(e)){var r=(ka(e)+"e").split("e");return+((r=(ka(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var so=Wn&&1/yn(new Wn([,-0]))[1]==S?function(e){return new Wn(e)}:bl;function ao(e){return function(t){var n=So(t);return n==Z?gn(t):n==X?bn(t):function(e,t){return Ut(t,function(t){return[t,e[t]]})}(t,e(t))}}function lo(e,t,n,i,s,u,c,h){var d=t&g;if(!d&&"function"!=typeof e)throw new Ke(a);var p=i?i.length:0;if(p||(t&=~(b|w),i=s=o),c=c===o?c:jn(_a(c),0),h=h===o?h:_a(h),p-=s?s.length:0,t&w){var x=i,A=s;i=s=o}var _=d?o:vo(e),S=[e,t,n,i,s,x,A,u,c,h];if(_&&function(e,t){var n=e[1],r=t[1],i=n|r;if(!(i<(f|g|C)||r==C&&n==v||r==C&&n==I&&e[7].length<=t[8]||r==(C|I)&&t[7].length<=t[8]&&n==v))return e;r&f&&(e[2]=t[2],i|=n&f?0:m);var o=t[3];if(o){var s=e[3];e[3]=s?zi(s,o,t[4]):o,e[4]=s?vn(e[3],l):t[4]}(o=t[5])&&(e[5]=(s=e[5])?Fi(s,o,t[6]):o,e[6]=s?vn(e[5],l):t[6]),(o=t[7])&&(e[7]=o),r&C&&(e[8]=null==e[8]?t[8]:Rn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(S,_),e=S[0],t=S[1],n=S[2],i=S[3],s=S[4],!(h=S[9]=S[9]===o?d?0:e.length:jn(S[9]-p,0))&&t&(v|y)&&(t&=~(v|y)),t&&t!=f)D=t==v||t==y?function(e,t,n){var i=qi(e);return function s(){for(var a=arguments.length,l=r(a),u=a,c=bo(s);u--;)l[u]=arguments[u];var h=a<3&&l[0]!==c&&l[a-1]!==c?[]:vn(l,c);return(a-=h.length)<n?io(e,t,Ji,s.placeholder,o,l,h,o,o,n-a):jt(this&&this!==xt&&this instanceof s?i:e,this,l)}}(e,t,h):t!=b&&t!=(f|b)||s.length?Ji.apply(o,S):function(e,t,n,i){var o=t&f,s=qi(e);return function t(){for(var a=-1,l=arguments.length,u=-1,c=i.length,h=r(c+l),d=this&&this!==xt&&this instanceof t?s:e;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++a];return jt(d,o?n:this,h)}}(e,t,n,i);else var D=function(e,t,n){var r=t&f,i=qi(e);return function t(){return(this&&this!==xt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Wo((_?di:Go)(D,S),e,t)}function uo(e,t,n,r){return e===o||Js(e,Qe[n])&&!tt.call(r,n)?t:e}function co(e,t,n,r,i,s){return ha(e)&&ha(t)&&(s.set(t,e),ni(e,t,o,co,s),s.delete(t)),e}function ho(e){return ga(e)?o:e}function po(e,t,n,r,i,s){var a=n&d,l=e.length,u=t.length;if(l!=u&&!(a&&u>l))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var h=-1,f=!0,g=n&p?new hr:o;for(s.set(e,t),s.set(t,e);++h<l;){var m=e[h],v=t[h];if(r)var y=a?r(v,m,h,t,e,s):r(m,v,h,e,t,s);if(y!==o){if(y)continue;f=!1;break}if(g){if(!Yt(t,function(e,t){if(!ln(g,t)&&(m===e||i(m,e,n,r,s)))return g.push(t)})){f=!1;break}}else if(m!==v&&!i(m,v,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function fo(e){return Zo(zo(e,o,ns),e+"")}function go(e){return Fr(e,Ua,Ao)}function mo(e){return Fr(e,Za,_o)}var vo=Hn?function(e){return Hn.get(e)}:bl;function yo(e){for(var t=e.name+"",n=qn[t],r=tt.call(qn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function bo(e){return(tt.call(rr,"placeholder")?rr:e).placeholder}function wo(){var e=rr.iteratee||gl;return e=e===gl?Kr:e,arguments.length?e(arguments[0],arguments[1]):e}function Co(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Io(e){for(var t=Ua(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ro(i)]}return t}function xo(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Xr(n)?n:o}var Ao=Nn?function(e){return null==e?[]:(e=He(e),Ft(Nn(e),function(t){return _t.call(e,t)}))}:Sl,_o=Nn?function(e){for(var t=[];e;)Zt(t,Ao(e)),e=It(e);return t}:Sl,So=Br;function Do(e,t,n){for(var r=-1,i=(t=Ni(t,e)).length,o=!1;++r<i;){var s=qo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ca(i)&&No(s,i)&&(ta(e)||ea(e))}function To(e){return"function"!=typeof e.constructor||jo(e)?{}:ir(It(e))}function ko(e){return ta(e)||ea(e)||!!(Tt&&e&&e[Tt])}function No(e,t){var n=typeof e;return!!(t=null==t?D:t)&&("number"==n||"symbol"!=n&&Be.test(e))&&e>-1&&e%1==0&&e<t}function Po(e,t,n){if(!ha(n))return!1;var r=typeof t;return!!("number"==r?ra(n)&&No(t,n.length):"string"==r&&t in n)&&Js(n[t],e)}function Mo(e,t){if(ta(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ba(e))||Ie.test(e)||!Ce.test(e)||null!=t&&e in He(t)}function Oo(e){var t=yo(e),n=rr[t];if("function"!=typeof n||!(t in ar.prototype))return!1;if(e===n)return!0;var r=vo(n);return!!r&&e===r[0]}(Gn&&So(new Gn(new ArrayBuffer(1)))!=te||Un&&So(new Un)!=Z||Zn&&"[object Promise]"!=So(Zn.resolve())||Wn&&So(new Wn)!=X||Vn&&So(new Vn)!=$)&&(So=function(e){var t=Br(e),n=t==Y?e.constructor:o,r=n?Xo(n):"";if(r)switch(r){case Xn:return te;case Kn:return Z;case Jn:return"[object Promise]";case Qn:return X;case $n:return $}return t});var Eo=$e?la:Dl;function jo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Qe)}function Ro(e){return e==e&&!ha(e)}function Lo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in He(n))}}function zo(e,t,n){return t=jn(t===o?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=jn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(a),jt(e,this,l)}}function Fo(e,t){return t.length<2?e:zr(e,fi(t,0,-1))}function Bo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Go=Vo(di),Uo=Dn||function(e,t){return xt.setTimeout(e,t)},Zo=Vo(pi);function Wo(e,t,n){var r=t+"";return Zo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ke,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Lt(O,function(n){var r="_."+n[0];t&n[1]&&!Bt(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Ne);return t?t[1].split(Pe):[]}(r),n)))}function Vo(e){var t=0,n=0;return function(){var r=Ln(),i=_-(r-n);if(n=r,i>0){if(++t>=A)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Yo(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=li(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ho=function(e){var t=Vs(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(xe,function(e,n,r,i){t.push(r?i.replace(Oe,"$1"):n||e)}),t},function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}();function qo(e){if("string"==typeof e||ba(e))return e;var t=e+"";return"0"==t&&1/e==-S?"-0":t}function Xo(e){if(null!=e){try{return et.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ko(e){if(e instanceof ar)return e.clone();var t=new sr(e.__wrapped__,e.__chain__);return t.__actions__=Bi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Jo=ci(function(e,t){return ia(e)?Sr(e,Mr(t,1,ia,!0)):[]}),Qo=ci(function(e,t){var n=as(t);return ia(n)&&(n=o),ia(e)?Sr(e,Mr(t,1,ia,!0),wo(n,2)):[]}),$o=ci(function(e,t){var n=as(t);return ia(n)&&(n=o),ia(e)?Sr(e,Mr(t,1,ia,!0),o,n):[]});function es(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:_a(n);return i<0&&(i=jn(r+i,0)),Xt(e,wo(t,3),i)}function ts(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=_a(n),i=n<0?jn(r+i,0):Rn(i,r-1)),Xt(e,wo(t,3),i,!0)}function ns(e){return null!=e&&e.length?Mr(e,1):[]}function rs(e){return e&&e.length?e[0]:o}var is=ci(function(e){var t=Ut(e,Ti);return t.length&&t[0]===e[0]?Wr(t):[]}),os=ci(function(e){var t=as(e),n=Ut(e,Ti);return t===as(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Wr(n,wo(t,2)):[]}),ss=ci(function(e){var t=as(e),n=Ut(e,Ti);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Wr(n,o,t):[]});function as(e){var t=null==e?0:e.length;return t?e[t-1]:o}var ls=ci(us);function us(e,t){return e&&e.length&&t&&t.length?si(e,t):e}var cs=fo(function(e,t){var n=null==e?0:e.length,r=Cr(e,t);return ai(e,Ut(t,function(e){return No(e,n)?+e:e}).sort(Li)),r});function hs(e){return null==e?e:Bn.call(e)}var ds=ci(function(e){return Ci(Mr(e,1,ia,!0))}),ps=ci(function(e){var t=as(e);return ia(t)&&(t=o),Ci(Mr(e,1,ia,!0),wo(t,2))}),fs=ci(function(e){var t=as(e);return t="function"==typeof t?t:o,Ci(Mr(e,1,ia,!0),o,t)});function gs(e){if(!e||!e.length)return[];var t=0;return e=Ft(e,function(e){if(ia(e))return t=jn(e.length,t),!0}),on(t,function(t){return Ut(e,en(t))})}function ms(e,t){if(!e||!e.length)return[];var n=gs(e);return null==t?n:Ut(n,function(e){return jt(t,o,e)})}var vs=ci(function(e,t){return ia(e)?Sr(e,t):[]}),ys=ci(function(e){return Si(Ft(e,ia))}),bs=ci(function(e){var t=as(e);return ia(t)&&(t=o),Si(Ft(e,ia),wo(t,2))}),ws=ci(function(e){var t=as(e);return t="function"==typeof t?t:o,Si(Ft(e,ia),o,t)}),Cs=ci(gs),Is=ci(function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,ms(e,n)});function xs(e){var t=rr(e);return t.__chain__=!0,t}function As(e,t){return t(e)}var _s=fo(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Cr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof ar&&No(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:As,args:[i],thisArg:o}),new sr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(o),e})):this.thru(i)}),Ss=Ui(function(e,t,n){tt.call(e,n)?++e[n]:wr(e,n,1)}),Ds=Xi(es),Ts=Xi(ts);function ks(e,t){return(ta(e)?Lt:Dr)(e,wo(t,3))}function Ns(e,t){return(ta(e)?function(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}:Tr)(e,wo(t,3))}var Ps=Ui(function(e,t,n){tt.call(e,n)?e[n].push(t):wr(e,n,[t])}),Ms=ci(function(e,t,n){var i=-1,o="function"==typeof t,s=ra(e)?r(e.length):[];return Dr(e,function(e){s[++i]=o?jt(t,e,n):Vr(e,t,n)}),s}),Os=Ui(function(e,t,n){wr(e,n,t)});function Es(e,t){return(ta(e)?Ut:$r)(e,wo(t,3))}var js=Ui(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Rs=ci(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Po(e,t[0],t[1])?t=[]:n>2&&Po(t[0],t[1],t[2])&&(t=[t[0]]),ii(e,Mr(t,1),[])}),Ls=Sn||function(){return xt.Date.now()};function zs(e,t,n){return t=n?o:t,lo(e,C,o,o,o,o,t=e&&null==t?e.length:t)}function Fs(e,t){var n;if("function"!=typeof t)throw new Ke(a);return e=_a(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Bs=ci(function(e,t,n){var r=f;if(n.length){var i=vn(n,bo(Bs));r|=b}return lo(e,r,t,n,i)}),Gs=ci(function(e,t,n){var r=f|g;if(n.length){var i=vn(n,bo(Gs));r|=b}return lo(t,r,e,n,i)});function Us(e,t,n){var r,i,s,l,u,c,h=0,d=!1,p=!1,f=!0;if("function"!=typeof e)throw new Ke(a);function g(t){var n=r,s=i;return r=i=o,h=t,l=e.apply(s,n)}function m(e){var n=e-c;return c===o||n>=t||n<0||p&&e-h>=s}function v(){var e=Ls();if(m(e))return y(e);u=Uo(v,function(e){var n=t-(e-c);return p?Rn(n,s-(e-h)):n}(e))}function y(e){return u=o,f&&r?g(e):(r=i=o,l)}function b(){var e=Ls(),n=m(e);if(r=arguments,i=this,c=e,n){if(u===o)return function(e){return h=e,u=Uo(v,t),d?g(e):l}(c);if(p)return Oi(u),u=Uo(v,t),g(c)}return u===o&&(u=Uo(v,t)),l}return t=Da(t)||0,ha(n)&&(d=!!n.leading,s=(p="maxWait"in n)?jn(Da(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f),b.cancel=function(){u!==o&&Oi(u),h=0,r=c=i=u=o},b.flush=function(){return u===o?l:y(Ls())},b}var Zs=ci(function(e,t){return _r(e,1,t)}),Ws=ci(function(e,t,n){return _r(e,Da(t)||0,n)});function Vs(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ke(a);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Vs.Cache||cr),n}function Ys(e){if("function"!=typeof e)throw new Ke(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Vs.Cache=cr;var Hs=Pi(function(e,t){var n=(t=1==t.length&&ta(t[0])?Ut(t[0],sn(wo())):Ut(Mr(t,1),sn(wo()))).length;return ci(function(r){for(var i=-1,o=Rn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return jt(e,this,r)})}),qs=ci(function(e,t){var n=vn(t,bo(qs));return lo(e,b,o,t,n)}),Xs=ci(function(e,t){var n=vn(t,bo(Xs));return lo(e,w,o,t,n)}),Ks=fo(function(e,t){return lo(e,I,o,o,o,t)});function Js(e,t){return e===t||e!=e&&t!=t}var Qs=ro(Gr),$s=ro(function(e,t){return e>=t}),ea=Yr(function(){return arguments}())?Yr:function(e){return da(e)&&tt.call(e,"callee")&&!_t.call(e,"callee")},ta=r.isArray,na=kt?sn(kt):function(e){return da(e)&&Br(e)==ee};function ra(e){return null!=e&&ca(e.length)&&!la(e)}function ia(e){return da(e)&&ra(e)}var oa=Pn||Dl,sa=Nt?sn(Nt):function(e){return da(e)&&Br(e)==z};function aa(e){if(!da(e))return!1;var t=Br(e);return t==B||t==F||"string"==typeof e.message&&"string"==typeof e.name&&!ga(e)}function la(e){if(!ha(e))return!1;var t=Br(e);return t==G||t==U||t==R||t==H}function ua(e){return"number"==typeof e&&e==_a(e)}function ca(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=D}function ha(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function da(e){return null!=e&&"object"==typeof e}var pa=Pt?sn(Pt):function(e){return da(e)&&So(e)==Z};function fa(e){return"number"==typeof e||da(e)&&Br(e)==W}function ga(e){if(!da(e)||Br(e)!=Y)return!1;var t=It(e);if(null===t)return!0;var n=tt.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&et.call(n)==ot}var ma=Mt?sn(Mt):function(e){return da(e)&&Br(e)==q},va=Ot?sn(Ot):function(e){return da(e)&&So(e)==X};function ya(e){return"string"==typeof e||!ta(e)&&da(e)&&Br(e)==K}function ba(e){return"symbol"==typeof e||da(e)&&Br(e)==J}var wa=Et?sn(Et):function(e){return da(e)&&ca(e.length)&&!!mt[Br(e)]},Ca=ro(Qr),Ia=ro(function(e,t){return e<=t});function xa(e){if(!e)return[];if(ra(e))return ya(e)?Cn(e):Bi(e);if(Ht&&e[Ht])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ht]());var t=So(e);return(t==Z?gn:t==X?yn:Ja)(e)}function Aa(e){return e?(e=Da(e))===S||e===-S?(e<0?-1:1)*T:e==e?e:0:0===e?e:0}function _a(e){var t=Aa(e),n=t%1;return t==t?n?t-n:t:0}function Sa(e){return e?Ir(_a(e),0,N):0}function Da(e){if("number"==typeof e)return e;if(ba(e))return k;if(ha(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ha(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Se,"");var n=Le.test(e);return n||Fe.test(e)?wt(e.slice(2),n?2:8):Re.test(e)?k:+e}function Ta(e){return Gi(e,Za(e))}function ka(e){return null==e?"":wi(e)}var Na=Zi(function(e,t){if(jo(t)||ra(t))Gi(t,Ua(t),e);else for(var n in t)tt.call(t,n)&&mr(e,n,t[n])}),Pa=Zi(function(e,t){Gi(t,Za(t),e)}),Ma=Zi(function(e,t,n,r){Gi(t,Za(t),e,r)}),Oa=Zi(function(e,t,n,r){Gi(t,Ua(t),e,r)}),Ea=fo(Cr),ja=ci(function(e,t){e=He(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Po(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=Za(s),l=-1,u=a.length;++l<u;){var c=a[l],h=e[c];(h===o||Js(h,Qe[c])&&!tt.call(e,c))&&(e[c]=s[c])}return e}),Ra=ci(function(e){return e.push(o,co),jt(Va,o,e)});function La(e,t,n){var r=null==e?o:zr(e,t);return r===o?n:r}function za(e,t){return null!=e&&Do(e,t,Zr)}var Fa=Qi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=it.call(t)),e[t]=n},hl(fl)),Ba=Qi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=it.call(t)),tt.call(e,t)?e[t].push(n):e[t]=[n]},wo),Ga=ci(Vr);function Ua(e){return ra(e)?pr(e):Jr(e)}function Za(e){return ra(e)?pr(e,!0):function(e){if(!ha(e))return function(e){var t=[];if(null!=e)for(var n in He(e))t.push(n);return t}(e);var t=jo(e),n=[];for(var r in e)("constructor"!=r||!t&&tt.call(e,r))&&n.push(r);return n}(e)}var Wa=Zi(function(e,t,n){ni(e,t,n)}),Va=Zi(function(e,t,n,r){ni(e,t,n,r)}),Ya=fo(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ut(t,function(t){return t=Ni(t,e),r||(r=t.length>1),t}),Gi(e,mo(e),n),r&&(n=xr(n,u|c|h,ho));for(var i=t.length;i--;)Ii(n,t[i]);return n}),Ha=fo(function(e,t){return null==e?{}:function(e,t){return oi(e,t,function(t,n){return za(e,n)})}(e,t)});function qa(e,t){if(null==e)return{};var n=Ut(mo(e),function(e){return[e]});return t=wo(t),oi(e,n,function(e,n){return t(e,n[0])})}var Xa=ao(Ua),Ka=ao(Za);function Ja(e){return null==e?[]:an(e,Ua(e))}var Qa=Hi(function(e,t,n){return t=t.toLowerCase(),e+(n?$a(t):t)});function $a(e){return al(ka(e).toLowerCase())}function el(e){return(e=ka(e))&&e.replace(Ge,hn).replace(ut,"")}var tl=Hi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),nl=Hi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),rl=Yi("toLowerCase"),il=Hi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),ol=Hi(function(e,t,n){return e+(n?" ":"")+al(t)}),sl=Hi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),al=Yi("toUpperCase");function ll(e,t,n){return e=ka(e),(t=n?o:t)===o?function(e){return pt.test(e)}(e)?function(e){return e.match(ht)||[]}(e):function(e){return e.match(Me)||[]}(e):e.match(t)||[]}var ul=ci(function(e,t){try{return jt(e,o,t)}catch(n){return aa(n)?n:new We(n)}}),cl=fo(function(e,t){return Lt(t,function(t){t=qo(t),wr(e,t,Bs(e[t],e))}),e});function hl(e){return function(){return e}}var dl=Ki(),pl=Ki(!0);function fl(e){return e}function gl(e){return Kr("function"==typeof e?e:xr(e,u))}var ml=ci(function(e,t){return function(n){return Vr(n,e,t)}}),vl=ci(function(e,t){return function(n){return Vr(e,n,t)}});function yl(e,t,n){var r=Ua(t),i=Lr(t,r);null!=n||ha(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Lr(t,Ua(t)));var o=!(ha(n)&&"chain"in n&&!n.chain),s=la(e);return Lt(i,function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Bi(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Zt([this.value()],arguments))})}),e}function bl(){}var wl=eo(Ut),Cl=eo(zt),Il=eo(Yt);function xl(e){return Mo(e)?en(qo(e)):function(e){return function(t){return zr(t,e)}}(e)}var Al=no(),_l=no(!0);function Sl(){return[]}function Dl(){return!1}var Tl,kl=$i(function(e,t){return e+t},0),Nl=oo("ceil"),Pl=$i(function(e,t){return e/t},1),Ml=oo("floor"),Ol=$i(function(e,t){return e*t},1),El=oo("round"),jl=$i(function(e,t){return e-t},0);return rr.after=function(e,t){if("function"!=typeof t)throw new Ke(a);return e=_a(e),function(){if(--e<1)return t.apply(this,arguments)}},rr.ary=zs,rr.assign=Na,rr.assignIn=Pa,rr.assignInWith=Ma,rr.assignWith=Oa,rr.at=Ea,rr.before=Fs,rr.bind=Bs,rr.bindAll=cl,rr.bindKey=Gs,rr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return ta(e)?e:[e]},rr.chain=xs,rr.chunk=function(e,t,n){t=(n?Po(e,t,n):t===o)?1:jn(_a(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,l=r(Tn(i/t));s<i;)l[a++]=fi(e,s,s+=t);return l},rr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},rr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Zt(ta(n)?Bi(n):[n],Mr(t,1))},rr.cond=function(e){var t=null==e?0:e.length,n=wo();return e=t?Ut(e,function(e){if("function"!=typeof e[1])throw new Ke(a);return[n(e[0]),e[1]]}):[],ci(function(n){for(var r=-1;++r<t;){var i=e[r];if(jt(i[0],this,n))return jt(i[1],this,n)}})},rr.conforms=function(e){return function(e){var t=Ua(e);return function(n){return Ar(n,e,t)}}(xr(e,u))},rr.constant=hl,rr.countBy=Ss,rr.create=function(e,t){var n=ir(e);return null==t?n:br(n,t)},rr.curry=function e(t,n,r){var i=lo(t,v,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},rr.curryRight=function e(t,n,r){var i=lo(t,y,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},rr.debounce=Us,rr.defaults=ja,rr.defaultsDeep=Ra,rr.defer=Zs,rr.delay=Ws,rr.difference=Jo,rr.differenceBy=Qo,rr.differenceWith=$o,rr.drop=function(e,t,n){var r=null==e?0:e.length;return r?fi(e,(t=n||t===o?1:_a(t))<0?0:t,r):[]},rr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?fi(e,0,(t=r-(t=n||t===o?1:_a(t)))<0?0:t):[]},rr.dropRightWhile=function(e,t){return e&&e.length?Ai(e,wo(t,3),!0,!0):[]},rr.dropWhile=function(e,t){return e&&e.length?Ai(e,wo(t,3),!0):[]},rr.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&Po(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=_a(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:_a(r))<0&&(r+=i),r=n>r?0:Sa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},rr.filter=function(e,t){return(ta(e)?Ft:Pr)(e,wo(t,3))},rr.flatMap=function(e,t){return Mr(Es(e,t),1)},rr.flatMapDeep=function(e,t){return Mr(Es(e,t),S)},rr.flatMapDepth=function(e,t,n){return n=n===o?1:_a(n),Mr(Es(e,t),n)},rr.flatten=ns,rr.flattenDeep=function(e){return null!=e&&e.length?Mr(e,S):[]},rr.flattenDepth=function(e,t){return null!=e&&e.length?Mr(e,t=t===o?1:_a(t)):[]},rr.flip=function(e){return lo(e,x)},rr.flow=dl,rr.flowRight=pl,rr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},rr.functions=function(e){return null==e?[]:Lr(e,Ua(e))},rr.functionsIn=function(e){return null==e?[]:Lr(e,Za(e))},rr.groupBy=Ps,rr.initial=function(e){return null!=e&&e.length?fi(e,0,-1):[]},rr.intersection=is,rr.intersectionBy=os,rr.intersectionWith=ss,rr.invert=Fa,rr.invertBy=Ba,rr.invokeMap=Ms,rr.iteratee=gl,rr.keyBy=Os,rr.keys=Ua,rr.keysIn=Za,rr.map=Es,rr.mapKeys=function(e,t){var n={};return t=wo(t,3),jr(e,function(e,r,i){wr(n,t(e,r,i),e)}),n},rr.mapValues=function(e,t){var n={};return t=wo(t,3),jr(e,function(e,r,i){wr(n,r,t(e,r,i))}),n},rr.matches=function(e){return ei(xr(e,u))},rr.matchesProperty=function(e,t){return ti(e,xr(t,u))},rr.memoize=Vs,rr.merge=Wa,rr.mergeWith=Va,rr.method=ml,rr.methodOf=vl,rr.mixin=yl,rr.negate=Ys,rr.nthArg=function(e){return e=_a(e),ci(function(t){return ri(t,e)})},rr.omit=Ya,rr.omitBy=function(e,t){return qa(e,Ys(wo(t)))},rr.once=function(e){return Fs(2,e)},rr.orderBy=function(e,t,n,r){return null==e?[]:(ta(t)||(t=null==t?[]:[t]),ta(n=r?o:n)||(n=null==n?[]:[n]),ii(e,t,n))},rr.over=wl,rr.overArgs=Hs,rr.overEvery=Cl,rr.overSome=Il,rr.partial=qs,rr.partialRight=Xs,rr.partition=js,rr.pick=Ha,rr.pickBy=qa,rr.property=xl,rr.propertyOf=function(e){return function(t){return null==e?o:zr(e,t)}},rr.pull=ls,rr.pullAll=us,rr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?si(e,t,wo(n,2)):e},rr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?si(e,t,o,n):e},rr.pullAt=cs,rr.range=Al,rr.rangeRight=_l,rr.rearg=Ks,rr.reject=function(e,t){return(ta(e)?Ft:Pr)(e,Ys(wo(t,3)))},rr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=wo(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return ai(e,i),n},rr.rest=function(e,t){if("function"!=typeof e)throw new Ke(a);return ci(e,t=t===o?t:_a(t))},rr.reverse=hs,rr.sampleSize=function(e,t,n){return t=(n?Po(e,t,n):t===o)?1:_a(t),(ta(e)?function(e,t){return Yo(Bi(e),Ir(t,0,e.length))}:function(e,t){var n=Ja(e);return Yo(n,Ir(t,0,n.length))})(e,t)},rr.set=function(e,t,n){return null==e?e:hi(e,t,n)},rr.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:hi(e,t,n,r)},rr.shuffle=function(e){return(ta(e)?function(e){return Yo(Bi(e))}:function(e){return Yo(Ja(e))})(e)},rr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Po(e,t,n)?(t=0,n=r):(t=null==t?0:_a(t),n=n===o?r:_a(n)),fi(e,t,n)):[]},rr.sortBy=Rs,rr.sortedUniq=function(e){return e&&e.length?yi(e):[]},rr.sortedUniqBy=function(e,t){return e&&e.length?yi(e,wo(t,2)):[]},rr.split=function(e,t,n){return n&&"number"!=typeof n&&Po(e,t,n)&&(t=n=o),(n=n===o?N:n>>>0)?(e=ka(e))&&("string"==typeof t||null!=t&&!ma(t))&&!(t=wi(t))&&fn(e)?Mi(Cn(e),0,n):e.split(t,n):[]},rr.spread=function(e,t){if("function"!=typeof e)throw new Ke(a);return t=null==t?0:jn(_a(t),0),ci(function(n){var r=n[t],i=Mi(n,0,t);return r&&Zt(i,r),jt(e,this,i)})},rr.tail=function(e){var t=null==e?0:e.length;return t?fi(e,1,t):[]},rr.take=function(e,t,n){return e&&e.length?fi(e,0,(t=n||t===o?1:_a(t))<0?0:t):[]},rr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?fi(e,(t=r-(t=n||t===o?1:_a(t)))<0?0:t,r):[]},rr.takeRightWhile=function(e,t){return e&&e.length?Ai(e,wo(t,3),!1,!0):[]},rr.takeWhile=function(e,t){return e&&e.length?Ai(e,wo(t,3)):[]},rr.tap=function(e,t){return t(e),e},rr.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ke(a);return ha(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Us(e,t,{leading:r,maxWait:t,trailing:i})},rr.thru=As,rr.toArray=xa,rr.toPairs=Xa,rr.toPairsIn=Ka,rr.toPath=function(e){return ta(e)?Ut(e,qo):ba(e)?[e]:Bi(Ho(ka(e)))},rr.toPlainObject=Ta,rr.transform=function(e,t,n){var r=ta(e),i=r||oa(e)||wa(e);if(t=wo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ha(e)&&la(o)?ir(It(e)):{}}return(i?Lt:jr)(e,function(e,r,i){return t(n,e,r,i)}),n},rr.unary=function(e){return zs(e,1)},rr.union=ds,rr.unionBy=ps,rr.unionWith=fs,rr.uniq=function(e){return e&&e.length?Ci(e):[]},rr.uniqBy=function(e,t){return e&&e.length?Ci(e,wo(t,2)):[]},rr.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?Ci(e,o,t):[]},rr.unset=function(e,t){return null==e||Ii(e,t)},rr.unzip=gs,rr.unzipWith=ms,rr.update=function(e,t,n){return null==e?e:xi(e,t,ki(n))},rr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:xi(e,t,ki(n),r)},rr.values=Ja,rr.valuesIn=function(e){return null==e?[]:an(e,Za(e))},rr.without=vs,rr.words=ll,rr.wrap=function(e,t){return qs(ki(t),e)},rr.xor=ys,rr.xorBy=bs,rr.xorWith=ws,rr.zip=Cs,rr.zipObject=function(e,t){return Di(e||[],t||[],mr)},rr.zipObjectDeep=function(e,t){return Di(e||[],t||[],hi)},rr.zipWith=Is,rr.entries=Xa,rr.entriesIn=Ka,rr.extend=Pa,rr.extendWith=Ma,yl(rr,rr),rr.add=kl,rr.attempt=ul,rr.camelCase=Qa,rr.capitalize=$a,rr.ceil=Nl,rr.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=Da(n))==n?n:0),t!==o&&(t=(t=Da(t))==t?t:0),Ir(Da(e),t,n)},rr.clone=function(e){return xr(e,h)},rr.cloneDeep=function(e){return xr(e,u|h)},rr.cloneDeepWith=function(e,t){return xr(e,u|h,t="function"==typeof t?t:o)},rr.cloneWith=function(e,t){return xr(e,h,t="function"==typeof t?t:o)},rr.conformsTo=function(e,t){return null==t||Ar(e,t,Ua(t))},rr.deburr=el,rr.defaultTo=function(e,t){return null==e||e!=e?t:e},rr.divide=Pl,rr.endsWith=function(e,t,n){e=ka(e),t=wi(t);var r=e.length,i=n=n===o?r:Ir(_a(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},rr.eq=Js,rr.escape=function(e){return(e=ka(e))&&ve.test(e)?e.replace(ge,dn):e},rr.escapeRegExp=function(e){return(e=ka(e))&&_e.test(e)?e.replace(Ae,"\\$&"):e},rr.every=function(e,t,n){var r=ta(e)?zt:kr;return n&&Po(e,t,n)&&(t=o),r(e,wo(t,3))},rr.find=Ds,rr.findIndex=es,rr.findKey=function(e,t){return qt(e,wo(t,3),jr)},rr.findLast=Ts,rr.findLastIndex=ts,rr.findLastKey=function(e,t){return qt(e,wo(t,3),Rr)},rr.floor=Ml,rr.forEach=ks,rr.forEachRight=Ns,rr.forIn=function(e,t){return null==e?e:Or(e,wo(t,3),Za)},rr.forInRight=function(e,t){return null==e?e:Er(e,wo(t,3),Za)},rr.forOwn=function(e,t){return e&&jr(e,wo(t,3))},rr.forOwnRight=function(e,t){return e&&Rr(e,wo(t,3))},rr.get=La,rr.gt=Qs,rr.gte=$s,rr.has=function(e,t){return null!=e&&Do(e,t,Ur)},rr.hasIn=za,rr.head=rs,rr.identity=fl,rr.includes=function(e,t,n,r){e=ra(e)?e:Ja(e),n=n&&!r?_a(n):0;var i=e.length;return n<0&&(n=jn(i+n,0)),ya(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Kt(e,t,n)>-1},rr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:_a(n);return i<0&&(i=jn(r+i,0)),Kt(e,t,i)},rr.inRange=function(e,t,n){return t=Aa(t),n===o?(n=t,t=0):n=Aa(n),function(e,t,n){return e>=Rn(t,n)&&e<jn(t,n)}(e=Da(e),t,n)},rr.invoke=Ga,rr.isArguments=ea,rr.isArray=ta,rr.isArrayBuffer=na,rr.isArrayLike=ra,rr.isArrayLikeObject=ia,rr.isBoolean=function(e){return!0===e||!1===e||da(e)&&Br(e)==L},rr.isBuffer=oa,rr.isDate=sa,rr.isElement=function(e){return da(e)&&1===e.nodeType&&!ga(e)},rr.isEmpty=function(e){if(null==e)return!0;if(ra(e)&&(ta(e)||"string"==typeof e||"function"==typeof e.splice||oa(e)||wa(e)||ea(e)))return!e.length;var t=So(e);if(t==Z||t==X)return!e.size;if(jo(e))return!Jr(e).length;for(var n in e)if(tt.call(e,n))return!1;return!0},rr.isEqual=function(e,t){return Hr(e,t)},rr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Hr(e,t,o,n):!!r},rr.isError=aa,rr.isFinite=function(e){return"number"==typeof e&&Mn(e)},rr.isFunction=la,rr.isInteger=ua,rr.isLength=ca,rr.isMap=pa,rr.isMatch=function(e,t){return e===t||qr(e,t,Io(t))},rr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,qr(e,t,Io(t),n)},rr.isNaN=function(e){return fa(e)&&e!=+e},rr.isNative=function(e){if(Eo(e))throw new We("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Xr(e)},rr.isNil=function(e){return null==e},rr.isNull=function(e){return null===e},rr.isNumber=fa,rr.isObject=ha,rr.isObjectLike=da,rr.isPlainObject=ga,rr.isRegExp=ma,rr.isSafeInteger=function(e){return ua(e)&&e>=-D&&e<=D},rr.isSet=va,rr.isString=ya,rr.isSymbol=ba,rr.isTypedArray=wa,rr.isUndefined=function(e){return e===o},rr.isWeakMap=function(e){return da(e)&&So(e)==$},rr.isWeakSet=function(e){return da(e)&&"[object WeakSet]"==Br(e)},rr.join=function(e,t){return null==e?"":On.call(e,t)},rr.kebabCase=tl,rr.last=as,rr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=_a(n))<0?jn(r+i,0):Rn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Xt(e,Qt,i,!0)},rr.lowerCase=nl,rr.lowerFirst=rl,rr.lt=Ca,rr.lte=Ia,rr.max=function(e){return e&&e.length?Nr(e,fl,Gr):o},rr.maxBy=function(e,t){return e&&e.length?Nr(e,wo(t,2),Gr):o},rr.mean=function(e){return $t(e,fl)},rr.meanBy=function(e,t){return $t(e,wo(t,2))},rr.min=function(e){return e&&e.length?Nr(e,fl,Qr):o},rr.minBy=function(e,t){return e&&e.length?Nr(e,wo(t,2),Qr):o},rr.stubArray=Sl,rr.stubFalse=Dl,rr.stubObject=function(){return{}},rr.stubString=function(){return""},rr.stubTrue=function(){return!0},rr.multiply=Ol,rr.nth=function(e,t){return e&&e.length?ri(e,_a(t)):o},rr.noConflict=function(){return xt._===this&&(xt._=st),this},rr.noop=bl,rr.now=Ls,rr.pad=function(e,t,n){e=ka(e);var r=(t=_a(t))?wn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return to(kn(i),n)+e+to(Tn(i),n)},rr.padEnd=function(e,t,n){e=ka(e);var r=(t=_a(t))?wn(e):0;return t&&r<t?e+to(t-r,n):e},rr.padStart=function(e,t,n){e=ka(e);var r=(t=_a(t))?wn(e):0;return t&&r<t?to(t-r,n)+e:e},rr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),zn(ka(e).replace(De,""),t||0)},rr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Po(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=Aa(e),t===o?(t=e,e=0):t=Aa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=Fn();return Rn(e+i*(t-e+bt("1e-"+((i+"").length-1))),t)}return li(e,t)},rr.reduce=function(e,t,n){var r=ta(e)?Wt:nn,i=arguments.length<3;return r(e,wo(t,4),n,i,Dr)},rr.reduceRight=function(e,t,n){var r=ta(e)?Vt:nn,i=arguments.length<3;return r(e,wo(t,4),n,i,Tr)},rr.repeat=function(e,t,n){return t=(n?Po(e,t,n):t===o)?1:_a(t),ui(ka(e),t)},rr.replace=function(){var e=arguments,t=ka(e[0]);return e.length<3?t:t.replace(e[1],e[2])},rr.result=function(e,t,n){var r=-1,i=(t=Ni(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[qo(t[r])];s===o&&(r=i,s=n),e=la(s)?s.call(e):s}return e},rr.round=El,rr.runInContext=e,rr.sample=function(e){return(ta(e)?fr:function(e){return fr(Ja(e))})(e)},rr.size=function(e){if(null==e)return 0;if(ra(e))return ya(e)?wn(e):e.length;var t=So(e);return t==Z||t==X?e.size:Jr(e).length},rr.snakeCase=il,rr.some=function(e,t,n){var r=ta(e)?Yt:gi;return n&&Po(e,t,n)&&(t=o),r(e,wo(t,3))},rr.sortedIndex=function(e,t){return mi(e,t)},rr.sortedIndexBy=function(e,t,n){return vi(e,t,wo(n,2))},rr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=mi(e,t);if(r<n&&Js(e[r],t))return r}return-1},rr.sortedLastIndex=function(e,t){return mi(e,t,!0)},rr.sortedLastIndexBy=function(e,t,n){return vi(e,t,wo(n,2),!0)},rr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=mi(e,t,!0)-1;if(Js(e[n],t))return n}return-1},rr.startCase=ol,rr.startsWith=function(e,t,n){return e=ka(e),n=null==n?0:Ir(_a(n),0,e.length),t=wi(t),e.slice(n,n+t.length)==t},rr.subtract=jl,rr.sum=function(e){return e&&e.length?rn(e,fl):0},rr.sumBy=function(e,t){return e&&e.length?rn(e,wo(t,2)):0},rr.template=function(e,t,n){var r=rr.templateSettings;n&&Po(e,t,n)&&(t=o),e=ka(e),t=Ma({},t,r,uo);var i,s,a=Ma({},t.imports,r.imports,uo),l=Ua(a),u=an(a,l),c=0,h=t.interpolate||Ue,d="__p += '",p=qe((t.escape||Ue).source+"|"+h.source+"|"+(h===we?Ee:Ue).source+"|"+(t.evaluate||Ue).source+"|$","g"),f="//# sourceURL="+(tt.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++gt+"]")+"\n";e.replace(p,function(t,n,r,o,a,l){return r||(r=o),d+=e.slice(c,l).replace(Ze,pn),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var g=tt.call(t,"variable")&&t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(he,""):d).replace(de,"$1").replace(pe,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=ul(function(){return Ve(l,f+"return "+d).apply(o,u)});if(m.source=d,aa(m))throw m;return m},rr.times=function(e,t){if((e=_a(e))<1||e>D)return[];var n=N,r=Rn(e,N);t=wo(t),e-=N;for(var i=on(r,t);++n<e;)t(n);return i},rr.toFinite=Aa,rr.toInteger=_a,rr.toLength=Sa,rr.toLower=function(e){return ka(e).toLowerCase()},rr.toNumber=Da,rr.toSafeInteger=function(e){return e?Ir(_a(e),-D,D):0===e?e:0},rr.toString=ka,rr.toUpper=function(e){return ka(e).toUpperCase()},rr.trim=function(e,t,n){if((e=ka(e))&&(n||t===o))return e.replace(Se,"");if(!e||!(t=wi(t)))return e;var r=Cn(e),i=Cn(t);return Mi(r,un(r,i),cn(r,i)+1).join("")},rr.trimEnd=function(e,t,n){if((e=ka(e))&&(n||t===o))return e.replace(Te,"");if(!e||!(t=wi(t)))return e;var r=Cn(e);return Mi(r,0,cn(r,Cn(t))+1).join("")},rr.trimStart=function(e,t,n){if((e=ka(e))&&(n||t===o))return e.replace(De,"");if(!e||!(t=wi(t)))return e;var r=Cn(e);return Mi(r,un(r,Cn(t))).join("")},rr.truncate=function(e,t){var n=30,r="...";if(ha(t)){var i="separator"in t?t.separator:i;n="length"in t?_a(t.length):n,r="omission"in t?wi(t.omission):r}var s=(e=ka(e)).length;if(fn(e)){var a=Cn(e);s=a.length}if(n>=s)return e;var l=n-wn(r);if(l<1)return r;var u=a?Mi(a,0,l).join(""):e.slice(0,l);if(i===o)return u+r;if(a&&(l+=u.length-l),ma(i)){if(e.slice(l).search(i)){var c,h=u;for(i.global||(i=qe(i.source,ka(je.exec(i))+"g")),i.lastIndex=0;c=i.exec(h);)var d=c.index;u=u.slice(0,d===o?l:d)}}else if(e.indexOf(wi(i),l)!=l){var p=u.lastIndexOf(i);p>-1&&(u=u.slice(0,p))}return u+r},rr.unescape=function(e){return(e=ka(e))&&me.test(e)?e.replace(fe,In):e},rr.uniqueId=function(e){var t=++nt;return ka(e)+t},rr.upperCase=sl,rr.upperFirst=al,rr.each=ks,rr.eachRight=Ns,rr.first=rs,yl(rr,(Tl={},jr(rr,function(e,t){tt.call(rr.prototype,t)||(Tl[t]=e)}),Tl),{chain:!1}),rr.VERSION="4.17.15",Lt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){rr[e].placeholder=rr}),Lt(["drop","take"],function(e,t){ar.prototype[e]=function(n){n=n===o?1:jn(_a(n),0);var r=this.__filtered__&&!t?new ar(this):this.clone();return r.__filtered__?r.__takeCount__=Rn(n,r.__takeCount__):r.__views__.push({size:Rn(n,N),type:e+(r.__dir__<0?"Right":"")}),r},ar.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Lt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;ar.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:wo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Lt(["head","last"],function(e,t){var n="take"+(t?"Right":"");ar.prototype[e]=function(){return this[n](1).value()[0]}}),Lt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");ar.prototype[e]=function(){return this.__filtered__?new ar(this):this[n](1)}}),ar.prototype.compact=function(){return this.filter(fl)},ar.prototype.find=function(e){return this.filter(e).head()},ar.prototype.findLast=function(e){return this.reverse().find(e)},ar.prototype.invokeMap=ci(function(e,t){return"function"==typeof e?new ar(this):this.map(function(n){return Vr(n,e,t)})}),ar.prototype.reject=function(e){return this.filter(Ys(wo(e)))},ar.prototype.slice=function(e,t){e=_a(e);var n=this;return n.__filtered__&&(e>0||t<0)?new ar(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=_a(t))<0?n.dropRight(-t):n.take(t-e)),n)},ar.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ar.prototype.toArray=function(){return this.take(N)},jr(ar.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=rr[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(rr.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,l=t instanceof ar,u=a[0],c=l||ta(t),h=function(e){var t=i.apply(rr,Zt([e],a));return r&&d?t[0]:t};c&&n&&"function"==typeof u&&1!=u.length&&(l=c=!1);var d=this.__chain__,p=s&&!d,f=l&&!this.__actions__.length;if(!s&&c){t=f?t:new ar(this);var g=e.apply(t,a);return g.__actions__.push({func:As,args:[h],thisArg:o}),new sr(g,d)}return p&&f?e.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})}),Lt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Je[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);rr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(ta(i)?i:[],e)}return this[n](function(n){return t.apply(ta(n)?n:[],e)})}}),jr(ar.prototype,function(e,t){var n=rr[t];if(n){var r=n.name+"";tt.call(qn,r)||(qn[r]=[]),qn[r].push({name:t,func:n})}}),qn[Ji(o,g).name]=[{name:"wrapper",func:o}],ar.prototype.clone=function(){var e=new ar(this.__wrapped__);return e.__actions__=Bi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Bi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Bi(this.__views__),e},ar.prototype.reverse=function(){if(this.__filtered__){var e=new ar(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},ar.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ta(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Rn(t,e+s);break;case"takeRight":e=jn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,l=a-s,u=r?a:s-1,c=this.__iteratees__,h=c.length,d=0,p=Rn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return _i(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var g=-1,m=e[u+=t];++g<h;){var v=c[g],y=v.type,b=(0,v.iteratee)(m);if(2==y)m=b;else if(!b){if(1==y)continue e;break e}}f[d++]=m}return f},rr.prototype.at=_s,rr.prototype.chain=function(){return xs(this)},rr.prototype.commit=function(){return new sr(this.value(),this.__chain__)},rr.prototype.next=function(){this.__values__===o&&(this.__values__=xa(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},rr.prototype.plant=function(e){for(var t,n=this;n instanceof or;){var r=Ko(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},rr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof ar){var t=e;return this.__actions__.length&&(t=new ar(this)),(t=t.reverse()).__actions__.push({func:As,args:[hs],thisArg:o}),new sr(t,this.__chain__)}return this.thru(hs)},rr.prototype.toJSON=rr.prototype.valueOf=rr.prototype.value=function(){return _i(this.__wrapped__,this.__actions__)},rr.prototype.first=rr.prototype.head,Ht&&(rr.prototype[Ht]=function(){return this}),rr}();xt._=xn,(i=(function(){return xn}).call(t,n,t,r))===o||(r.exports=i)}).call(this)}).call(this,n("yLpj"),n("YuTi")(e))},MGBS:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.c(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n("FFOo").a)},MOv1:function(e,t,n){"use strict";(function(e){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});const i=n("Gkij"),o=n("f7Fo");t.RequestType=o.RequestType,t.RequestType0=o.RequestType0,t.RequestType1=o.RequestType1,t.RequestType2=o.RequestType2,t.RequestType3=o.RequestType3,t.RequestType4=o.RequestType4,t.RequestType5=o.RequestType5,t.RequestType6=o.RequestType6,t.RequestType7=o.RequestType7,t.RequestType8=o.RequestType8,t.RequestType9=o.RequestType9,t.ResponseError=o.ResponseError,t.ErrorCodes=o.ErrorCodes,t.NotificationType=o.NotificationType,t.NotificationType0=o.NotificationType0,t.NotificationType1=o.NotificationType1,t.NotificationType2=o.NotificationType2,t.NotificationType3=o.NotificationType3,t.NotificationType4=o.NotificationType4,t.NotificationType5=o.NotificationType5,t.NotificationType6=o.NotificationType6,t.NotificationType7=o.NotificationType7,t.NotificationType8=o.NotificationType8,t.NotificationType9=o.NotificationType9;const s=n("K4MX");t.MessageReader=s.MessageReader,t.StreamMessageReader=s.StreamMessageReader,t.IPCMessageReader=s.IPCMessageReader,t.SocketMessageReader=s.SocketMessageReader;const a=n("k5Vz");t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const l=n("fIkx");t.Disposable=l.Disposable,t.Event=l.Event,t.Emitter=l.Emitter;const u=n("BA4U");t.CancellationTokenSource=u.CancellationTokenSource,t.CancellationToken=u.CancellationToken;const c=n("wSv1");var h,d;r(n("I0O9")),r(n("uUC1")),function(e){e.type=new o.NotificationType("$/cancelRequest")}(h||(h={})),function(e){e.type=new o.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){this._=void 0}},t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var p,f,g,m=t.Trace=function(e){return e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose",e}(t.Trace||{});!function(e){e.fromString=function(t){if(!i.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(m=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(p=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new o.NotificationType("$/setTraceNotification")}(f=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new o.NotificationType("$/logTraceNotification")}(g=t.LogTraceNotification||(t.LogTraceNotification={}));var v=t.ConnectionErrors=function(e){return e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening",e}(t.ConnectionErrors||{});class y extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,y.prototype)}}t.ConnectionError=y,(t.ConnectionStrategy||(t.ConnectionStrategy={})).is=function(e){return e&&i.func(e.cancelUndispatched)};var b=function(e){return e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed",e}({});t.createMessageConnection=function(n,r,w,C){var I;return w||(w=t.NullLogger),function(t,n,r,s){let a=0,w=0,C=0;const I="2.0";let x,A,_=void 0,S=Object.create(null),D=void 0,T=Object.create(null),k=new Map,N=new c.LinkedMap,P=Object.create(null),M=Object.create(null),O=m.Off,E=p.Text,j=b.New,R=new l.Emitter,L=new l.Emitter,z=new l.Emitter,F=new l.Emitter,B=new l.Emitter;function G(e){return"req-"+e.toString()}function U(e){}function Z(){return j===b.Listening}function W(){return j===b.Closed}function V(){return j===b.Disposed}function Y(){j!==b.New&&j!==b.Listening||(j=b.Closed,L.fire(void 0))}t.onClose(Y),t.onError(function(e){R.fire([e,void 0,void 0])}),n.onClose(Y),n.onError(function(e){R.fire(e)});let H=t=>{try{if(o.isNotificationMessage(t)&&t.method===h.type.method){let e=G(t.params.id),r=N.get(e);if(o.isRequestMessage(r)){let i=s&&s.cancelUndispatched?s.cancelUndispatched(r,U):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return N.delete(e),i.id=r.id,q(i,t.method,Date.now()),void n.write(i)}}!function(e,t){var n;o.isRequestMessage(t)?e.set(G(t.id),t):o.isResponseMessage(t)?e.set(null===(n=t.id)?"res-unknown-"+(++C).toString():"res-"+n.toString(),t):e.set("not-"+(++w).toString(),t)}(N,t)}finally{!function t(){x||0===N.size||(x=e(()=>{x=void 0,function(){if(0===N.size)return;let e=N.shift();try{o.isRequestMessage(e)?function(e){if(V())return;function t(t,r,i){let s={jsonrpc:I,id:e.id};t instanceof o.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,q(s,r,i),n.write(s)}function r(t,r,i){let o={jsonrpc:I,id:e.id,error:t.toJson()};q(o,r,i),n.write(o)}!function(e){if(O!==m.Off&&A)if(E===p.Text){let t=void 0;O===m.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),A.log(`Received request '${e.method} - (${e.id})'.`,t)}else X("receive-request",e)}(e);let s,a,l=S[e.method];l&&(s=l.type,a=l.handler);let c=Date.now();if(a||_){let l=new u.CancellationTokenSource,d=String(e.id);M[d]=l;try{let u,p=u=void 0===e.params||void 0!==s&&0===s.numberOfParams?a?a(l.token):_(e.method,l.token):i.array(e.params)&&(void 0===s||s.numberOfParams>1)?a?a(...e.params,l.token):_(e.method,...e.params,l.token):a?a(e.params,l.token):_(e.method,e.params,l.token);u?p.then?p.then(n=>{delete M[d],t(n,e.method,c)},t=>{delete M[d],t instanceof o.ResponseError?r(t,e.method,c):t&&i.string(t.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,c):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)}):(delete M[d],t(u,e.method,c)):(delete M[d],function(t,r,i){void 0===t&&(t=null);let o={jsonrpc:I,id:e.id,result:t};q(o,e.method,i),n.write(o)}(u,0,c))}catch(h){delete M[d],h instanceof o.ResponseError?t(h,e.method,c):h&&i.string(h.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${h.message}`),e.method,c):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,c)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,c)}(e):o.isNotificationMessage(e)?function(e){if(V())return;let t,n=void 0;if(e.method===h.type.method)t=(e=>{let t=M[String(e.id)];t&&t.cancel()});else{let r=T[e.method];r&&(t=r.handler,n=r.type)}if(t||D)try{!function(e){if(O!==m.Off&&A&&e.method!==g.type.method)if(E===p.Text){let t=void 0;O===m.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),A.log(`Received notification '${e.method}'.`,t)}else X("receive-notification",e)}(e),void 0===e.params||void 0!==n&&0===n.numberOfParams?t?t():D(e.method):i.array(e.params)&&(void 0===n||n.numberOfParams>1)?t?t(...e.params):D(e.method,...e.params):t?t(e.params):D(e.method,e.params)}catch(o){r.error(o.message?`Notification handler '${e.method}' failed with message: ${o.message}`:`Notification handler '${e.method}' failed unexpectedly.`)}else z.fire(e)}(e):o.isResponseMessage(e)?function(e){if(!V())if(null===e.id)r.error(e.error?`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`:"Received response message without id. No further error information provided.");else{let n=String(e.id),i=P[n];if(function(e,t){if(O!==m.Off&&A)if(E===p.Text){let n=void 0;if(O===m.Verbose&&(e.error&&e.error.data?n=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?n=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){let r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";A.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else A.log(`Received response ${e.id} without active response promise.`,n)}else X("receive-response",e)}(e,i),i){delete P[n];try{if(e.error){let t=e.error;i.reject(new o.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");i.resolve(e.result)}}catch(t){r.error(t.message?`Response handler '${i.method}' failed with message: ${t.message}`:`Response handler '${i.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(i.string(t.id)||i.number(t.id)){let e=String(t.id),n=P[e];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{t()}}()}))}()}};function q(e,t,n){if(O!==m.Off&&A)if(E===p.Text){let r=void 0;O===m.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),A.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else X("send-response",e)}function X(e,t){if(!A||O===m.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};A.log(n)}function K(){if(W())throw new y(v.Closed,"Connection is closed.");if(V())throw new y(v.Disposed,"Connection is disposed.")}function J(e){return void 0===e?null:e}function Q(e,t){let n,r=e.numberOfParams;switch(r){case 0:n=null;break;case 1:n=J(t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(J(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}let $={sendNotification:(e,...t)=>{let r,o;if(K(),i.string(e))switch(r=e,t.length){case 0:o=null;break;case 1:o=t[0];break;default:o=t}else r=e.method,o=Q(e,t);let s={jsonrpc:I,method:r,params:o};!function(e){if(O!==m.Off&&A)if(E===p.Text){let t=void 0;O===m.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),A.log(`Sending notification '${e.method}'.`,t)}else X("send-notification",e)}(s),n.write(s)},onNotification:(e,t)=>{K(),i.func(e)?D=e:t&&(i.string(e)?T[e]={type:void 0,handler:t}:T[e.method]={type:e,handler:t})},onProgress:(e,t,n)=>{if(k.has(t))throw new Error(`Progress handler for token ${t} already registered`);return k.set(t,n),{dispose:()=>{k.delete(t)}}},sendProgress:(e,t,n)=>{$.sendNotification(d.type,{token:t,value:n})},onUnhandledProgress:F.event,sendRequest:(e,...t)=>{let r,s;K(),function(){if(!Z())throw new Error("Call listen() first.")}();let l=void 0;if(i.string(e))switch(r=e,t.length){case 0:s=null;break;case 1:u.CancellationToken.is(t[0])?(s=null,l=t[0]):s=J(t[0]);break;default:const n=t.length-1;u.CancellationToken.is(t[n])?(l=t[n],s=2===t.length?J(t[0]):t.slice(0,n).map(e=>J(e))):s=t.map(e=>J(e))}else{r=e.method,s=Q(e,t);let n=e.numberOfParams;l=u.CancellationToken.is(t[n])?t[n]:void 0}let c=a++,d=new Promise((e,t)=>{let i={jsonrpc:I,id:c,method:r,params:s},a={method:r,timerStart:Date.now(),resolve:e,reject:t};!function(e){if(O!==m.Off&&A)if(E===p.Text){let t=void 0;O===m.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),A.log(`Sending request '${e.method} - (${e.id})'.`,t)}else X("send-request",e)}(i);try{n.write(i)}catch(l){a.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,l.message?l.message:"Unknown reason")),a=null}a&&(P[String(c)]=a)});return l&&l.onCancellationRequested(()=>{$.sendNotification(h.type,{id:c})}),d},onRequest:(e,t)=>{K(),i.func(e)?_=e:t&&(i.string(e)?S[e]={type:void 0,handler:t}:S[e.method]={type:e,handler:t})},trace:(e,t,n)=>{let r=!1,o=p.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||p.Text)),E=o,A=(O=e)===m.Off?void 0:t,!r||W()||V()||$.sendNotification(f.type,{value:m.toString(e)})},onError:R.event,onClose:L.event,onUnhandledNotification:z.event,onDispose:B.event,dispose:()=>{if(V())return;j=b.Disposed,B.fire(void 0);let e=new Error("Connection got disposed.");Object.keys(P).forEach(t=>{P[t].reject(e)}),P=Object.create(null),M=Object.create(null),N=new c.LinkedMap,i.func(n.dispose)&&n.dispose(),i.func(t.dispose)&&t.dispose()},listen:()=>{K(),function(){if(Z())throw new y(v.AlreadyListening,"Connection is already listening")}(),j=b.Listening,t.listen(H)},inspect:()=>{console.log("inspect")}};return $.onNotification(g.type,e=>{O!==m.Off&&A&&A.log(e.message,O===m.Verbose?e.verbose:void 0)}),$.onNotification(d.type,e=>{const t=k.get(e.token);t?t(e.value):F.fire(e)}),$}(void 0!==(I=n).listen&&void 0===I.read?n:new s.StreamMessageReader(n),void 0!==r.write&&void 0===r.end?r:new a.StreamMessageWriter(r),w,C)}}).call(this,n("URgk").setImmediate)},McSo:function(e,t,n){"use strict";function r(e){return null!=e&&"object"==typeof e}n.d(t,"a",function(){return r})},NARQ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("CcnG"),i=function(){function e(){}return e.ngInjectableDef=r.S({factory:function(){return new e},token:e,providedIn:"root"}),e}()},PENG:function(e,t){t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!=typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},PU8L:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("6blF");function i(e){var t=new r.a(function(t){t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}},Phjn:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("psW0");function i(e,t){return Object(r.a)(e,t,1)}},Po9p:function(e,t){},QFq3:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("CcnG"),i=function(){function e(){this.element=!1,this.machine=!1,this.domain=!1,this.req=!1,this.link=!1,this.interface=!1,this.reference=!1,this.constraint=!1,this.merge=!1}return e.prototype.set_choice_false=function(){this.element=!1,this.domain=!1,this.machine=!1,this.req=!1,this.link=!1,this.interface=!1,this.reference=!1,this.constraint=!1,this.merge=!1},e.ngInjectableDef=r.S({factory:function(){return new e},token:e,providedIn:"root"}),e}()},R53l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("vIUA");t.WebSocketMessageWriter=class extends r.AbstractMessageWriter{constructor(e){super(),this.socket=e,this.errorCount=0}write(e){try{const n=JSON.stringify(e);this.socket.send(n)}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}}},S1nX:function(e,t,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),s=n("FFOo"),a=n("pugT");function l(){return function(e){return e.lift(new u(e))}}var u=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new c(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.c(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(s.a),h=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.c(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.a).add(this.source.subscribe(new p(this.getSubject(),this))),e.closed?(this._connection=null,e=a.a.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return l()(this)},t}(o.a).prototype,d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.c(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.b);function f(){return new i.a}function g(){return function(e){return l()((t=f,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,d);return r.source=e,r.subjectFactory=n,r})(e));var t}}n.d(t,"a",function(){return g})},S5XQ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("DKTb"),i=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,r.a),t}}},"U+XB":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonacoCommands=class{constructor(e){this.editor=e}registerCommand(e,t,n){return this.editor._commandService.addCommand({id:e,handler:(e,...n)=>t(...n)})}}},U5rG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("V7FC"),i=n("5t/8"),o=n("8j13"),s=n("YbSU"),a=n("1mca"),l=n("wZKg"),u=n("knaz"),c=n("zjP6");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("V7FC"));class h extends r.BaseLanguageClient{constructor({id:e,name:t,clientOptions:n,connectionProvider:r}){super(e||t.toLowerCase(),t,n),this.connectionProvider=r,this.createConnection=this.doCreateConnection.bind(this),this._p2c=new Proxy(this._p2c,{get:(e,t)=>"asUri"===t?e[t]:h.bypassConversion}),this._c2p=new Proxy(this._c2p,{get:(e,t)=>"asUri"===t?e[t]:"asCompletionParams"===t?(t,n,r)=>({textDocument:e.asTextDocumentIdentifier(t),position:n,context:r}):"asWillSaveTextDocumentParams"===t?t=>({textDocument:e.asTextDocumentIdentifier(t.document),reason:t.reason}):t.endsWith("Params")?e[t]:h.bypassConversion})}doCreateConnection(){const e=this.handleConnectionError.bind(this),t=this.handleConnectionClosed.bind(this);return this.connectionProvider.get(e,t,this.outputChannel)}createMessageTransports(e){throw new Error("Unsupported")}registerBuiltinFeatures(){super.registerBuiltinFeatures(),this.registerFeature(new o.ConfigurationFeature(this)),this.registerFeature(new i.TypeDefinitionFeature(this)),this.registerFeature(new s.ImplementationFeature(this)),this.registerFeature(new a.ColorProviderFeature(this)),this.registerFeature(new l.WorkspaceFoldersFeature(this));const e=new u.FoldingRangeFeature(this);e.asFoldingRanges=h.bypassConversion,this.registerFeature(e),this.registerFeature(new c.DeclarationFeature(this));const t=this._features;for(const n of t)n instanceof a.ColorProviderFeature&&(n.asColor=h.bypassConversion,n.asColorInformations=h.bypassConversion,n.asColorPresentations=h.bypassConversion)}}h.bypassConversion=(e=>e||void 0),t.MonacoLanguageClient=h},URgk:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n("YBdB"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n("yLpj"))},Uq9l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Zoef"),i=n("3/g6");function o(e){return{send:t=>e.send(t),onMessage:t=>e.onmessage=(e=>t(e.data)),onError:t=>e.onerror=(e=>{"message"in e&&t(e.message)}),onClose:t=>e.onclose=(e=>t(e.code,e.reason)),dispose:()=>e.close()}}t.listen=function(e){const{webSocket:t,onConnection:n}=e,s=e.logger||new i.ConsoleLogger;t.onopen=(()=>{const e=o(t),i=r.createWebSocketConnection(e,s);n(i)})},t.toSocket=o},V7FC:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov"),o=n("tmeP"),s=n("n3WK"),a=n("FW9y"),l=n("grCS"),u=n("p7eD"),c=n("b2cT");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("BOov"));class h{error(e){console.error(e)}warn(e){console.warn(e)}info(e){console.info(e)}log(e){console.log(e)}}var d=t.ErrorAction=function(e){return e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown",e}(t.ErrorAction||{}),p=t.CloseAction=function(e){return e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart",e}(t.CloseAction||{});class f{constructor(e){this.name=e,this.restarts=[]}error(e,t,n){return n&&n<=3?d.Continue:d.Shutdown}closed(){return this.restarts.push(Date.now()),this.restarts.length<5?p.Restart:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?(r.window.showErrorMessage(`The ${this.name} server crashed 5 times in the last 3 minutes. The server will not be restarted.`),p.DoNotRestart):(this.restarts.shift(),p.Restart)}}var g=t.RevealOutputChannelOn=function(e){return e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never",e}(t.RevealOutputChannelOn||{}),m=t.State=function(e){return e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running",e}(t.State||{}),v=function(e){return e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.StartFailed=2]="StartFailed",e[e.Running=3]="Running",e[e.Stopping=4]="Stopping",e[e.Stopped=5]="Stopped",e}({});const y=[i.SymbolKind.File,i.SymbolKind.Module,i.SymbolKind.Namespace,i.SymbolKind.Package,i.SymbolKind.Class,i.SymbolKind.Method,i.SymbolKind.Property,i.SymbolKind.Field,i.SymbolKind.Constructor,i.SymbolKind.Enum,i.SymbolKind.Interface,i.SymbolKind.Function,i.SymbolKind.Variable,i.SymbolKind.Constant,i.SymbolKind.String,i.SymbolKind.Number,i.SymbolKind.Boolean,i.SymbolKind.Array,i.SymbolKind.Object,i.SymbolKind.Key,i.SymbolKind.Null,i.SymbolKind.EnumMember,i.SymbolKind.Struct,i.SymbolKind.Event,i.SymbolKind.Operator,i.SymbolKind.TypeParameter],b=[i.CompletionItemKind.Text,i.CompletionItemKind.Method,i.CompletionItemKind.Function,i.CompletionItemKind.Constructor,i.CompletionItemKind.Field,i.CompletionItemKind.Variable,i.CompletionItemKind.Class,i.CompletionItemKind.Interface,i.CompletionItemKind.Module,i.CompletionItemKind.Property,i.CompletionItemKind.Unit,i.CompletionItemKind.Value,i.CompletionItemKind.Enum,i.CompletionItemKind.Keyword,i.CompletionItemKind.Snippet,i.CompletionItemKind.Color,i.CompletionItemKind.File,i.CompletionItemKind.Reference,i.CompletionItemKind.Folder,i.CompletionItemKind.EnumMember,i.CompletionItemKind.Constant,i.CompletionItemKind.Struct,i.CompletionItemKind.Event,i.CompletionItemKind.Operator,i.CompletionItemKind.TypeParameter];function w(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var C;!function(e){e.is=function(e){let t=e;return t&&a.func(t.register)&&a.func(t.unregister)&&a.func(t.dispose)&&void 0!==t.messages}}(C||(C={}));class I{constructor(e,t,n,r,i,o){this._client=e,this._event=t,this._type=n,this._middleware=r,this._createParams=i,this._selectorFilter=o,this._selectors=new Map}static textDocumentFilter(e,t){for(const n of e)if(r.languages.match(n,t))return!0;return!1}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){this._selectorFilter&&!this._selectorFilter(this._selectors.values(),e)||(this._middleware?this._middleware(e,e=>this._client.sendNotification(this._type,this._createParams(e))):this._client.sendNotification(this._type,this._createParams(e)),this.notificationSent(e))}notificationSent(e){}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class x extends I{constructor(e,t){super(e,r.workspace.onDidOpenTextDocument,i.DidOpenTextDocumentNotification.type,e.clientOptions.middleware.didOpen,t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t),I.textDocumentFilter),this._syncedDocuments=t}get messages(){return i.DidOpenTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){if(super.register(e,t),!t.registerOptions.documentSelector)return;let n=t.registerOptions.documentSelector;r.workspace.textDocuments.forEach(e=>{let t=e.uri.toString();if(!this._syncedDocuments.has(t)&&r.languages.match(n,e)){let n=this._client.clientOptions.middleware,r=e=>{this._client.sendNotification(this._type,this._createParams(e))};n.didOpen?n.didOpen(e,r):r(e),this._syncedDocuments.set(t,e)}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.set(e.uri.toString(),e)}}class A extends I{constructor(e,t){super(e,r.workspace.onDidCloseTextDocument,i.DidCloseTextDocumentNotification.type,e.clientOptions.middleware.didClose,t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t),I.textDocumentFilter),this._syncedDocuments=t}get messages(){return i.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e){super.notificationSent(e),this._syncedDocuments.delete(e.uri.toString())}unregister(e){let t=this._selectors.get(e);super.unregister(e);let n=this._selectors.values();this._syncedDocuments.forEach(e=>{if(r.languages.match(t,e)&&!this._selectorFilter(n,e)){let t=this._client.clientOptions.middleware,n=e=>{this._client.sendNotification(this._type,this._createParams(e))};this._syncedDocuments.delete(e.uri.toString()),t.didClose?t.didClose(e,n):n(e)}})}}class _{constructor(e){this._client=e,this._changeData=new Map,this._forcingDelivery=!1}get messages(){return i.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==i.TextDocumentSyncKind.None&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(t.id,{documentSelector:t.registerOptions.documentSelector,syncKind:t.registerOptions.syncKind}))}callback(e){if(0!==e.contentChanges.length)for(const t of this._changeData.values())if(r.languages.match(t.documentSelector,e.document)){let n=this._client.clientOptions.middleware;if(t.syncKind===i.TextDocumentSyncKind.Incremental){let t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);n.didChange?n.didChange(e,()=>this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t)):this._client.sendNotification(i.DidChangeTextDocumentNotification.type,t)}else if(t.syncKind===i.TextDocumentSyncKind.Full){let t=e=>{this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(i.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))})):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new l.Delayer(200)},this._changeDelayer.delayer.trigger(()=>{this._client.sendNotification(i.DidChangeTextDocumentNotification.type,this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document))},-1))};n.didChange?n.didChange(e,t):t(e)}}}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}}class S extends I{constructor(e){super(e,r.workspace.onWillSaveTextDocument,i.WillSaveTextDocumentNotification.type,e.clientOptions.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),(e,t)=>I.textDocumentFilter(e,t.document))}get messages(){return i.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t}})}}class D{constructor(e){this._client=e,this._selectors=new Map}get messages(){return i.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{documentSelector:t}})}register(e,t){t.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(t.id,t.registerOptions.documentSelector))}callback(e){if(I.textDocumentFilter(this._selectors.values(),e.document)){let t=this._client.clientOptions.middleware,n=e=>this._client.sendRequest(i.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then(e=>{let t=this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}class T extends I{constructor(e){super(e,r.workspace.onDidSaveTextDocument,i.DidSaveTextDocumentNotification.type,e.clientOptions.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),I.textDocumentFilter)}get messages(){return i.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){w(w(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.save&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{includeText:!!n.save.includeText})})}register(e,t){this._includeText=!!t.registerOptions.includeText,super.register(e,t)}}class k{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}get messages(){return i.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){w(w(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0}initialize(e,t){}register(e,t){if(!Array.isArray(t.registerOptions.watchers))return;let n=[];for(let o of t.registerOptions.watchers){if(!a.string(o.globPattern))continue;let e=!0,t=!0,s=!0;null!=o.kind&&(e=0!=(o.kind&i.WatchKind.Create),t=0!=(o.kind&i.WatchKind.Change),s=0!=(o.kind&i.WatchKind.Delete));let l=r.workspace.createFileSystemWatcher(o.globPattern,!e,!t,!s);this.hookListeners(l,e,t,s),n.push(l)}this._watchers.set(t.id,n)}registerRaw(e,t){let n=[];for(let r of t)this.hookListeners(r,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,r,o){t&&e.onDidCreate(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Created}),null,o),n&&e.onDidChange(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Changed}),null,o),r&&e.onDidDelete(e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:i.FileChangeType.Deleted}),null,o)}unregister(e){let t=this._watchers.get(e);if(t)for(let n of t)n.dispose()}dispose(){this._watchers.forEach(e=>{for(let t of e)t.dispose()}),this._watchers.clear()}}class N{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wrong feature. Requested ${e.method} but reached feature ${this.messages.method}`);if(!t.registerOptions.documentSelector)return;let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach(e=>{e.dispose()}),this._providers.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(i.TextDocumentRegistrationOptions.is(t)){const n=i.StaticRegistrationOptions.hasId(t)?t.id:u.generateUuid(),r=t.documentSelector||e;if(r)return[n,Object.assign({},t,{documentSelector:r})]}else if(a.boolean(t)&&!0===t||i.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=a.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[u.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return a.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}}t.TextDocumentFeature=N;class P{constructor(e,t){this._client=e,this._message=t,this._providers=new Map}get messages(){return this._message}register(e,t){if(e.method!==this.messages.method)throw new Error(`Register called on wron feature. Requested ${e.method} but reached feature ${this.messages.method}`);let n=this.registerLanguageProvider(t.registerOptions);n&&this._providers.set(t.id,n)}unregister(e){let t=this._providers.get(e);t&&t.dispose()}dispose(){this._providers.forEach(e=>{e.dispose()}),this._providers.clear()}}class M extends N{constructor(e){super(e,i.CompletionRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0},t.completionItemKind={valueSet:b}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>t.sendRequest(i.CompletionRequest.type,t.code2ProtocolConverter.asCompletionParams(e,n,r),o).then(t.protocol2CodeConverter.asCompletionResult,e=>(t.logFailedRequest(i.CompletionRequest.type,e),Promise.resolve([]))),o=(e,n)=>t.sendRequest(i.CompletionResolveRequest.type,t.code2ProtocolConverter.asCompletionItem(e),n).then(t.protocol2CodeConverter.asCompletionItem,n=>(t.logFailedRequest(i.CompletionResolveRequest.type,n),Promise.resolve(e))),s=this._client.clientOptions.middleware;return r.languages.registerCompletionItemProvider(e.documentSelector,{provideCompletionItems:(e,t,r,i)=>s.provideCompletionItem?s.provideCompletionItem(e,t,i,r,n):n(e,t,i,r),resolveCompletionItem:e.resolveProvider?(e,t)=>s.resolveCompletionItem?s.resolveCompletionItem(e,t,o):o(e,t):void 0},...e.triggerCharacters||[])}}class O extends N{constructor(e){super(e,i.HoverRequest.type)}fillClientCapabilities(e){const t=w(w(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[i.MarkupKind.Markdown,i.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.HoverRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asHover,e=>(t.logFailedRequest(i.HoverRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware;return r.languages.registerHoverProvider(e.documentSelector,{provideHover:(e,t,r)=>o.provideHover?o.provideHover(e,t,r,n):n(e,t,r)})}}class E extends N{constructor(e){super(e,i.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[i.MarkupKind.Markdown,i.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0}}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.SignatureHelpRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asSignatureHelp,e=>(t.logFailedRequest(i.SignatureHelpRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware;return r.languages.registerSignatureHelpProvider(e.documentSelector,{provideSignatureHelp:(e,t,r)=>o.provideSignatureHelp?o.provideSignatureHelp(e,t,r,n):n(e,t,r)},...e.triggerCharacters||[])}}class j extends N{constructor(e){super(e,i.DefinitionRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.DefinitionRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(i.DefinitionRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware;return r.languages.registerDefinitionProvider(e.documentSelector,{provideDefinition:(e,t,r)=>o.provideDefinition?o.provideDefinition(e,t,r,n):n(e,t,r)})}}class R extends N{constructor(e){super(e,i.ReferencesRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>t.sendRequest(i.ReferencesRequest.type,t.code2ProtocolConverter.asReferenceParams(e,n,r),o).then(t.protocol2CodeConverter.asReferences,e=>(t.logFailedRequest(i.ReferencesRequest.type,e),Promise.resolve([]))),o=t.clientOptions.middleware;return r.languages.registerReferenceProvider(e.documentSelector,{provideReferences:(e,t,r,i)=>o.provideReferences?o.provideReferences(e,t,r,i,n):n(e,t,r,i)})}}class L extends N{constructor(e){super(e,i.DocumentHighlightRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.DocumentHighlightRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDocumentHighlights,e=>(t.logFailedRequest(i.DocumentHighlightRequest.type,e),Promise.resolve([]))),o=t.clientOptions.middleware;return r.languages.registerDocumentHighlightProvider(e.documentSelector,{provideDocumentHighlights:(e,t,r)=>o.provideDocumentHighlights?o.provideDocumentHighlights(e,t,r,n):n(e,t,r)})}}class z extends N{constructor(e){super(e,i.DocumentSymbolRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:y},t.hierarchicalDocumentSymbolSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.DocumentSymbolRequest.type,t.code2ProtocolConverter.asDocumentSymbolParams(e),n).then(e=>{if(null!==e)return 0===e.length?[]:i.DocumentSymbol.is(e[0])?t.protocol2CodeConverter.asDocumentSymbols(e):t.protocol2CodeConverter.asSymbolInformations(e)},e=>(t.logFailedRequest(i.DocumentSymbolRequest.type,e),Promise.resolve([]))),o=t.clientOptions.middleware;return r.languages.registerDocumentSymbolProvider(e.documentSelector,{provideDocumentSymbols:(e,t)=>o.provideDocumentSymbols?o.provideDocumentSymbols(e,t,n):n(e,t)})}}class F extends P{constructor(e){super(e,i.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=w(w(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:y}}initialize(e){e.workspaceSymbolProvider&&this.register(this.messages,{id:u.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.WorkspaceSymbolRequest.type,{query:e},n).then(t.protocol2CodeConverter.asSymbolInformations,e=>(t.logFailedRequest(i.WorkspaceSymbolRequest.type,e),Promise.resolve([]))),o=t.clientOptions.middleware;return r.languages.registerWorkspaceSymbolProvider({provideWorkspaceSymbols:(e,t)=>o.provideWorkspaceSymbols?o.provideWorkspaceSymbols(e,t,n):n(e,t)})}}class B extends N{constructor(e){super(e,i.CodeActionRequest.type)}fillClientCapabilities(e){const t=w(w(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.codeActionLiteralSupport={codeActionKind:{valueSet:[i.CodeActionKind.Empty,i.CodeActionKind.QuickFix,i.CodeActionKind.Refactor,i.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorRewrite,i.CodeActionKind.Source,i.CodeActionKind.SourceOrganizeImports]}}}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),context:t.code2ProtocolConverter.asCodeActionContext(r)};return t.sendRequest(i.CodeActionRequest.type,s,o).then(e=>{if(null===e)return;let n=[];for(let r of e)i.Command.is(r)?n.push(t.protocol2CodeConverter.asCommand(r)):n.push(t.protocol2CodeConverter.asCodeAction(r));return n},e=>(t.logFailedRequest(i.CodeActionRequest.type,e),Promise.resolve([])))},o=t.clientOptions.middleware;return r.languages.registerCodeActionsProvider(e.documentSelector,{provideCodeActions:(e,t,r,i)=>o.provideCodeActions?o.provideCodeActions(e,t,r,i,n):n(e,t,r,i)},e.codeActionKinds?{providedCodeActionKinds:t.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0)}}class G extends N{constructor(e){super(e,i.CodeLensRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"codeLens").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.CodeLensRequest.type,t.code2ProtocolConverter.asCodeLensParams(e),n).then(t.protocol2CodeConverter.asCodeLenses,e=>(t.logFailedRequest(i.CodeLensRequest.type,e),Promise.resolve([]))),o=(e,n)=>t.sendRequest(i.CodeLensResolveRequest.type,t.code2ProtocolConverter.asCodeLens(e),n).then(t.protocol2CodeConverter.asCodeLens,n=>(t.logFailedRequest(i.CodeLensResolveRequest.type,n),e)),s=t.clientOptions.middleware;return r.languages.registerCodeLensProvider(e.documentSelector,{provideCodeLenses:(e,t)=>s.provideCodeLenses?s.provideCodeLenses(e,t,n):n(e,t),resolveCodeLens:e.resolveProvider?(e,t)=>s.resolveCodeLens?s.resolveCodeLens(e,t,o):o(e,t):void 0})}}class U extends N{constructor(e){super(e,i.DocumentFormattingRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),options:t.code2ProtocolConverter.asFormattingOptions(n)};return t.sendRequest(i.DocumentFormattingRequest.type,o,r).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(i.DocumentFormattingRequest.type,e),Promise.resolve([])))},o=t.clientOptions.middleware;return r.languages.registerDocumentFormattingEditProvider(e.documentSelector,{provideDocumentFormattingEdits:(e,t,r)=>o.provideDocumentFormattingEdits?o.provideDocumentFormattingEdits(e,t,r,n):n(e,t,r)})}}class Z extends N{constructor(e){super(e,i.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),range:t.code2ProtocolConverter.asRange(n),options:t.code2ProtocolConverter.asFormattingOptions(r)};return t.sendRequest(i.DocumentRangeFormattingRequest.type,s,o).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(i.DocumentRangeFormattingRequest.type,e),Promise.resolve([])))},o=t.clientOptions.middleware;return r.languages.registerDocumentRangeFormattingEditProvider(e.documentSelector,{provideDocumentRangeFormattingEdits:(e,t,r,i)=>o.provideDocumentRangeFormattingEdits?o.provideDocumentRangeFormattingEdits(e,t,r,i,n):n(e,t,r,i)})}}class W extends N{constructor(e){super(e,i.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o,s)=>{let a={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),ch:r,options:t.code2ProtocolConverter.asFormattingOptions(o)};return t.sendRequest(i.DocumentOnTypeFormattingRequest.type,a,s).then(t.protocol2CodeConverter.asTextEdits,e=>(t.logFailedRequest(i.DocumentOnTypeFormattingRequest.type,e),Promise.resolve([])))},o=t.clientOptions.middleware;return r.languages.registerOnTypeFormattingEditProvider(e.documentSelector,{provideOnTypeFormattingEdits:(e,t,r,i,s)=>o.provideOnTypeFormattingEdits?o.provideOnTypeFormattingEdits(e,t,r,i,s,n):n(e,t,r,i,s)},e.firstTriggerCharacter,...e.moreTriggerCharacter||[])}}class V extends N{constructor(e){super(e,i.RenameRequest.type)}fillClientCapabilities(e){let t=w(w(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(a.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register(this.messages,{id:u.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){let t=this._client,n=(e,n,r,o)=>{let s={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n),newName:r};return t.sendRequest(i.RenameRequest.type,s,o).then(t.protocol2CodeConverter.asWorkspaceEdit,e=>(t.logFailedRequest(i.RenameRequest.type,e),Promise.reject(new Error(e.message))))},o=(e,n,r)=>{let o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e),position:t.code2ProtocolConverter.asPosition(n)};return t.sendRequest(i.PrepareRenameRequest.type,o,r).then(e=>i.Range.is(e)?t.protocol2CodeConverter.asRange(e):e&&i.Range.is(e.range)?{range:t.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed.")),e=>(t.logFailedRequest(i.PrepareRenameRequest.type,e),Promise.reject(new Error(e.message))))},s=t.clientOptions.middleware;return r.languages.registerRenameProvider(e.documentSelector,{provideRenameEdits:(e,t,r,i)=>s.provideRenameEdits?s.provideRenameEdits(e,t,r,i,n):n(e,t,r,i),prepareRename:e.prepareProvider?(e,t,n)=>s.prepareRename?s.prepareRename(e,t,n,o):o(e,t,n):void 0})}}class Y extends N{constructor(e){super(e,i.DocumentLinkRequest.type)}fillClientCapabilities(e){w(w(e,"textDocument"),"documentLink").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register(this.messages,{id:u.generateUuid(),registerOptions:n})}registerLanguageProvider(e){let t=this._client,n=(e,n)=>t.sendRequest(i.DocumentLinkRequest.type,t.code2ProtocolConverter.asDocumentLinkParams(e),n).then(t.protocol2CodeConverter.asDocumentLinks,e=>{t.logFailedRequest(i.DocumentLinkRequest.type,e),Promise.resolve(new Error(e.message))}),o=(e,n)=>t.sendRequest(i.DocumentLinkResolveRequest.type,t.code2ProtocolConverter.asDocumentLink(e),n).then(t.protocol2CodeConverter.asDocumentLink,e=>{t.logFailedRequest(i.DocumentLinkResolveRequest.type,e),Promise.resolve(new Error(e.message))}),s=t.clientOptions.middleware;return r.languages.registerDocumentLinkProvider(e.documentSelector,{provideDocumentLinks:(e,t)=>s.provideDocumentLinks?s.provideDocumentLinks(e,t,n):n(e,t),resolveDocumentLink:e.resolveProvider?(e,t)=>s.resolveDocumentLink?s.resolveDocumentLink(e,t,o):o(e,t):void 0})}}class H{constructor(e){this._client=e,this._listeners=new Map}get messages(){return i.DidChangeConfigurationNotification.type}fillClientCapabilities(e){w(w(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize.configurationSection;void 0!==e&&this.register(this.messages,{id:u.generateUuid(),registerOptions:{section:e}})}register(e,t){let n=r.workspace.onDidChangeConfiguration(e=>{this.onDidChangeConfiguration(t.registerOptions.section,e)});this._listeners.set(t.id,n),void 0!==t.registerOptions.section&&this.onDidChangeConfiguration(t.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(void 0!==(n=a.string(e)?[e]:e)&&void 0!==t&&!n.some(e=>t.affectsConfiguration(e)))return;let r=e=>{this._client.sendNotification(i.DidChangeConfigurationNotification.type,void 0!==e?{settings:this.extractSettingsInformation(e)}:{settings:null})},o=this.getMiddleware();o?o(n,r):r(n)}extractSettingsInformation(e){function t(e,t){let n=e;for(let r=0;r<t.length-1;r++){let e=n[t[r]];e||(e=Object.create(null),n[t[r]]=e),n=e}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let o=0;o<e.length;o++){let s=e[o],a=s.indexOf("."),l=null;if(l=a>=0?r.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):r.workspace.getConfiguration(s,n)){let n=e[o].split(".");t(i,n)[n[n.length-1]]=l}}return i}getMiddleware(){let e=this._client.clientOptions.middleware;return e.workspace&&e.workspace.didChangeConfiguration?e.workspace.didChangeConfiguration:void 0}}class q{constructor(e){this._client=e,this._commands=new Map}get messages(){return i.ExecuteCommandRequest.type}fillClientCapabilities(e){w(w(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register(this.messages,{id:u.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e,t){let n=this._client;if(t.registerOptions.commands){let e=[];for(const o of t.registerOptions.commands)e.push(r.commands.registerCommand(o,(...e)=>n.sendRequest(i.ExecuteCommandRequest.type,{command:o,arguments:e}).then(void 0,e=>{n.logFailedRequest(i.ExecuteCommandRequest.type,e)})));this._commands.set(t.id,e)}}unregister(e){let t=this._commands.get(e);t&&t.forEach(e=>e.dispose())}dispose(){this._commands.forEach(e=>{e.forEach(e=>e.dispose())}),this._commands.clear()}}(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&i.MessageReader.is(e.reader)&&i.MessageWriter.is(e.writer)};class X{constructor(e,t){this._resolve=e,this._reject=t,this._used=!1}get isUsed(){return this._used}resolve(){this._used=!0,this._resolve()}reject(e){this._used=!0,this._reject(e)}}t.BaseLanguageClient=class{constructor(e,t,n){this._traceFormat=i.TraceFormat.Text,this._features=[],this._method2Message=new Map,this._dynamicFeatures=new Map,this._id=e,this._name=t,this._clientOptions={documentSelector:(n=n||{}).documentSelector||[],synchronize:n.synchronize||{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName||this._name,revealOutputChannelOn:n.revealOutputChannelOn||g.Error,stdioEncoding:n.stdioEncoding||"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler||new f(this._name),middleware:n.middleware||{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this.state=v.Initial,this._connectionPromise=void 0,this._resolvedConnection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._listeners=void 0,this._providers=void 0,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new l.Delayer(250),this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new X(e,t)}),this._onStop=void 0,this._telemetryEmitter=new i.Emitter,this._stateChangeEmitter=new i.Emitter,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=o.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get state(){return this._state}set state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){return this.state===v.Running?m.Running:this.state===v.Starting?m.Starting:m.Stopped}get initializeResult(){return this._initializeResult}sendRequest(e,...t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{return this._resolvedConnection.sendRequest(e,...t)}catch(n){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,n),n}}onRequest(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onRequest(e,t)}catch(n){throw this.error(`Registering request handler ${a.string(e)?e:e.method} failed.`,n),n}}sendNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendNotification(e,t)}catch(n){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,n),n}}onNotification(e,t){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{this._resolvedConnection.onNotification(e,t)}catch(n){throw this.error(`Registering notification handler ${a.string(e)?e:e.method} failed.`,n),n}}onProgress(e,t,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");try{return this._resolvedConnection.onProgress(e,t,n)}catch(r){throw this.error(`Registering progress handler for token ${t} failed.`,r),r}}sendProgress(e,t,n){if(!this.isConnectionActive())throw new Error("Language client is not ready yet");this.forceDocumentSync();try{this._resolvedConnection.sendProgress(e,t,n)}catch(r){throw this.error(`Sending progress for token ${t} failed.`,r),r}}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=r.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}createDefaultErrorHandler(){return new f(this._name)}set trace(e){this._trace=e,this.onReady().then(()=>{this.resolveConnection().then(e=>{e.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})})},()=>{})}data2String(e){if(e instanceof i.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=g.Info&&this.showNotificationMessage()}warn(e,t){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=g.Warn&&this.showNotificationMessage()}error(e,t){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.outputChannel.appendLine(this.data2String(t)),this._clientOptions.revealOutputChannelOn<=g.Error&&this.showNotificationMessage()}showNotificationMessage(){r.window.showInformationMessage("A request has failed. See the output for more information.","Go to output").then(()=>{this.outputChannel.show(!0)})}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){this.traceOutputChannel.append(e.isLSPMessage&&e.type?`[LSP   - ${(new Date).toLocaleTimeString()}] `:`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.state===v.Initial||this.state===v.Stopping||this.state===v.Stopped}needsStop(){return this.state===v.Starting||this.state===v.Running}onReady(){return this._onReady}isConnectionActive(){return this.state===v.Running&&!!this._resolvedConnection}start(){return this._onReadyCallbacks.isUsed&&(this._onReady=new Promise((e,t)=>{this._onReadyCallbacks=new X(e,t)})),this._listeners=[],this._providers=[],this._diagnostics||(this._diagnostics=this._clientOptions.diagnosticCollectionName?r.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):r.languages.createDiagnosticCollection()),this.state=v.Starting,this.resolveConnection().then(e=>(e.onLogMessage(e=>{switch(e.type){case i.MessageType.Error:this.error(e.message);break;case i.MessageType.Warning:this.warn(e.message);break;case i.MessageType.Info:this.info(e.message);break;default:this.outputChannel.appendLine(e.message)}}),e.onShowMessage(e=>{switch(e.type){case i.MessageType.Error:r.window.showErrorMessage(e.message);break;case i.MessageType.Warning:r.window.showWarningMessage(e.message);break;case i.MessageType.Info:r.window.showInformationMessage(e.message);break;default:r.window.showInformationMessage(e.message)}}),e.onRequest(i.ShowMessageRequest.type,e=>{let t;switch(e.type){case i.MessageType.Error:t=r.window.showErrorMessage;break;case i.MessageType.Warning:t=r.window.showWarningMessage;break;case i.MessageType.Info:t=r.window.showInformationMessage;break;default:t=r.window.showInformationMessage}return t(e.message,...e.actions||[])}),e.onTelemetry(e=>{this._telemetryEmitter.fire(e)}),e.listen(),this.initialize(e))).then(void 0,e=>{this.state=v.StartFailed,this._onReadyCallbacks.reject(e),this.error("Starting client failed",e),r.window.showErrorMessage(`Couldn't start client ${this._name}`)}),new r.Disposable(()=>{this.needsStop()&&this.stop()})}resolveConnection(){return this._connectionPromise||(this._connectionPromise=this.createConnection()),this._connectionPromise}initialize(t){this.refreshTrace(t,!1);let n=this._clientOptions.initializationOptions,o=this._clientOptions.workspaceFolder?this._clientOptions.workspaceFolder.uri.fsPath:this._clientGetRootPath(),s={processId:e.pid,rootPath:o||null,rootUri:o?this._c2p.asUri(r.Uri.file(o)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(n)?n():n,trace:i.Trace.toString(this._trace),workspaceFolders:null};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){const e=u.generateUuid(),n=new c.ProgressPart(t,e);return s.workDoneToken=e,this.doInitialize(t,s).then(e=>(n.done(),e),e=>{throw n.cancel(),e})}return this.doInitialize(t,s)}doInitialize(e,t){return e.initialize(t).then(t=>{this._resolvedConnection=e,this._initializeResult=t,this.state=v.Running;let n=void 0;return a.number(t.capabilities.textDocumentSync)?n=t.capabilities.textDocumentSync===i.TextDocumentSyncKind.None?{openClose:!1,change:i.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:t.capabilities.textDocumentSync,save:{includeText:!1}}:null!=t.capabilities.textDocumentSync&&(n=t.capabilities.textDocumentSync),this._capabilities=Object.assign({},t.capabilities,{resolvedTextDocumentSync:n}),e.onDiagnostics(e=>this.handleDiagnostics(e)),e.onRequest(i.RegistrationRequest.type,e=>this.handleRegistrationRequest(e)),e.onRequest("client/registerFeature",e=>this.handleRegistrationRequest(e)),e.onRequest(i.UnregistrationRequest.type,e=>this.handleUnregistrationRequest(e)),e.onRequest("client/unregisterFeature",e=>this.handleUnregistrationRequest(e)),e.onRequest(i.ApplyWorkspaceEditRequest.type,e=>this.handleApplyWorkspaceEdit(e)),e.sendNotification(i.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),this._onReadyCallbacks.resolve(),t}).then(void 0,t=>{this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t)):t instanceof i.ResponseError&&t.data&&t.data.retry?r.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then(n=>{n&&"retry"===n.id?this.initialize(e):(this.stop(),this._onReadyCallbacks.reject(t))}):(t&&t.message&&r.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop(),this._onReadyCallbacks.reject(t))})}_clientGetRootPath(){let e=r.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(){return this._initializeResult=void 0,this._connectionPromise?this.state===v.Stopping&&this._onStop?this._onStop:(this.state=v.Stopping,this.cleanUp(!1),this._onStop=this.resolveConnection().then(e=>e.shutdown().then(()=>{e.exit(),e.dispose(),this.state=v.Stopped,this.cleanUpChannel(),this._onStop=void 0,this._connectionPromise=void 0,this._resolvedConnection=void 0}))):(this.state=v.Stopped,Promise.resolve())}cleanUp(e=!0,t=!0){this._listeners&&(this._listeners.forEach(e=>e.dispose()),this._listeners=void 0),this._providers&&(this._providers.forEach(e=>e.dispose()),this._providers=void 0),this._syncedDocuments&&this._syncedDocuments.clear();for(let n of this._dynamicFeatures.values())n.dispose();e&&this.cleanUpChannel(),t&&this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0)}cleanUpChannel(){this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){this._fileEvents.push(e),this._fileEventDelayer.trigger(()=>{this.onReady().then(()=>{this.resolveConnection().then(e=>{this.isConnectionActive()&&(this.forceDocumentSync(),e.didChangeWatchedFiles({changes:this._fileEvents})),this._fileEvents=[]})},e=>{this.error("Notify file events failed.",e)})})}forceDocumentSync(){this._dynamicFeatures.get(i.DidChangeTextDocumentNotification.type.method).forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;let t=this._p2c.asUri(e.uri),n=this._p2c.asDiagnostics(e.diagnostics),r=this.clientOptions.middleware.handleDiagnostics;r?r(t,n,(e,t)=>this.setDiagnostics(e,t)):this.setDiagnostics(t,n)}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}createConnection(){let e=(e,t,n)=>{this.handleConnectionError(e,t,n)},t=()=>{this.handleConnectionClosed()};return this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8").then(n=>(function(e,t,n,r){let o=new h,s=i.createProtocolConnection(e,t,o);return s.onError(e=>{n(e[0],e[1],e[2])}),s.onClose(r),{listen:()=>s.listen(),sendRequest:(e,...t)=>s.sendRequest(a.string(e)?e:e.method,...t),onRequest:(e,t)=>s.onRequest(a.string(e)?e:e.method,t),sendNotification:(e,t)=>s.sendNotification(a.string(e)?e:e.method,t),onNotification:(e,t)=>s.onNotification(a.string(e)?e:e.method,t),onProgress:s.onProgress,sendProgress:s.sendProgress,trace:(e,t,n)=>{void 0===n?s.trace(e,t,{sendNotification:!1,traceFormat:i.TraceFormat.Text}):(a.boolean(n),s.trace(e,t,n))},initialize:e=>s.sendRequest(i.InitializeRequest.type,e),shutdown:()=>s.sendRequest(i.ShutdownRequest.type,void 0),exit:()=>s.sendNotification(i.ExitNotification.type),onLogMessage:e=>s.onNotification(i.LogMessageNotification.type,e),onShowMessage:e=>s.onNotification(i.ShowMessageNotification.type,e),onTelemetry:e=>s.onNotification(i.TelemetryEventNotification.type,e),didChangeConfiguration:e=>s.sendNotification(i.DidChangeConfigurationNotification.type,e),didChangeWatchedFiles:e=>s.sendNotification(i.DidChangeWatchedFilesNotification.type,e),didOpenTextDocument:e=>s.sendNotification(i.DidOpenTextDocumentNotification.type,e),didChangeTextDocument:e=>s.sendNotification(i.DidChangeTextDocumentNotification.type,e),didCloseTextDocument:e=>s.sendNotification(i.DidCloseTextDocumentNotification.type,e),didSaveTextDocument:e=>s.sendNotification(i.DidSaveTextDocumentNotification.type,e),onDiagnostics:e=>s.onNotification(i.PublishDiagnosticsNotification.type,e),dispose:()=>s.dispose()}})(n.reader,n.writer,e,t))}handleConnectionClosed(){if(this.state===v.Stopping||this.state===v.Stopped)return;try{this._resolvedConnection&&this._resolvedConnection.dispose()}catch(t){}let e=p.DoNotRestart;try{e=this._clientOptions.errorHandler.closed()}catch(t){}this._connectionPromise=void 0,this._resolvedConnection=void 0,e===p.DoNotRestart?(this.error("Connection to server got closed. Server will not be restarted."),this.state=v.Stopped,this.cleanUp(!1,!0)):e===p.Restart&&(this.info("Connection to server got closed. Server will restart."),this.cleanUp(!1,!1),this.state=v.Initial,this.start())}handleConnectionError(e,t,n){this._clientOptions.errorHandler.error(e,t,n)===d.Shutdown&&(this.error("Connection to server is erroring. Shutting down server."),this.stop())}hookConfigurationChanged(e){r.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0)})}refreshTrace(e,t=!1){let n=r.workspace.getConfiguration(this._id),o=i.Trace.Off,s=i.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?o=i.Trace.fromString(e):(o=i.Trace.fromString(n.get("trace.server.verbosity","off")),s=i.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=o,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat})}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n])&&this._dynamicFeatures.get(i.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t)}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),C.is(e)){let t=e.messages;if(Array.isArray(t))for(let n of t)this._method2Message.set(n.method,n),this._dynamicFeatures.set(n.method,e);else this._method2Message.set(t.method,t),this._dynamicFeatures.set(t.method,e)}}registerBuiltinFeatures(){this.registerFeature(new H(this)),this.registerFeature(new x(this,this._syncedDocuments)),this.registerFeature(new _(this)),this.registerFeature(new S(this)),this.registerFeature(new D(this)),this.registerFeature(new T(this)),this.registerFeature(new A(this,this._syncedDocuments)),this.registerFeature(new k(this,e=>this.notifyFileEvent(e))),this.registerFeature(new M(this)),this.registerFeature(new O(this)),this.registerFeature(new E(this)),this.registerFeature(new j(this)),this.registerFeature(new R(this)),this.registerFeature(new L(this)),this.registerFeature(new z(this)),this.registerFeature(new F(this)),this.registerFeature(new B(this)),this.registerFeature(new G(this)),this.registerFeature(new U(this)),this.registerFeature(new Z(this)),this.registerFeature(new W(this)),this.registerFeature(new V(this)),this.registerFeature(new Y(this)),this.registerFeature(new q(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){let e={};w(e,"workspace").applyEdit=!0;let t=w(w(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[i.ResourceOperationKind.Create,i.ResourceOperationKind.Rename,i.ResourceOperationKind.Delete],t.failureHandling=i.FailureHandlingKind.TextOnlyTransactional;let n=w(w(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.tagSupport=!0;for(let r of this._features)r.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let n of this._features)n.initialize(this._capabilities,t)}handleRegistrationRequest(e){return new Promise((t,n)=>{for(let r of e.registrations){const e=this._dynamicFeatures.get(r.method);if(!e)return void n(new Error(`No feature implementation for ${r.method} found. Registration failed.`));const t=r.registerOptions||{};t.documentSelector=t.documentSelector||this._clientOptions.documentSelector;const i={id:r.id,registerOptions:t};e.register(this._method2Message.get(r.method),i)}t()})}handleUnregistrationRequest(e){return new Promise((t,n)=>{for(let r of e.unregisterations){const e=this._dynamicFeatures.get(r.method);if(!e)return void n(new Error(`No feature implementation for ${r.method} found. Unregistration failed.`));e.unregister(r.id)}t()})}handleApplyWorkspaceEdit(e){let t=e.edit,n=new Map;r.workspace.textDocuments.forEach(e=>n.set(e.uri.toString(),e));let o=!1;if(t.documentChanges)for(const r of t.documentChanges)if(i.TextDocumentEdit.is(r)&&r.textDocument.version&&r.textDocument.version>=0){let e=n.get(r.textDocument.uri);if(e&&e.version!==r.textDocument.version){o=!0;break}}return o?Promise.resolve({applied:!1}):r.workspace.applyEdit(this._p2c.asWorkspaceEdit(e.edit)).then(e=>({applied:e}))}logFailedRequest(e,t){t instanceof i.ResponseError&&t.code===i.ErrorCodes.RequestCancelled||this.error(`Request ${e.method} failed.`,t)}}}).call(this,n("8oxB"))},VKwO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ");t.default=class extends r.CodeLens{constructor(e){super(e)}}},"VnD/":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(e,t){return function(n){return n.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.c(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)},t}(i.a)},VqZt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");(t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).type=new r.RequestType0("workspace/workspaceFolders"),(t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).type=new r.NotificationType("workspace/didChangeWorkspaceFolders")},Y3ih:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ");t.default=class extends r.CompletionItem{constructor(e){super(e)}}},YBdB:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,s,a,l=1,u={},c=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),r=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(f,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return u[l]={callback:e,args:t},r(l),l++},d.clearImmediate=p}function p(e){delete u[e]}function f(e){if(c)setTimeout(f,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n("yLpj"),n("8oxB"))},YbSU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov"),o=n("V7FC");function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.ImplementationFeature=class extends o.TextDocumentFeature{constructor(e){super(e,i.ImplementationRequest.type)}fillClientCapabilities(e){let t=s(s(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.implementationProvider);n&&r&&this.register(this.messages,{id:n,registerOptions:r})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.ImplementationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDefinitionResult,e=>(t.logFailedRequest(i.ImplementationRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware;return r.languages.registerImplementationProvider(e.documentSelector,{provideImplementation:(e,t,r)=>o.provideImplementation?o.provideImplementation(e,t,r,n):n(e,t,r)})}}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},YvpU:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return DrawingboardComponent});var _service_component_choice_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("QFq3"),_service_draw_graph_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("xlmz"),_service_project_service__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("DrJT"),_service_file_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("shLW"),DrawingboardComponent=function(){function DrawingboardComponent(e,t,n,r,i,o){var s=this;this.component_choice_service=e,this.route=t,this.dg_service=n,this.fileService=r,this.projectService=i,this.eventManager=o,this.num=$("#tablabel").children.length+1,this.papers=new Array,this.PhysicalPropertys=["GivenDomain","DesignDomain"],this.DomainTypes=["Causal","Biddable","Lexical"],this.phenomenonTypes=["event","state","value"],this.step=0,i.stepEmmited$.subscribe(function(e){s.step<5&&e>=5?s.change_Menu(2):s.step>=5&&e<5&&s.change_Menu(1),s.step=e}),i.changeEmitted$.subscribe(function(e){s.project=e})}return DrawingboardComponent.prototype.changeInput=function(){document.getElementById("nameint")},DrawingboardComponent.prototype.ngOnInit=function(){var e=this;this.eventManager.addGlobalEventListener("window","keyup.delete",function(){e.deleteCell(),e.dg_service.deleteListen=!1})},DrawingboardComponent.prototype.onResize=function(e){if(null!=this.dg_service.papers[0]){var t=.8*e.target.innerWidth,n=.8*e.target.innerHeight;this.dg_service.papers[0].setDimensions(t,n),this.dg_service.papers[1].setDimensions(t,n)}},DrawingboardComponent.prototype.deleteCell=function(){1==this.dg_service.deleteListen&&this.dg_service.deleteElement(this.dg_service.graphs[this.dg_service.selectedGraphIndex])},DrawingboardComponent.prototype.initPopBox=function(){"machine"==this.dg_service.selectedType?this.dg_service.initMachinePopBox():"problemDomain"==this.dg_service.selectedType?this.dg_service.initDomainPopBox():"requirement"==this.dg_service.selectedType?this.dg_service.initRequirementPopBox():"interface"==this.dg_service.selectedType?this.dg_service.initInterfacePopBox():"reference"==this.dg_service.selectedType?this.dg_service.initReferencePopBox():"constraint"==this.dg_service.selectedType&&this.dg_service.initConstraintPopBox()},DrawingboardComponent.prototype.GetObj=function(objName){if(document.getElementById)return eval('document.getElementById("'+objName+'")')},DrawingboardComponent.prototype.change_Menu=function(e){this.dg_service.selectedGraphIndex=e-1;for(var t=1;t<=this.num;t++)this.GetObj("content"+t)&&this.GetObj("lm"+t)&&(this.GetObj("content"+t).style.display="none");this.GetObj("content"+e)&&this.GetObj("lm"+e)&&(this.GetObj("content"+e).style.display="block",this.dg_service.enterTable(e))},DrawingboardComponent.prototype.closeBox=function(e){this.closePopEdit()},DrawingboardComponent.prototype.confirm=function(){var e=!0;"machine"==this.dg_service.selectedType?e=this.dg_service.changeMachineDetail():"problemDomain"==this.dg_service.selectedType?e=this.dg_service.changeProblemDomainDetail(this.dg_service.graphs[this.dg_service.selectedGraphIndex]):"requirement"==this.dg_service.selectedType?e=this.dg_service.changeRequirementDetail(this.dg_service.graphs[this.dg_service.selectedGraphIndex]):"interface"==this.dg_service.selectedType?this.dg_service.changeInterfaceDetail():"reference"==this.dg_service.selectedType?this.dg_service.changeReferenceDetail():"constraint"==this.dg_service.selectedType&&this.dg_service.changeConstraintDetail(),e&&this.closePopEdit(),this.projectService.sendProject(this.dg_service.project)},DrawingboardComponent.prototype.closePopEdit=function(){document.getElementById(this.dg_service.selectedType+"PopBox").style.display="none",document.getElementById("popLayer").style.display="none",this.dg_service.phenomenonList=[]},DrawingboardComponent}()},Z5Ki:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,o=n.length;i<o;i++)try{t.push(n[i].apply(r[i],e))}catch(s){console.error(s)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=((e,t,n)=>{let o;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),o={dispose:()=>{this._callbacks.remove(e,t),o.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(o),o})),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},ZYCi:function(e,t,n){"use strict";var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),s=n("F/XL"),a=n("0/uQ"),l=n("K9Ia"),u=n("8g8A"),c=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.c(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(l.a),h=n("6blF");function d(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}d.prototype=Object.create(Error.prototype);var p=d,f=n("nkY7"),g=n("isby"),m=n("MGBS"),v=n("zotm"),y=n("IUTb"),b={},w=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new C(e,this.resultSelector))},e}(),C=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.c(t,e),t.prototype._next=function(e){this.values.push(b),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(v.a)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,s=this.toRespond?o[n]===b?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(m.a),I=n("G5J1");function x(e){return new h.a(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?Object(a.a)(n):Object(I.b)()).subscribe(t)})}var A=n("67Y/"),_=n("Zn8D");function S(){return Object(_.a)(1)}var D=n("VnD/"),T=n("FFOo");function k(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}k.prototype=Object.create(Error.prototype);var N=k;function P(e){return function(t){return 0===e?Object(I.b)():t.lift(new M(e))}}var M=function(){function e(e){if(this.total=e,this.total<0)throw new N}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.total))},e}(),O=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.c(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(T.a),E=n("+umK"),j=n("2Bdj");function R(e,t,n){return function(r){return r.lift(new L(e,t,n))}}var L=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new z(e,this.nextOrObserver,this.error,this.complete))},e}(),z=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=E.a,o._tapError=E.a,o._tapComplete=E.a,o._tapError=r||E.a,o._tapComplete=i||E.a,Object(j.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||E.a,o._tapError=n.error||E.a,o._tapComplete=n.complete||E.a),o}return r.c(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(T.a),F=function(e){return void 0===e&&(e=B),R({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function B(){return new p}function G(e){return void 0===e&&(e=null),function(t){return t.lift(new U(e))}}var U=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new Z(e,this.defaultValue))},e}(),Z=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.c(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(T.a),W=n("mChF");function V(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(D.a)(function(t,n){return e(t,n,r)}):W.a,P(1),n?G(t):F(function(){return new p}))}}var Y=n("rPjj");function H(e){return function(t){var n=new q(e),r=t.lift(n);return n.caught=r}}var q=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new X(e,this.selector,this.caught))},e}(),X=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.c(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new Y.a(this,void 0,void 0);this.add(r),Object(v.a)(this,n,void 0,void 0,r)}},t}(m.a);function K(e){return function(t){return 0===e?Object(I.b)():t.lift(new J(e))}}var J=function(){function e(e){if(this.total=e,this.total<0)throw new N}return e.prototype.call=function(e,t){return t.subscribe(new Q(e,this.total))},e}(),Q=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.c(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(T.a);function $(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Object(D.a)(function(t,n){return e(t,n,r)}):W.a,K(1),n?G(t):F(function(){return new p}))}}var ee=n("psW0"),te=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new ne(e,this.predicate,this.thisArg,this.source))},e}(),ne=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.c(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(T.a);function re(e,t){return"function"==typeof t?function(n){return n.pipe(re(function(n,r){return Object(a.a)(e(n,r)).pipe(Object(A.a)(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new ie(e))}}var ie=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new oe(e,this.project))},e}(),oe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.c(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Y.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(v.a)(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(m.a),se=n("PU8L");function ae(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new le(e,t,n))}}var le=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new ue(e,this.accumulator,this.seed,this.hasSeed))},e}(),ue=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.c(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(T.a),ce=n("Phjn"),he=n("y3By"),de=n("pugT"),pe=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new fe(e,this.callback))},e}(),fe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new de.a(n)),r}return r.c(t,e),t}(T.a),ge=n("ZYjt");n.d(t,"r",function(){return Yn}),n.d(t,"y",function(){return nr}),n.d(t,"t",function(){return Kn}),n.d(t,"z",function(){return rr}),n.d(t,"A",function(){return ir}),n.d(t,"v",function(){return Qn}),n.d(t,"u",function(){return Jn}),n.d(t,"x",function(){return tr}),n.d(t,"s",function(){return qn}),n.d(t,"w",function(){return er}),n.d(t,"B",function(){return Wn}),n.d(t,"m",function(){return zn}),n.d(t,"j",function(){return Sn}),n.d(t,"k",function(){return jn}),n.d(t,"i",function(){return Tn}),n.d(t,"g",function(){return Vn}),n.d(t,"h",function(){return or}),n.d(t,"l",function(){return Xn}),n.d(t,"b",function(){return Ln}),n.d(t,"d",function(){return Un}),n.d(t,"e",function(){return Gn}),n.d(t,"f",function(){return Bn}),n.d(t,"n",function(){return Zn}),n.d(t,"a",function(){return At}),n.d(t,"o",function(){return Nn}),n.d(t,"c",function(){return rt}),n.d(t,"p",function(){return nt}),n.d(t,"q",function(){return Oe});var me=function(){return function(e,t){this.id=e,this.url=t}}(),ve=function(e){function t(t,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=e.call(this,t,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(me),ye=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=r,i}return Object(r.c)(t,e),t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(me),be=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.reason=r,i}return Object(r.c)(t,e),t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(me),we=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.error=r,i}return Object(r.c)(t,e),t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(me),Ce=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(me),Ie=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(me),xe=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n)||this;return s.urlAfterRedirects=r,s.state=i,s.shouldActivate=o,s}return Object(r.c)(t,e),t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(me),Ae=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(me),_e=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(me),Se=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},e}(),De=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},e}(),Te=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),ke=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Ne=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Pe=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),Me=function(){function e(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}return e.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},e}(),Oe=function(){return function(){}}(),Ee="primary",je=function(){function e(e){this.params=e||{}}return e.prototype.has=function(e){return this.params.hasOwnProperty(e)},e.prototype.get=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null},e.prototype.getAll=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]},Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),e}();function Re(e){return new je(e)}var Le="ngNavigationCancelingError";function ze(e){var t=Error("NavigationCancelingError: "+e);return t[Le]=!0,t}function Fe(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var Be=function(){return function(e,t){this.routes=e,this.module=t}}();function Ge(e,t){void 0===t&&(t="");for(var n=0;n<e.length;n++){var r=e[n];Ue(r,Ze(t,r))}}function Ue(e,t){if(!e)throw new Error("\n      Invalid configuration of route '"+t+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(e))throw new Error("Invalid configuration of route '"+t+"': Array cannot be specified");if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==Ee)throw new Error("Invalid configuration of route '"+t+"': a componentless route without children or loadChildren cannot have a named outlet set");if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '"+t+"': redirectTo and children cannot be used together");if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': redirectTo and loadChildren cannot be used together");if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': children and loadChildren cannot be used together");if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '"+t+"': redirectTo and component cannot be used together");if(e.path&&e.matcher)throw new Error("Invalid configuration of route '"+t+"': path and matcher cannot be used together");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '"+t+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '"+t+"': routes must have either a path or a matcher specified");if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '"+t+"': path cannot start with a slash");if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \""+t+'", redirectTo: "'+e.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '"+t+"': pathMatch can only be set to 'prefix' or 'full'");e.children&&Ge(e.children,t)}function Ze(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:e+"/"+t.path:"":e}function We(e){var t=e.children&&e.children.map(We),n=t?Object(r.a)({},e,{children:t}):Object(r.a)({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Ee&&(n.component=Oe),n}function Ve(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(e[n=r[o]]!==t[n])return!1;return!0}function Ye(e){return Array.prototype.concat.apply([],e)}function He(e){return e.length>0?e[e.length-1]:null}function qe(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Xe(e){return Object(o.tb)(e)?e:Object(o.ub)(e)?Object(a.a)(Promise.resolve(e)):Object(s.a)(e)}function Ke(e,t,n){return n?function(e,t){return Ve(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!et(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return t[n]===e[n]})}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!et(s=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!et(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var s=i.slice(0,n.segments.length),a=i.slice(n.segments.length);return!!et(n.segments,s)&&!!n.children[Ee]&&t(n.children[Ee],r,a)}(t,n,n.segments)}(e.root,t.root)}var Je=function(){function e(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}return Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Re(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return it.serialize(this)},e}(),Qe=function(){function e(e,t){var n=this;this.segments=e,this.children=t,this.parent=null,qe(t,function(e,t){return e.parent=n})}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return ot(this)},e}(),$e=function(){function e(e,t){this.path=e,this.parameters=t}return Object.defineProperty(e.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Re(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return ht(this)},e}();function et(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}function tt(e,t){var n=[];return qe(e.children,function(e,r){r===Ee&&(n=n.concat(t(e,r)))}),qe(e.children,function(e,r){r!==Ee&&(n=n.concat(t(e,r)))}),n}var nt=function(){return function(){}}(),rt=function(){function e(){}return e.prototype.parse=function(e){var t=new mt(e);return new Je(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t,n;return"/"+function e(t,n){if(!t.hasChildren())return ot(t);if(n){var r=t.children[Ee]?e(t.children[Ee],!1):"",i=[];return qe(t.children,function(t,n){n!==Ee&&i.push(n+":"+e(t,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=tt(t,function(n,r){return r===Ee?[e(t.children[Ee],!1)]:[r+":"+e(n,!1)]});return ot(t)+"/("+o.join("//")+")"}(e.root,!0)+(t=e.queryParams,(n=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return at(e)+"="+at(t)}).join("&"):at(e)+"="+at(n)})).length?"?"+n.join("&"):"")+("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"")},e}(),it=new rt;function ot(e){return e.segments.map(function(e){return ht(e)}).join("/")}function st(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function at(e){return st(e).replace(/%3B/gi,";")}function lt(e){return st(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ut(e){return decodeURIComponent(e)}function ct(e){return ut(e.replace(/\+/g,"%20"))}function ht(e){return""+lt(e.path)+(t=e.parameters,Object.keys(t).map(function(e){return";"+lt(e)+"="+lt(t[e])}).join(""));var t}var dt=/^[^\/()?;=#]+/;function pt(e){var t=e.match(dt);return t?t[0]:""}var ft=/^[^=?&#]+/,gt=/^[^?&#]+/,mt=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())},e.prototype.parseQueryParams=function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e},e.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},e.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[Ee]=new Qe(e,t)),n},e.prototype.parseSegment=function(){var e=pt(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(e),new $e(ut(e),this.parseMatrixParams())},e.prototype.parseMatrixParams=function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=pt(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=pt(this.remaining);r&&this.capture(n=r)}e[ut(t)]=ut(n)}},e.prototype.parseQueryParam=function(e){var t,n=(t=this.remaining.match(ft))?t[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(e){var t=e.match(gt);return t?t[0]:""}(this.remaining);i&&this.capture(r=i)}var o=ct(n),s=ct(r);if(e.hasOwnProperty(o)){var a=e[o];Array.isArray(a)||(e[o]=a=[a]),a.push(s)}else e[o]=s}},e.prototype.parseParens=function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=pt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Ee);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o[Ee]:new Qe([],o),this.consumeOptional("//")}return t},e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.consumeOptional=function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)},e.prototype.capture=function(e){if(!this.consumeOptional(e))throw new Error('Expected "'+e+'".')},e}(),vt=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=yt(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=yt(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=bt(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return bt(e,this._root).map(function(e){return e.value})},e}();function yt(e,t){var n,i;if(e===t.value)return t;try{for(var o=Object(r.h)(t.children),s=o.next();!s.done;s=o.next()){var a=yt(e,s.value);if(a)return a}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null}function bt(e,t){var n,i;if(e===t.value)return[t];try{for(var o=Object(r.h)(t.children),s=o.next();!s.done;s=o.next()){var a=bt(e,s.value);if(a.length)return a.unshift(t),a}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return[]}var wt=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return"TreeNode("+this.value+")"},e}();function Ct(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var It=function(e){function t(t,n){var r=e.call(this,t)||this;return r.snapshot=n,Tt(r,t),r}return Object(r.c)(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(vt);function xt(e,t){var n=function(e,t){var n=new St([],{},{},"",{},Ee,t,null,e.root,-1,{});return new Dt("",new wt(n,[]))}(e,t),r=new c([new $e("",{})]),i=new c({}),o=new c({}),s=new c({}),a=new c(""),l=new At(r,i,s,a,o,Ee,t,n.root);return l.snapshot=n.root,new It(new wt(l,[]),n)}var At=function(){function e(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(A.a)(function(e){return Re(e)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(A.a)(function(e){return Re(e)}))),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},e}();function _t(e,t){void 0===t&&(t="emptyOnly");var n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var o=n[i],s=n[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(s.component)break;i--}}return function(e){return e.reduce(function(e,t){return{params:Object(r.a)({},e.params,t.params),data:Object(r.a)({},e.data,t.data),resolve:Object(r.a)({},e.resolve,t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var St=function(){function e(e,t,n,r,i,o,s,a,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}return Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Re(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Re(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Route(url:'"+this.url.map(function(e){return e.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},e}(),Dt=function(e){function t(t,n){var r=e.call(this,n)||this;return r.url=t,Tt(r,n),r}return Object(r.c)(t,e),t.prototype.toString=function(){return kt(this._root)},t}(vt);function Tt(e,t){t.value._routerState=e,t.children.forEach(function(t){return Tt(e,t)})}function kt(e){var t=e.children.length>0?" { "+e.children.map(kt).join(", ")+" } ":"";return""+e.value+t}function Nt(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ve(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Ve(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Ve(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Ve(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Pt(e,t){var n,r;return Ve(e.params,t.params)&&et(n=e.url,r=t.url)&&n.every(function(e,t){return Ve(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Pt(e.parent,t.parent))}function Mt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ot(e,t,n,r,i){var o={};return r&&qe(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),new Je(n.root===e?t:function e(t,n,r){var i={};return qe(t.children,function(t,o){i[o]=t===n?r:e(t,n,r)}),new Qe(t.segments,i)}(n.root,e,t),o,i)}var Et=function(){function e(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&Mt(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(e){return"object"==typeof e&&null!=e&&e.outlets});if(r&&r!==He(n))throw new Error("{outlets:{}} has to be the last command")}return e.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},e}(),jt=function(){return function(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}();function Rt(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[Ee]:""+e}function Lt(e,t,n){if(e||(e=new Qe([],{})),0===e.segments.length&&e.hasChildren())return zt(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var s=e.segments[i],a=Rt(n[r]),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Ut(a,l,s))return o;r+=2}else{if(!Ut(a,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Qe(e.segments.slice(0,r.pathIndex),{});return o.children[Ee]=new Qe(e.segments.slice(r.pathIndex),e.children),zt(o,0,i)}return r.match&&0===i.length?new Qe(e.segments,{}):r.match&&!e.hasChildren()?Ft(e,t,n):r.match?zt(e,0,i):Ft(e,t,n)}function zt(e,t,n){if(0===n.length)return new Qe(e.segments,{});var r=function(e){var t,n;return"object"!=typeof e[0]?((t={})[Ee]=e,t):void 0===e[0].outlets?((n={})[Ee]=e,n):e[0].outlets}(n),i={};return qe(r,function(n,r){null!==n&&(i[r]=Lt(e.children[r],t,n))}),qe(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new Qe(e.segments,i)}function Ft(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Bt(n[i].outlets);return new Qe(r,o)}if(0===i&&Mt(n[0]))r.push(new $e(e.segments[t].path,n[0])),i++;else{var s=Rt(n[i]),a=i<n.length-1?n[i+1]:null;s&&a&&Mt(a)?(r.push(new $e(s,Gt(a))),i+=2):(r.push(new $e(s,{})),i++)}}return new Qe(r,{})}function Bt(e){var t={};return qe(e,function(e,n){null!==e&&(t[n]=Ft(new Qe([],{}),0,e))}),t}function Gt(e){var t={};return qe(e,function(e,n){return t[n]=""+e}),t}function Ut(e,t,n){return e==n.path&&Ve(t,n.parameters)}var Zt=function(){function e(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}return e.prototype.activate=function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Nt(this.futureState.root),this.activateChildRoutes(t,n,e)},e.prototype.deactivateChildRoutes=function(e,t,n){var r=this,i=Ct(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),qe(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})},e.prototype.deactivateRoutes=function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)},e.prototype.deactivateRouteAndItsChildren=function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)},e.prototype.detachAndStoreRouteSubtree=function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}},e.prototype.deactivateRouteAndOutlet=function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Ct(e),o=e.value.component?r.children:t;qe(i,function(e,t){return n.deactivateRouteAndItsChildren(e,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},e.prototype.activateChildRoutes=function(e,t,n){var r=this,i=Ct(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Pe(e.value.snapshot))}),e.children.length&&this.forwardEvent(new ke(e.value.snapshot))},e.prototype.activateRoutes=function(e,t,n){var r=e.value,i=t?t.value:null;if(Nt(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Wt(s.route)}else{var a=function(e){for(var t=r.snapshot.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,n)},e}();function Wt(e){Nt(e.value),e.children.forEach(Wt)}function Vt(e){return"function"==typeof e}function Yt(e){return e instanceof Je}var Ht=function(){return function(e){this.segmentGroup=e||null}}(),qt=function(){return function(e){this.urlTree=e}}();function Xt(e){return new h.a(function(t){return t.error(new Ht(e))})}function Kt(e){return new h.a(function(t){return t.error(new qt(e))})}function Jt(e){return new h.a(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+e+"'"))})}var Qt=function(){function e(e,t,n,r,i){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=e.get(o.x)}return e.prototype.apply=function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ee).pipe(Object(A.a)(function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)})).pipe(H(function(t){if(t instanceof qt)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Ht)throw e.noMatchError(t);throw t}))},e.prototype.match=function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ee).pipe(Object(A.a)(function(n){return t.createUrlTree(n,e.queryParams,e.fragment)})).pipe(H(function(e){if(e instanceof Ht)throw t.noMatchError(e);throw e}))},e.prototype.noMatchError=function(e){return new Error("Cannot match any routes. URL Segment: '"+e.segmentGroup+"'")},e.prototype.createUrlTree=function(e,t,n){var r,i=e.segments.length>0?new Qe([],((r={})[Ee]=e,r)):e;return new Je(i,t,n)},e.prototype.expandSegmentGroup=function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(Object(A.a)(function(e){return new Qe([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)},e.prototype.expandChildren=function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(s.a)({});var o=[],a=[],l={};return qe(n,function(n,i){var s,u,c=(s=i,u=n,r.expandSegmentGroup(e,t,u,s)).pipe(Object(A.a)(function(e){return l[i]=e}));i===Ee?o.push(c):a.push(c)}),s.a.apply(null,o.concat(a)).pipe(S(),V(),Object(A.a)(function(){return l}))}(n.children)},e.prototype.expandSegment=function(e,t,n,i,o,a){var l=this;return s.a.apply(void 0,Object(r.g)(n)).pipe(Object(A.a)(function(r){return l.expandSegmentAgainstRoute(e,t,n,r,i,o,a).pipe(H(function(e){if(e instanceof Ht)return Object(s.a)(null);throw e}))}),S(),$(function(e){return!!e}),H(function(e,n){if(e instanceof p||"EmptyError"===e.name){if(l.noLeftoversInUrl(t,i,o))return Object(s.a)(new Qe([],{}));throw new Ht(t)}throw e}))},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.expandSegmentAgainstRoute=function(e,t,n,r,i,o,s){return nn(r)!==o?Xt(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Xt(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Kt(o):this.lineralizeSegments(n,o).pipe(Object(ee.a)(function(n){var o=new Qe(n,{});return i.expandSegment(e,o,t,n,r,!1)}))},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,n,r,i,o){var s=this,a=$t(t,r,i),l=a.consumedSegments,u=a.lastChild,c=a.positionalParamSegments;if(!a.matched)return Xt(t);var h=this.applyRedirectCommands(l,r.redirectTo,c);return r.redirectTo.startsWith("/")?Kt(h):this.lineralizeSegments(r,h).pipe(Object(ee.a)(function(r){return s.expandSegment(e,t,n,r.concat(i.slice(u)),o,!1)}))},e.prototype.matchSegmentAgainstRoute=function(e,t,n,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(Object(A.a)(function(e){return n._loadedConfig=e,new Qe(i,{})})):Object(s.a)(new Qe(i,{}));var a=$t(t,n,i),l=a.consumedSegments,u=a.lastChild;if(!a.matched)return Xt(t);var c=i.slice(u);return this.getChildConfig(e,n,i).pipe(Object(ee.a)(function(e){var n=e.module,i=e.routes,a=function(e,t,n,i){return n.length>0&&function(e,t,n){return i.some(function(n){return tn(e,t,n)&&nn(n)!==Ee})}(e,n)?{segmentGroup:en(new Qe(t,function(e,t){var n,i,o={};o[Ee]=t;try{for(var s=Object(r.h)(e),a=s.next();!a.done;a=s.next()){var l=a.value;""===l.path&&nn(l)!==Ee&&(o[nn(l)]=new Qe([],{}))}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return o}(i,new Qe(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return i.some(function(n){return tn(e,t,n)})}(e,n)?{segmentGroup:en(new Qe(e.segments,function(e,t,n,i){var o,s,a={};try{for(var l=Object(r.h)(n),u=l.next();!u.done;u=l.next()){var c=u.value;tn(e,t,c)&&!i[nn(c)]&&(a[nn(c)]=new Qe([],{}))}}catch(h){o={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return Object(r.a)({},i,a)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,l,c,i),u=a.segmentGroup,h=a.slicedSegments;return 0===h.length&&u.hasChildren()?o.expandChildren(n,i,u).pipe(Object(A.a)(function(e){return new Qe(l,e)})):0===i.length&&0===h.length?Object(s.a)(new Qe(l,{})):o.expandSegment(n,u,i,h,Ee,!0).pipe(Object(A.a)(function(e){return new Qe(l.concat(e.segments),e.children)}))}))},e.prototype.getChildConfig=function(e,t,n){var r=this;return t.children?Object(s.a)(new Be(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Object(s.a)(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?Object(a.a)(i).pipe(Object(A.a)(function(r){var i,o=e.get(r);if(function(e){return e&&Vt(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Vt(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Xe(i)})).pipe(S(),(r=function(e){return!0===e},function(e){return e.lift(new te(r,void 0,e))})):Object(s.a)(!0)}(e.injector,t,n).pipe(Object(ee.a)(function(n){return n?r.configLoader.load(e.injector,t).pipe(Object(A.a)(function(e){return t._loadedConfig=e,e})):function(e){return new h.a(function(t){return t.error(ze("Cannot load children because the guard of the route \"path: '"+e.path+"'\" returned false"))})}(t)})):Object(s.a)(new Be([],e))},e.prototype.lineralizeSegments=function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(s.a)(n);if(r.numberOfChildren>1||!r.children[Ee])return Jt(e.redirectTo);r=r.children[Ee]}},e.prototype.applyRedirectCommands=function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)},e.prototype.applyRedirectCreatreUrlTree=function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Je(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)},e.prototype.createQueryParams=function(e,t){var n={};return qe(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n},e.prototype.createSegmentGroup=function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),s={};return qe(t.children,function(t,o){s[o]=i.createSegmentGroup(e,t,n,r)}),new Qe(o,s)},e.prototype.createSegments=function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})},e.prototype.findPosParam=function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+e+"'. Cannot find '"+t.path+"'.");return r},e.prototype.findOrReturn=function(e,t){var n,i,o=0;try{for(var s=Object(r.h)(t),a=s.next();!a.done;a=s.next()){var l=a.value;if(l.path===e.path)return t.splice(o),l;o++}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return e},e}();function $t(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Fe)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function en(e){if(1===e.numberOfChildren&&e.children[Ee]){var t=e.children[Ee];return new Qe(e.segments.concat(t.segments),t.children)}return e}function tn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function nn(e){return e.outlet||Ee}var rn=function(){return function(e){this.path=e,this.route=this.path[this.path.length-1]}}(),on=function(){return function(e,t){this.component=e,this.route=t}}();function sn(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function an(e,t,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=Ct(t);return e.children.forEach(function(e){!function(e,t,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var l=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!et(e.url,t.url);case"pathParamsOrQueryParamsChange":return!et(e.url,t.url)||!Ve(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pt(e,t)||!Ve(e.queryParams,t.queryParams);case"paramsChange":default:return!Pt(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new rn(r)):(o.data=s.data,o._resolvedData=s._resolvedData),an(e,t,o.component?a?a.children:null:n,r,i),l&&i.canDeactivateChecks.push(new on(a&&a.outlet&&a.outlet.component||null,s))}else s&&ln(t,a,i),i.canActivateChecks.push(new rn(r)),an(e,null,o.component?a?a.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),qe(o,function(e,t){return ln(e,n.getContext(t),i)}),i}function ln(e,t,n){var r=Ct(e),i=e.value;qe(r,function(e,r){ln(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new on(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var un=Symbol("INITIAL_VALUE");function cn(){return re(function(e){return(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(f.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(g.a)(e[0])&&(e=e[0]),Object(y.a)(e,r).lift(new w(n))}).apply(void 0,Object(r.g)(e.map(function(e){return e.pipe(K(1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=e[e.length-1];Object(f.a)(n)?e.pop():n=null;var r=e.length;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length||2===e.length&&Object(f.a)(e[1])?Object(a.a)(e[0]):S()(s.a.apply(void 0,e))}(1!==r||n?r>0?Object(y.a)(e,n):Object(I.b)(n):Object(se.a)(e[0]),t)}}(un))}))).pipe(ae(function(e,t){var n=!1;return t.reduce(function(e,r,i){if(e!==un)return e;if(r===un&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Yt(r))return r}return e},e)},un),Object(D.a)(function(e){return e!==un}),Object(A.a)(function(e){return Yt(e)?e:!0===e}),K(1))})}function hn(e,t){return null!==e&&t&&t(new Ne(e)),Object(s.a)(!0)}function dn(e,t){return null!==e&&t&&t(new Te(e)),Object(s.a)(!0)}function pn(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Object(s.a)(!0);var i=r.map(function(r){return x(function(){var i,o=sn(r,t,n);if(function(e){return e&&Vt(e.canActivate)}(o))i=Xe(o.canActivate(t,e));else{if(!Vt(o))throw new Error("Invalid CanActivate guard");i=Xe(o(t,e))}return i.pipe($())})});return Object(s.a)(i).pipe(cn())}function fn(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return x(function(){var i=t.guards.map(function(i){var o,s=sn(i,t.node,n);if(function(e){return e&&Vt(e.canActivateChild)}(s))o=Xe(s.canActivateChild(r,e));else{if(!Vt(s))throw new Error("Invalid CanActivateChild guard");o=Xe(s(r,e))}return o.pipe($())});return Object(s.a)(i).pipe(cn())})});return Object(s.a)(i).pipe(cn())}var gn=function(){return function(){}}(),mn=function(){function e(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return e.prototype.recognize=function(){try{var e=bn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ee),n=new St([],Object.freeze({}),Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ee,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new wt(n,t),o=new Dt(this.url,i);return this.inheritParamsAndData(o._root),Object(s.a)(o)}catch(a){return new h.a(function(e){return e.error(a)})}},e.prototype.inheritParamsAndData=function(e){var t=this,n=e.value,r=_t(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})},e.prototype.processSegmentGroup=function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)},e.prototype.processChildren=function(e,t){var n,r=this,i=tt(t,function(t,n){return r.processSegmentGroup(e,t,n)});return n={},i.forEach(function(e){var t=n[e.value.outlet];if(t){var r=t.url.map(function(e){return e.toString()}).join("/"),i=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[e.value.outlet]=e.value}),i.sort(function(e,t){return e.value.outlet===Ee?-1:t.value.outlet===Ee?1:e.value.outlet.localeCompare(t.value.outlet)}),i},e.prototype.processSegment=function(e,t,n,i){var o,s;try{for(var a=Object(r.h)(e),l=a.next();!l.done;l=a.next()){var u=l.value;try{return this.processSegmentAgainstRoute(u,t,n,i)}catch(c){if(!(c instanceof gn))throw c}}}catch(h){o={error:h}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(t,n,i))return[];throw new gn},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.processSegmentAgainstRoute=function(e,t,n,i){if(e.redirectTo)throw new gn;if((e.outlet||Ee)!==i)throw new gn;var o,s=[],a=[];if("**"===e.path){var l=n.length>0?He(n).parameters:{};o=new St(n,l,Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,In(e),i,e.component,e,vn(t),yn(t)+n.length,xn(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new gn;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||Fe)(n,e,t);if(!i)throw new gn;var o={};qe(i.posParams,function(e,t){o[t]=e.path});var s=i.consumed.length>0?Object(r.a)({},o,i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(t,e,n);s=u.consumedSegments,a=n.slice(u.lastChild),o=new St(s,u.parameters,Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,In(e),i,e.component,e,vn(t),yn(t)+s.length,xn(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),h=bn(t,s,a,c,this.relativeLinkResolution),d=h.segmentGroup,p=h.slicedSegments;if(0===p.length&&d.hasChildren()){var f=this.processChildren(c,d);return[new wt(o,f)]}if(0===c.length&&0===p.length)return[new wt(o,[])];var g=this.processSegment(c,d,p,Ee);return[new wt(o,g)]},e}();function vn(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function yn(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function bn(e,t,n,i,o){if(n.length>0&&function(e,t,n){return i.some(function(n){return wn(e,t,n)&&Cn(n)!==Ee})}(e,n)){var s=new Qe(t,function(e,t,n,i){var o,s,a={};a[Ee]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;try{for(var l=Object(r.h)(n),u=l.next();!u.done;u=l.next()){var c=u.value;if(""===c.path&&Cn(c)!==Ee){var h=new Qe([],{});h._sourceSegment=e,h._segmentIndexShift=t.length,a[Cn(c)]=h}}}catch(d){o={error:d}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return a}(e,t,i,new Qe(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return i.some(function(n){return wn(e,t,n)})}(e,n)){var a=new Qe(e.segments,function(e,t,n,i,o,s){var a,l,u={};try{for(var c=Object(r.h)(i),h=c.next();!h.done;h=c.next()){var d=h.value;if(wn(e,n,d)&&!o[Cn(d)]){var p=new Qe([],{});p._sourceSegment=e,p._segmentIndexShift="legacy"===s?e.segments.length:t.length,u[Cn(d)]=p}}}catch(f){a={error:f}}finally{try{h&&!h.done&&(l=c.return)&&l.call(c)}finally{if(a)throw a.error}}return Object(r.a)({},o,u)}(e,t,n,i,e.children,o));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var l=new Qe(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function wn(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Cn(e){return e.outlet||Ee}function In(e){return e.data||{}}function xn(e){return e.resolve||{}}function An(e,t,n,r){var i=sn(e,t,r);return Xe(i.resolve?i.resolve(t,n):i(t,n))}function _n(e){return function(t){return t.pipe(re(function(t){var n=e(t);return n?Object(a.a)(n).pipe(Object(A.a)(function(){return t})):Object(a.a)([t])}))}}var Sn=function(){return function(){}}(),Dn=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){return!1},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},e}(),Tn=new o.p("ROUTES"),kn=function(){function e(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}return e.prototype.load=function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(Object(A.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Be(Ye(i.injector.get(Tn)).map(We),i)}))},e.prototype.loadModuleFactory=function(e){var t=this;return"string"==typeof e?Object(a.a)(this.loader.load(e)):Xe(e()).pipe(Object(ee.a)(function(e){return e instanceof o.v?Object(s.a)(e):Object(a.a)(t.compiler.compileModuleAsync(e))}))},e}(),Nn=function(){return function(){}}(),Pn=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){return!0},e.prototype.extract=function(e){return e},e.prototype.merge=function(e,t){return e},e}();function Mn(e){throw e}function On(e,t,n){return t.parse("/")}function En(e,t){return Object(s.a)(null)}var jn=function(){function e(e,t,n,r,i,s,a,u){var h=this;this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new l.a,this.errorHandler=Mn,this.malformedUriErrorHandler=On,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:En,afterPreactivation:En},this.urlHandlingStrategy=new Pn,this.routeReuseStrategy=new Dn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(o.x),this.console=i.get(o.cb);var d=i.get(o.z);this.isNgZoneEnabled=d instanceof o.z,this.resetConfig(u),this.currentUrlTree=new Je(new Qe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kn(s,a,function(e){return h.triggerEvent(new Se(e))},function(e){return h.triggerEvent(new De(e))}),this.routerState=xt(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return e.prototype.setupNavigations=function(e){var t=this,n=this.events;return e.pipe(Object(D.a)(function(e){return 0!==e.id}),Object(A.a)(function(e){return Object(r.a)({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),re(function(e){var i,o,l,u,h=!1,d=!1;return Object(s.a)(e).pipe(R(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object(r.a)({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}}),re(function(e){var i,o,a,l,u=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||u)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Object(s.a)(e).pipe(re(function(e){var r=t.transitions.getValue();return n.next(new ve(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?I.a:[e]}),re(function(e){return Promise.resolve(e)}),(i=t.ngModule.injector,o=t.configLoader,a=t.urlSerializer,l=t.config,function(e){return e.pipe(re(function(e){return function(t,n,r,i,o){return new Qt(t,n,r,e.extractedUrl,o).apply()}(i,o,a,0,l).pipe(Object(A.a)(function(t){return Object(r.a)({},e,{urlAfterRedirects:t})}))}))}),R(function(e){t.currentNavigation=Object(r.a)({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})}),function(e,n,i,o,s){return function(i){return i.pipe(Object(ee.a)(function(i){return function(e,t,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new mn(e,t,n,r,i,o).recognize()}(e,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,t.serializeUrl(a)),o,s).pipe(Object(A.a)(function(e){return Object(r.a)({},i,{targetSnapshot:e})}));var a}))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),R(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id),t.browserUrlTree=e.urlAfterRedirects)}),R(function(e){var r=new Ce(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(u&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var c=e.extractedUrl,h=e.source,d=e.restoredState,p=e.extras,f=new ve(e.id,t.serializeUrl(c),h,d);n.next(f);var g=xt(c,t.rootComponentType).snapshot;return Object(s.a)(Object(r.a)({},e,{targetSnapshot:g,urlAfterRedirects:c,extras:Object(r.a)({},p,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,e.resolve(null),I.a}),_n(function(e){var n=e.extras;return t.hooks.beforePreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),R(function(e){var n=new Ie(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Object(A.a)(function(e){return Object(r.a)({},e,{guards:(n=e.targetSnapshot,i=e.currentSnapshot,o=t.rootContexts,s=n._root,an(s,i?i._root:null,o,[s.value]))});var n,i,o,s}),function(e,t){return function(n){return n.pipe(Object(ee.a)(function(n){var i=n.targetSnapshot,o=n.currentSnapshot,l=n.guards,u=l.canActivateChecks,c=l.canDeactivateChecks;return 0===c.length&&0===u.length?Object(s.a)(Object(r.a)({},n,{guardsResult:!0})):function(e,t,n,r){return Object(a.a)(e).pipe(Object(ee.a)(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);var a=o.map(function(o){var s,a=sn(o,t,i);if(function(e){return e&&Vt(e.canDeactivate)}(a))s=Xe(a.canDeactivate(e,t,n,r));else{if(!Vt(a))throw new Error("Invalid CanDeactivate guard");s=Xe(a(e,t,n,r))}return s.pipe($())});return Object(s.a)(a).pipe(cn())}(e.component,e.route,n,t,r)}),$(function(e){return!0!==e},!0))}(c,i,o,e).pipe(Object(ee.a)(function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return Object(a.a)(t).pipe(Object(ce.a)(function(t){return Object(a.a)([dn(t.route.parent,r),hn(t.route,r),fn(e,t.path,n),pn(e,t.route,n)]).pipe(S(),$(function(e){return!0!==e},!0))}),$(function(e){return!0!==e},!0))}(i,u,e,t):Object(s.a)(n)}),Object(A.a)(function(e){return Object(r.a)({},n,{guardsResult:e})}))}))}}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),R(function(e){if(Yt(e.guardsResult)){var n=ze('Redirecting to "'+t.serializeUrl(e.guardsResult)+'"');throw n.url=e.guardsResult,n}}),R(function(e){var n=new xe(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)}),Object(D.a)(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new be(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),_n(function(e){if(e.guards.canActivateChecks.length)return Object(s.a)(e).pipe(R(function(e){var n=new Ae(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),(n=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(Object(ee.a)(function(e){var t=e.targetSnapshot,o=e.guards.canActivateChecks;return o.length?Object(a.a)(o).pipe(Object(ce.a)(function(e){return function(e,n,i,o){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Object(s.a)({});if(1===i.length){var o=i[0];return An(e[o],t,n,r).pipe(Object(A.a)(function(e){var t;return(t={})[o]=e,t}))}var l={};return Object(a.a)(i).pipe(Object(ee.a)(function(i){return An(e[i],t,n,r).pipe(Object(A.a)(function(e){return l[i]=e,e}))})).pipe(V(),Object(A.a)(function(){return l}))}(e._resolve,e,t,o).pipe(Object(A.a)(function(t){return e._resolvedData=t,e.data=Object(r.a)({},e.data,_t(e,i).resolve),null}))}(e.route,0,n,i)}),function(e,t){return arguments.length>=2?function(t){return Object(he.a)(ae(e,void 0),P(1),G(void 0))(t)}:function(t){return Object(he.a)(ae(function(t,n,r){return e(t)}),P(1))(t)}}(function(e,t){return e}),Object(A.a)(function(t){return e})):Object(s.a)(e)}))}),R(function(e){var n=new _e(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}));var n,i}),_n(function(e){var n=e.extras;return t.hooks.afterPreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(A.a)(function(e){var n,i,o,s=(o=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){(u=i.value)._futureSnapshot=n.value;var o=function(t,n,i){return n.children.map(function(n){var o,s;try{for(var a=Object(r.h)(i.children),l=a.next();!l.done;l=a.next()){var u=l.value;if(t.shouldReuseRoute(u.value.snapshot,n.value))return e(t,n,u)}}catch(c){o={error:c}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}return e(t,n)})}(t,n,i);return new wt(u,o)}var s=t.retrieve(n.value);if(s){var a=s.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,a),a}var l,u=new At(new c((l=n.value).url),new c(l.params),new c(l.queryParams),new c(l.fragment),new c(l.data),l.outlet,l.component,l);return o=n.children.map(function(n){return e(t,n)}),new wt(u,o)}(t.routeReuseStrategy,(n=e.targetSnapshot)._root,(i=e.currentRouterState)?i._root:void 0),new It(o,n));return Object(r.a)({},e,{targetRouterState:s})}),R(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(o=t.rootContexts,l=t.routeReuseStrategy,u=function(e){return t.triggerEvent(e)},Object(A.a)(function(e){return new Zt(l,e.targetRouterState,e.currentRouterState,u).activate(o),e})),R({next:function(){h=!0},complete:function(){h=!0}}),(i=function(){if(!h&&!d){t.resetUrlToCurrentUrlTree();var r=new be(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID "+e.id+" is not equal to the current navigation id "+t.navigationId);n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new pe(i))}),H(function(r){if(d=!0,(a=r)&&a[Le]){var i=Yt(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new be(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),e.resolve(!1),i&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var s=new we(e.id,t.serializeUrl(e.extractedUrl),r);n.next(s);try{e.resolve(t.errorHandler(r))}catch(l){e.reject(l)}}var a;return I.a}))}))},e.prototype.resetRootComponentType=function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType},e.prototype.getTransition=function(){return this.transitions.value},e.prototype.setTransition=function(e){this.transitions.next(Object(r.a)({},this.getTransition(),e))},e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(e.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),e.prototype.getCurrentNavigation=function(){return this.currentNavigation},e.prototype.triggerEvent=function(e){this.events.next(e)},e.prototype.resetConfig=function(e){Ge(e),this.config=e.map(We),this.navigated=!1,this.lastSuccessfulId=-1},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},e.prototype.createUrlTree=function(e,t){void 0===t&&(t={});var n=t.relativeTo,i=t.queryParams,s=t.fragment,a=t.preserveQueryParams,l=t.queryParamsHandling,u=t.preserveFragment;Object(o.X)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,h=u?this.currentUrlTree.fragment:s,d=null;if(l)switch(l){case"merge":d=Object(r.a)({},this.currentUrlTree.queryParams,i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}else d=a?this.currentUrlTree.queryParams:i||null;return null!==d&&(d=this.removeEmptyProps(d)),function(e,t,n,i,o){if(0===n.length)return Ot(t.root,t.root,t,i,o);var s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Et(!0,0,e);var t=0,n=!1,i=e.reduce(function(e,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var s={};return qe(i.outlets,function(e,t){s[t]="string"==typeof e?e.split("/"):e}),Object(r.g)(e,[{outlets:s}])}if(i.segmentPath)return Object(r.g)(e,[i.segmentPath])}return"string"!=typeof i?Object(r.g)(e,[i]):0===o?(i.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):Object(r.g)(e,[i])},[]);return new Et(n,t,i)}(n);if(s.toRoot())return Ot(t.root,new Qe([],{}),t,i,o);var a=function(e,n,r){if(e.isAbsolute)return new jt(t.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new jt(r.snapshot._urlSegment,!0,0);var i=Mt(e.commands[0])?0:1;return function(t,n,o){for(var s=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+i,l=e.numberOfDoubleDots;l>a;){if(l-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new jt(s,!1,a-l)}()}(s,0,e),l=a.processChildren?zt(a.segmentGroup,a.index,s.commands):Lt(a.segmentGroup,a.index,s.commands);return Ot(a.segmentGroup,l,t,i,o)}(c,this.currentUrlTree,e,d,h)},e.prototype.navigateByUrl=function(e,t){void 0===t&&(t={skipLocationChange:!1}),Object(o.X)()&&this.isNgZoneEnabled&&!o.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Yt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+t)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t},e.prototype.isActive=function(e,t){if(Yt(e))return Ke(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Ke(this.currentUrlTree,n,t)},e.prototype.removeEmptyProps=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})},e.prototype.processNavigations=function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new ye(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})},e.prototype.scheduleNavigation=function(e,t,n,r){var i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var o=null,s=null,a=new Promise(function(e,t){o=e,s=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(e){return Promise.reject(e)})},e.prototype.setBrowserUrl=function(e,t,n,i){var o=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(o)||t?this.location.replaceState(o,"",Object(r.a)({},i,{navigationId:n})):this.location.go(o,"",Object(r.a)({},i,{navigationId:n}))},e.prototype.resetStateAndUrl=function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},e.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},e}(),Rn=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ln,this.attachRef=null}}(),Ln=function(){function e(){this.contexts=new Map}return e.prototype.onChildOutletCreated=function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)},e.prototype.onChildOutletDestroyed=function(e){var t=this.getContext(e);t&&(t.outlet=null)},e.prototype.onOutletDeactivated=function(){var e=this.contexts;return this.contexts=new Map,e},e.prototype.onOutletReAttached=function(e){this.contexts=e},e.prototype.getOrCreateContext=function(e){var t=this.getContext(e);return t||(t=new Rn,this.contexts.set(e,t)),t},e.prototype.getContext=function(e){return this.contexts.get(e)||null},e}(),zn=function(){function e(e,t,n,r,i){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.m,this.deactivateEvents=new o.m,this.name=r||Ee,e.onChildOutletCreated(this.name,this)}return e.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},e.prototype.ngOnInit=function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e},e.prototype.attach=function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)},e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}},e.prototype.activateWith=function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Fn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},e}(),Fn=function(){function e(e,t,n){this.route=e,this.childContexts=t,this.parent=n}return e.prototype.get=function(e,t){return e===At?this.route:e===Ln?this.childContexts:this.parent.get(e,t)},e}(),Bn=function(){return function(){}}(),Gn=function(){function e(){}return e.prototype.preload=function(e,t){return t().pipe(H(function(){return Object(s.a)(null)}))},e}(),Un=function(){function e(){}return e.prototype.preload=function(e,t){return Object(s.a)(null)},e}(),Zn=function(){function e(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new kn(t,n,function(t){return e.triggerEvent(new Se(t))},function(t){return e.triggerEvent(new De(t))})}return e.prototype.setUpPreloading=function(){var e=this;this.subscription=this.router.events.pipe(Object(D.a)(function(e){return e instanceof ye}),Object(ce.a)(function(){return e.preload()})).subscribe(function(){})},e.prototype.preload=function(){var e=this.injector.get(o.x);return this.processRoutes(e,this.router.config)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.processRoutes=function(e,t){var n,i,o=[];try{for(var s=Object(r.h)(t),l=s.next();!l.done;l=s.next()){var u=l.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var c=u._loadedConfig;o.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(e,u)):u.children&&o.push(this.processRoutes(e,u.children))}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return Object(a.a)(o).pipe(Object(_.a)(),Object(A.a)(function(e){}))},e.prototype.preloadConfig=function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(Object(ee.a)(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})},e}(),Wn=function(){function e(e,t,n){void 0===n&&(n={}),this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return e.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},e.prototype.createScrollEvents=function(){var e=this;return this.router.events.subscribe(function(t){t instanceof ve?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ye&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})},e.prototype.consumeScrollEvents=function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Me&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})},e.prototype.scheduleScrollEvent=function(e,t){this.router.triggerEvent(new Me(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))},e.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},e}(),Vn=new o.p("ROUTER_CONFIGURATION"),Yn=new o.p("ROUTER_FORROOT_GUARD"),Hn=[i.f,{provide:nt,useClass:rt},{provide:jn,useFactory:er,deps:[o.g,nt,Ln,i.f,o.q,o.w,o.i,Tn,Vn,[Nn,new o.A],[Sn,new o.A]]},Ln,{provide:At,useFactory:tr,deps:[jn]},{provide:o.w,useClass:o.J},Zn,Un,Gn,{provide:Vn,useValue:{enableTracing:!1}}];function qn(){return new o.y("Router",jn)}var Xn=function(){function e(e,t){}var t;return t=e,e.forRoot=function(e,n){return{ngModule:t,providers:[Hn,$n(e),{provide:Yn,useFactory:Qn,deps:[[jn,new o.A,new o.I]]},{provide:Vn,useValue:n||{}},{provide:i.g,useFactory:Jn,deps:[i.m,[new o.o(i.a),new o.A],Vn]},{provide:Wn,useFactory:Kn,deps:[jn,i.n,Vn]},{provide:Bn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Un},{provide:o.y,multi:!0,useFactory:qn},[nr,{provide:o.d,multi:!0,useFactory:rr,deps:[nr]},{provide:or,useFactory:ir,deps:[nr]},{provide:o.b,multi:!0,useExisting:or}]]}},e.forChild=function(e){return{ngModule:t,providers:[$n(e)]}},e}();function Kn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Wn(e,t,n)}function Jn(e,t,n){return void 0===n&&(n={}),n.useHash?new i.d(e,t):new i.l(e,t)}function Qn(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function $n(e){return[{provide:o.a,multi:!0,useValue:e},{provide:Tn,multi:!0,useValue:e}]}function er(e,t,n,r,i,o,s,a,l,u,c){void 0===l&&(l={});var h=new jn(null,t,n,r,i,o,s,Ye(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var d=Object(ge.r)();h.events.subscribe(function(e){d.logGroup("Router Event: "+e.constructor.name),d.log(e.toString()),d.log(e),d.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function tr(e){return e.routerState.root}var nr=function(){function e(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new l.a}return e.prototype.appInitializer=function(){var e=this;return this.injector.get(i.e,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(jn),i=e.injector.get(Vn);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return e.initNavigation?Object(s.a)(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n})},e.prototype.bootstrapListener=function(e){var t=this.injector.get(Vn),n=this.injector.get(Zn),r=this.injector.get(Wn),i=this.injector.get(jn),s=this.injector.get(o.g);e===s.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},e.prototype.isLegacyEnabled=function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation},e.prototype.isLegacyDisabled=function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation},e}();function rr(e){return e.appInitializer.bind(e)}function ir(e){return e.bootstrapListener.bind(e)}var or=new o.p("Router Initializer")},ZYjt:function(e,t,n){"use strict";n.d(t,"p",function(){return ve}),n.d(t,"q",function(){return S}),n.d(t,"a",function(){return ye}),n.d(t,"h",function(){return me}),n.d(t,"c",function(){return D}),n.d(t,"d",function(){return T}),n.d(t,"e",function(){return ee}),n.d(t,"f",function(){return te}),n.d(t,"g",function(){return ne}),n.d(t,"b",function(){return ae}),n.d(t,"r",function(){return a}),n.d(t,"j",function(){return z}),n.d(t,"i",function(){return Q}),n.d(t,"m",function(){return re}),n.d(t,"n",function(){return se}),n.d(t,"l",function(){return P}),n.d(t,"o",function(){return N}),n.d(t,"k",function(){return le});var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),s=null;function a(){return s}var l,u={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};o.qb.Node&&(l=o.qb.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var d,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,s||(s=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){var i;(i=e)[t].apply(i,Object(r.g)(n))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return u},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return l.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r},t.prototype.createStyleElement=function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,r){e.setAttributeNS(t,n,r)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||""},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&h.hasOwnProperty(t)&&(t=h[t]))}return c[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=f||(f=document.querySelector("base"))?f.getAttribute("href"):null;return null==n?null:(t=n,d||(d=document.createElement("a")),d.setAttribute("href",t),"/"===d.pathname.charAt(0)?d.pathname:"/"+d.pathname)},t.prototype.resetBaseElement=function(){f=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return Object(i.r)(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=t.getStyle(n,r[i]+"AnimationName")){t._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=o[e])})}catch(s){t._animationPrefix=null,t._transitionEnd=null}return t}return Object(r.c)(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),f=null,g=i.c;function m(){return!!window.history.pushState}var v=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}return Object(r.c)(t,e),t.prototype._init=function(){this.location=a().getLocation(),this._history=a().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return a().getBaseHref(this._doc)},t.prototype.onPopState=function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){m()?this._history.pushState(e,t,n):this.location.hash=n},t.prototype.replaceState=function(e,t,n){m()?this._history.replaceState(e,t,n):this.location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},Object(r.b)([Object(r.e)(0,Object(o.o)(g)),Object(r.d)("design:paramtypes",[Object])],t)}(i.m),y=new o.p("TRANSITION_ID"),b=[{provide:o.d,useFactory:function(e,t,n){return function(){n.get(o.e).donePromise.then(function(){var n=a();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return n.getAttribute(t,"ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[y,g,o.q],multi:!0}],w=function(){function e(){}return e.init=function(){Object(o.Z)(new e)},e.prototype.addToWindow=function(e){o.qb.getAngularTestability=function(t,n){void 0===n&&(n=!0);var r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.qb.getAllAngularTestabilities=function(){return e.getAllTestabilities()},o.qb.getAllAngularRootElements=function(){return e.getAllRootElements()},o.qb.frameworkStabilizers||(o.qb.frameworkStabilizers=[]),o.qb.frameworkStabilizers.push(function(e){var t=o.qb.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?a().isShadowRoot(t)?this.findTestabilityInTree(e,a().getHost(t),!0):this.findTestabilityInTree(e,a().parentElement(t),!0):null},e}();function C(e,t){"undefined"!=typeof COMPILED&&COMPILED||((o.qb.ng=o.qb.ng||{})[e]=t)}var I={ApplicationRef:o.g,NgZone:o.z},x="probe",A="coreTokens";function _(e){return Object(o.V)(e)}function S(e){return C(x,_),C(A,Object(r.a)({},I,(e||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return _}}var D=new o.p("EventManagerPlugins"),T=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)},e}(),k=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var r=a().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target "+r+" for event "+t);return this.addEventListener(r,t,n)},e}(),N=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),P=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return Object(r.c)(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return a().remove(e)})},t}(N),M={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},O=/%COMP%/g,E="_nghost-%COMP%",j="_ngcontent-%COMP%";function R(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?R(e,i,n):(i=i.replace(O,e),n.push(i))}return n}function L(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var z=function(){function e(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new F(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case o.P.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Z(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case o.P.Native:case o.P.ShadowDom:return new W(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=R(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),F=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(M[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'+e+'" did not match any elements');return t||(n.textContent=""),n},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,r){if(r){t=r+":"+t;var i=M[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var r=M[n];r?e.removeAttributeNS(r,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,r){r&o.F.DashCase?e.style.setProperty(t,n,r&o.F.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&o.F.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){G(t,"property"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return G(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,L(n)):this.eventManager.addEventListener(e,t,L(n))},e}(),B="@".charCodeAt(0);function G(e,t){if(e.charCodeAt(0)===B)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var U,Z=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;o.component=r;var s=R(i+"-"+r.id,r.styles,[]);return n.addStyles(s),o.contentAttr=j.replace(O,i+"-"+r.id),o.hostAttr=E.replace(O,i+"-"+r.id),o}return Object(r.c)(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var r=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,r,this.contentAttr,""),r},t}(F),W=function(e){function t(t,n,r,i){var s=e.call(this,t)||this;s.sharedStylesHost=n,s.hostEl=r,s.component=i,s.shadowRoot=i.encapsulation===o.P.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=R(i.id,i.styles,[]),l=0;l<a.length;l++){var u=document.createElement("style");u.textContent=a[l],s.shadowRoot.appendChild(u)}return s}return Object(r.c)(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,r){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,r)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(F),V="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},Y=V("addEventListener"),H=V("removeEventListener"),q={},X="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[V("BLACK_LISTED_EVENTS")]&&(U={});var K=function(e){return!!U&&U.hasOwnProperty(e)},J=function(e){var t=q[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==e[X];o++){var s;(s=i[o]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},Q=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.ngZone=n,r&&Object(i.o)(r)||o.patchEvent(),o}return Object(r.c)(t,e),t.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[X]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var r=this,i=n;if(!e[Y]||o.z.isInAngularZone()&&!K(t))e.addEventListener(t,i,!1);else{var s=q[t];s||(s=q[t]=V("ANGULAR"+t+"FALSE"));var a=e[s],l=a&&a.length>0;a||(a=e[s]=[]);var u=K(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:u,handler:i});else{for(var c=!1,h=0;h<a.length;h++)if(a[h].handler===i){c=!0;break}c||a.push({zone:u,handler:i})}l||e[Y](t,J,!1)}return function(){return r.removeEventListener(e,t,i)}},t.prototype.removeEventListener=function(e,t,n){var r=e[H];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=q[t],o=i&&e[i];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);for(var s=!1,a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(e,[t,J,!1]):e.removeEventListener.apply(e,[t,n,!1])},t}(k),$={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},ee=new o.p("HammerGestureConfig"),te=new o.p("HammerLoader"),ne=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t},e}(),re=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(r.c)(t,e),t.prototype.supports=function(e){return!(!$.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+e+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},t.prototype.addEventListener=function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var o=!1,s=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});o||(s=r.addEventListener(e,t,n))}).catch(function(){r.console.warn('The "'+t+'" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}}),function(){s()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(e),s=function(e){i.runGuarded(function(){n(e)})};return o.on(t,s),function(){o.off(t,s),"function"==typeof o.destroy&&o.destroy()}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(k),ie=["alt","control","meta","shift"],oe={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},se=function(e){function t(t){return e.call(this,t)||this}var n;return Object(r.c)(t,e),n=t,t.prototype.supports=function(e){return null!=n.parseEventName(e)},t.prototype.addEventListener=function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return a().onAndCancel(e,i.domEventName,o)})},t.parseEventName=function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(ie.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var s={};return s.domEventName=r,s.fullKey=o,s},t.getEventFullKey=function(e){var t="",n=a().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ie.forEach(function(r){r!=n&&(0,oe[r])(e)&&(t+=r+".")}),t+=n},t.eventCallback=function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}(k),ae=function(){return function(){}}(),le=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return Object(r.c)(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case o.H.NONE:return t;case o.H.HTML:return t instanceof ce?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),Object(o.db)(this._doc,String(t)));case o.H.STYLE:return t instanceof he?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Object(o.eb)(t));case o.H.SCRIPT:if(t instanceof de)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case o.H.URL:return t instanceof fe||t instanceof pe?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Object(o.fb)(String(t)));case o.H.RESOURCE_URL:if(t instanceof fe)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof ue)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new ce(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new he(e)},t.prototype.bypassSecurityTrustScript=function(e){return new de(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new pe(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new fe(e)},t}(ae),ue=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(ue),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.getTypeName=function(){return"Style"},t}(ue),de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.getTypeName=function(){return"Script"},t}(ue),pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.getTypeName=function(){return"URL"},t}(ue),fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.c)(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(ue),ge=[{provide:o.B,useValue:i.p},{provide:o.C,useValue:function(){p.makeCurrent(),w.init()},multi:!0},{provide:i.m,useClass:v,deps:[g]},{provide:g,useFactory:function(){return document},deps:[]}],me=Object(o.R)(o.Y,"browser",ge);function ve(){return new o.l}var ye=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var t;return t=e,e.withServerTransition=function(e){return{ngModule:t,providers:[{provide:o.c,useValue:e.appId},{provide:y,useExisting:o.c},b]}},e}();"undefined"!=typeof window&&window},Zn8D:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),Object(r.a)(i.a,e)}},Zoef:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("nDsZ")),r(n("R53l")),r(n("tdlq"))},aSIW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("BOov"),i=n("owkM");t.createConnection=function(e,t,n){return e.onError(e=>{t(e[0],e[1],e[2])}),e.onClose(n),{listen:()=>e.listen(),sendRequest:(t,...n)=>e.sendRequest(i.string(t)?t:t.method,...n),onRequest:(t,n)=>e.onRequest(i.string(t)?t:t.method,n),sendNotification:(t,n)=>e.sendNotification(i.string(t)?t:t.method,n),onNotification:(t,n)=>e.onNotification(i.string(t)?t:t.method,n),trace:(t,n,r=!1)=>e.trace(t,n,r),initialize:t=>e.sendRequest(r.InitializeRequest.type,t),shutdown:()=>e.sendRequest(r.ShutdownRequest.type,void 0),exit:()=>e.sendNotification(r.ExitNotification.type),onLogMessage:t=>e.onNotification(r.LogMessageNotification.type,t),onShowMessage:t=>e.onNotification(r.ShowMessageNotification.type,t),onTelemetry:t=>e.onNotification(r.TelemetryEventNotification.type,t),didChangeConfiguration:t=>e.sendNotification(r.DidChangeConfigurationNotification.type,t),didChangeWatchedFiles:t=>e.sendNotification(r.DidChangeWatchedFilesNotification.type,t),didOpenTextDocument:t=>e.sendNotification(r.DidOpenTextDocumentNotification.type,t),didChangeTextDocument:t=>e.sendNotification(r.DidChangeTextDocumentNotification.type,t),didCloseTextDocument:t=>e.sendNotification(r.DidCloseTextDocumentNotification.type,t),didSaveTextDocument:t=>e.sendNotification(r.DidSaveTextDocumentNotification.type,t),onDiagnostics:t=>e.onNotification(r.PublishDiagnosticsNotification.type,t),dispose:()=>e.dispose()}}},b2cT:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n("uoVZ"),o=n("BOov"),s=n("FW9y");t.ProgressPart=class{constructor(e,t){this._client=e,this._token=t,this._reported=0,this._disposable=this._client.onProgress(o.Proposed.WorkDoneProgress.type,this._token,e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"done":this.done()}})}begin(e){i.window.withProgress({location:e.cancellable?i.ProgressLocation.Notification:i.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(t,n)=>r(this,void 0,void 0,function*(){return this._progress=t,this._infinite=void 0===e.percentage,this._cancellationToken=n,this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(o.Proposed.WorkDoneProgressCancelNotification.type,{token:this._token})}),this.report(e),new Promise((e,t)=>{this._resolve=e,this._reject=t})}))}report(e){if(this._infinite&&s.string(e.message))this._progress.report({message:e.message});else if(s.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._progress.report({message:e.message,increment:n}),this._reported+=n}}cancel(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this._disposable&&(this._disposable.dispose(),this._disposable=void 0),this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}}},bwr2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("oL6p");t.MonacoDiagnosticCollection=class{constructor(e,t){this.name=e,this.p2m=t,this.diagnostics=new Map,this.toDispose=new r.DisposableCollection}dispose(){this.toDispose.dispose()}get(e){const t=this.diagnostics.get(e);return t?t.diagnostics:[]}set(e,t){const n=this.diagnostics.get(e);if(n)n.diagnostics=t;else{const n=new i(e,t,this.name,this.p2m);this.diagnostics.set(e,n),this.toDispose.push(r.Disposable.create(()=>{this.diagnostics.delete(e),n.dispose()}))}}};class i{constructor(e,t,n,r){this.owner=n,this.p2m=r,this._markers=[],this._diagnostics=[],this.uri=monaco.Uri.parse(e),this.diagnostics=t,monaco.editor.onDidCreateModel(e=>this.doUpdateModelMarkers(e))}set diagnostics(e){this._diagnostics=e,this._markers=this.p2m.asDiagnostics(e),this.updateModelMarkers()}get diagnostics(){return this._diagnostics}get markers(){return this._markers}dispose(){this._markers=[],this.updateModelMarkers()}updateModelMarkers(){const e=monaco.editor.getModel(this.uri);this.doUpdateModelMarkers(e||void 0)}doUpdateModelMarkers(e){e&&this.uri.toString()===e.uri.toString()&&monaco.editor.setModelMarkers(e,this.owner,this._markers)}}t.MonacoModelDiagnostics=i},cTAX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");!function(e){e.method="textDocument/declaration",e.type=new r.RequestType(e.method),e.resultType=new r.ProgressType}(t.DeclarationRequest||(t.DeclarationRequest={}))},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},eAhI:function(e,t,n){(function(e,t,n,r){"use strict";var i,o,s,a;t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,r=r&&r.hasOwnProperty("default")?r.default:r,Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var i,o,s=0|t,a=Math.max(s>=0?s:r-Math.abs(s),0);a<r;){if((i=n[a])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;a++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}}}),Array.from||(Array.from=(i=Object.prototype.toString,o=function(e){return"function"==typeof e||"[object Function]"===i.call(e)},s=Math.pow(2,53)-1,a=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),s)},function(e){var t=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!o(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var i,s=a(t.length),l=o(this)?Object(new this(s)):new Array(s),u=0;u<s;)i=t[u],l[u]=r?void 0===n?r(i,u):r.call(n,i,u):i,u+=1;return l.length=s,l})),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){if(e.call(r,t[i],i,t))return i;i++}return-1}}),function(){var t=void 0!==e?e:this,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(e){this.message=e}(r.prototype=new Error).name="InvalidCharacterError",t.btoa||(t.btoa=function(e){for(var t,i,o=String(e),s=0,a=n,l="";o.charAt(0|s)||(a="=",s%1);l+=a.charAt(63&t>>8-s%1*8)){if((i=o.charCodeAt(s+=.75))>255)throw new r("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|i}return l}),t.atob||(t.atob=function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new r("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,s=0,a=0,l="";o=t.charAt(a++);~o&&(i=s%4?64*i+o:o,s++%4)?l+=String.fromCharCode(255&i>>(-2*s&6)):0)o=n.indexOf(o);return l})}(),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isNaN=Number.isNaN||function(e){return e!=e},String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(t||0,e.length)===e}),function(){function e(e,t){return this.slice(e,t)}function t(e,t){arguments.length<2&&(t=0);for(var n=0,r=e.length;n<r;++n,++t)this[t]=255&e[n]}function n(n){var r;if("number"==typeof n){r=new Array(n);for(var i=0;i<n;++i)r[i]=0}else r=n.slice(0);return r.subarray=e,r.buffer=r,r.byteLength=r.length,r.set=t,"object"==typeof n&&n.buffer&&(r.buffer=n.buffer),r}"undefined"==typeof Uint8Array&&"undefined"!=typeof window&&(window.Uint8Array=n,window.Uint32Array=n,window.Int32Array=n)}(),"undefined"!=typeof XMLHttpRequest&&("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype||Object.defineProperty(XMLHttpRequest.prototype,"response",{get:function(){return new Uint8Array(new VBArray(this.responseBody).toArray())}}));var l=Math,u=l.abs,c=l.cos,h=l.sin,d=l.sqrt,p=l.min,f=l.max,g=l.atan2,m=l.round,v=l.floor,y=l.PI,b=l.pow,w={curveThroughPoints:function(e){return console.warn("deprecated"),new A(C.throughPoints(e)).serialize()},getCurveControlPoints:function(e){console.warn("deprecated");var t,n=[],r=[],i=e.length-1;if(1==i)return n[0]=new _((2*e[0].x+e[1].x)/3,(2*e[0].y+e[1].y)/3),r[0]=new _(2*n[0].x-e[0].x,2*n[0].y-e[0].y),[n,r];var o=[];for(t=1;t<i-1;t++)o[t]=4*e[t].x+2*e[t+1].x;o[0]=e[0].x+2*e[1].x,o[i-1]=(8*e[i-1].x+e[i].x)/2;var s=this.getFirstControlPoints(o);for(t=1;t<i-1;++t)o[t]=4*e[t].y+2*e[t+1].y;o[0]=e[0].y+2*e[1].y,o[i-1]=(8*e[i-1].y+e[i].y)/2;var a=this.getFirstControlPoints(o);for(t=0;t<i;t++)n.push(new _(s[t],a[t])),r.push(t<i-1?new _(2*e[t+1].x-s[t+1],2*e[t+1].y-a[t+1]):new _((e[i].x+s[i-1])/2,(e[i].y+a[i-1])/2));return[n,r]},getCurveDivider:function(e,t,n,r){console.warn("deprecated");var i=new C(e,t,n,r);return function(e){var t=i.divide(e);return[{p0:t[0].start,p1:t[0].controlPoint1,p2:t[0].controlPoint2,p3:t[0].end},{p0:t[1].start,p1:t[1].controlPoint1,p2:t[1].controlPoint2,p3:t[1].end}]}},getFirstControlPoints:function(e){console.warn("deprecated");var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,n[o]=(e[o]-n[o-1])/(i=(o<t-1?4:3.5)-r[o]);for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n},getInversionSolver:function(e,t,n,r){console.warn("deprecated");var i=new C(e,t,n,r);return function(e){return i.closestPointT(e)}}},C=function(e,t,n,r){return this instanceof C?e instanceof C?new C(e.start,e.controlPoint1,e.controlPoint2,e.end):(this.start=new _(e),this.controlPoint1=new _(t),this.controlPoint2=new _(n),void(this.end=new _(r))):new C(e,t,n,r)};C.throughPoints=function(){function e(e){var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var o=1;o<t;o++)r[o]=1/i,n[o]=(e[o]-n[o-1])/(i=(o<t-1?4:3.5)-r[o]);for(o=1;o<t;o++)n[t-o-1]-=r[t-o]*n[t-o];return n}return function(t){if(!t||Array.isArray(t)&&t.length<2)throw new Error("At least 2 points are required");for(var n=function(t){var n,r=[],i=[],o=t.length-1;if(1==o)return r[0]=new _((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),i[0]=new _(2*r[0].x-t[0].x,2*r[0].y-t[0].y),[r,i];var s=[];for(n=1;n<o-1;n++)s[n]=4*t[n].x+2*t[n+1].x;s[0]=t[0].x+2*t[1].x,s[o-1]=(8*t[o-1].x+t[o].x)/2;var a=e(s);for(n=1;n<o-1;++n)s[n]=4*t[n].y+2*t[n+1].y;s[0]=t[0].y+2*t[1].y,s[o-1]=(8*t[o-1].y+t[o].y)/2;var l=e(s);for(n=0;n<o;n++)r.push(new _(a[n],l[n])),i.push(n<o-1?new _(2*t[n+1].x-a[n+1],2*t[n+1].y-l[n+1]):new _((t[o].x+a[o-1])/2,(t[o].y+l[o-1])/2));return[r,i]}(t),r=[],i=n[0].length,o=0;o<i;o++){var s=new _(n[0][o].x,n[0][o].y),a=new _(n[1][o].x,n[1][o].y);r.push(new C(t[o],s,a,t[o+1]))}return r}}(),C.prototype={bbox:function(){for(var e,t,n,r,i,o,s,a,l=this.start,c=this.controlPoint1,h=this.controlPoint2,g=this.end,m=l.x,v=l.y,y=c.x,b=c.y,w=h.x,C=h.y,I=g.x,x=g.y,A=new Array,_=new Array,S=[new Array,new Array],T=0;T<2;++T)if(0===T?(t=6*m-12*y+6*w,e=-3*m+9*y-9*w+3*I,n=3*y-3*m):(t=6*v-12*b+6*C,e=-3*v+9*b-9*C+3*x,n=3*b-3*v),u(e)<1e-12){if(u(t)<1e-12)continue;0<(r=-n/t)&&r<1&&_.push(r)}else a=d(s=t*t-4*n*e),s<0||(0<(i=(-t+a)/(2*e))&&i<1&&_.push(i),0<(o=(-t-a)/(2*e))&&o<1&&_.push(o));for(var k,N,P,M=_.length,O=M;M--;)S[0][M]=N=(k=1-(r=_[M]))*k*k*m+3*k*k*r*y+3*k*r*r*w+r*r*r*I,S[1][M]=P=k*k*k*v+3*k*k*r*b+3*k*r*r*C+r*r*r*x,A[M]={X:N,Y:P};_[O]=0,_[O+1]=1,A[O]={X:m,Y:v},A[O+1]={X:I,Y:x},S[0][O]=m,S[1][O]=v,S[0][O+1]=I,S[1][O+1]=x,_.length=O+2,S[0].length=O+2,S[1].length=O+2,A.length=O+2;var E=p.apply(null,S[0]),j=p.apply(null,S[1]),R=f.apply(null,S[0]),L=f.apply(null,S[1]);return new D(E,j,R-E,L-j)},clone:function(){return new C(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(e,t){return this.pointAtT(this.closestPointT(e,t))},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions};return this.lengthAtT(this.closestPointT(e,r),r)},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},i=this.closestPointLength(e,r);if(!i)return 0;var o=this.length(r);return 0===o?0:i/o},closestPointT:function(e,t){for(var n,r,i,o,s,a,l,c=void 0===(t=t||{}).precision?this.PRECISION:t.precision,h=void 0===t.subdivisions?this.getSubdivisions({precision:c}):t.subdivisions,d=h.length,p=d?1/d:0,f=0;f<d;f++){var g=h[f],m=g.start.distance(e),v=g.end.distance(e),y=m+v;(!l||y<l)&&(n=g,r=f*p,i=(f+1)*p,o=m,s=v,a=g.start.distance(g.end),l=y)}for(var w=b(10,-c);;){var C=o?u(o-s)/o:0,I=s?u(o-s)/s:0;if(C<w||I<w||!o||o<a*w||!s||s<a*w)return o<=s?r:i;var x=n.divide(.5);p/=2;var A=x[0].start.distance(e),_=x[0].end.distance(e),S=A+_,D=x[1].start.distance(e),T=x[1].end.distance(e);S<=D+T?(n=x[0],i-=p,o=A,s=_):(n=x[1],r+=p,o=D,s=T)}},closestPointTangent:function(e,t){return this.tangentAtT(this.closestPointT(e,t))},containsPoint:function(e,t){return this.toPolyline(t).containsPoint(e)},divideAt:function(e,t){if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)},divideAtLength:function(e,t){var n=this.tAtLength(e,t);return this.divideAtT(n)},divideAtT:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return[new C(t,t,t,t),new C(t,n,r,i)];if(e>=1)return[new C(t,n,r,i),new C(i,i,i,i)];var o=this.getSkeletonPoints(e),s=o.divider,a=o.dividerControlPoint1,l=o.dividerControlPoint2;return[new C(t,o.startControlPoint1,o.startControlPoint2,s),new C(s,a,l,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.controlPoint1.x===e.controlPoint1.x&&this.controlPoint1.y===e.controlPoint1.y&&this.controlPoint2.x===e.controlPoint2.x&&this.controlPoint2.y===e.controlPoint2.y&&this.end.x===e.end.x&&this.end.y===e.end.y},getSkeletonPoints:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new x(t,n).pointAt(e),s=new x(n,r).pointAt(e),a=new x(r,i).pointAt(e),l=new x(o,s).pointAt(e),u=new x(s,a).pointAt(e);return{startControlPoint1:o,startControlPoint2:l,divider:new x(l,u).pointAt(e),dividerControlPoint1:u,dividerControlPoint2:a}},getSubdivisions:function(e){var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=[new C(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===t)return n;for(var r=this.endpointDistance(),i=b(10,-t),o=0;;){o+=1;for(var s=[],a=n.length,l=0;l<a;l++){var u=n[l].divide(.5);s.push(u[0],u[1])}for(var c=0,h=s.length,d=0;d<h;d++)c+=s[d].endpointDistance();if(o>1&&(0!==c?(c-r)/c:0)<i)return s;n=s,r=c}},isDifferentiable:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return!(this.start.equals(e)&&e.equals(t)&&t.equals(n))},length:function(e){for(var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=void 0===e.subdivisions?this.getSubdivisions({precision:t}):e.subdivisions,r=0,i=n.length,o=0;o<i;o++)r+=n[o].endpointDistance();return r},lengthAtT:function(e,t){if(e<=0)return 0;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:n})},pointAt:function(e,t){if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)},pointAtLength:function(e,t){var n=this.tAtLength(e,t);return this.pointAtT(n)},pointAtT:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider},PRECISION:3,scale:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},tangentAt:function(e,t){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)},tangentAtLength:function(e,t){if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)},tangentAtT:function(e){if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,r=t.divider,i=new x(n,t.dividerControlPoint1);return i.translate(r.x-n.x,r.y-n.y),i},tAt:function(e,t){if(e<=0)return 0;if(e>=1)return 1;var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,subdivisions:void 0===t.subdivisions?this.getSubdivisions({precision:n}):t.subdivisions},i=this.length(r);return this.tAtLength(i*e,r)},tAtLength:function(e,t){var n=!0;e<0&&(n=!1,e=-e);for(var r,i,o,s,a,l=void 0===(t=t||{}).precision?this.PRECISION:t.precision,u=void 0===t.subdivisions?this.getSubdivisions({precision:l}):t.subdivisions,c={precision:l,subdivisions:u},h=0,d=u.length,p=1/d,f=0;f<d;f++){var g=n?f:d-1-f,m=u[f],v=m.endpointDistance();if(e<=h+v){r=m,i=g*p,o=(g+1)*p,s=n?e-h:v+h-e,a=n?v+h-e:e-h;break}h+=v}if(!r)return n?1:0;for(var y=this.length(c),w=b(10,-l);;){var C,I;if((0!==y?s/y:0)<w)return i;if((0!==y?a/y:0)<w)return o;var x=r.divide(.5);p/=2;var A=x[0].endpointDistance(),_=x[1].endpointDistance();s<=A?(r=x[0],o-=p,I=A-(C=s)):(r=x[1],i+=p,I=_-(C=s-A)),s=C,a=I}},toPoints:function(e){for(var t=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n=void 0===e.subdivisions?this.getSubdivisions({precision:t}):e.subdivisions,r=[n[0].start.clone()],i=n.length,o=0;o<i;o++)r.push(n[o].end.clone());return r},toPolyline:function(e){return new S(this.toPoints(e))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}},C.prototype.divide=C.prototype.divideAtT;var I=function(e,t,n){return this instanceof I?e instanceof I?new I(new _(e.x,e.y),e.a,e.b):(e=new _(e),this.x=e.x,this.y=e.y,this.a=t,void(this.b=n)):new I(e,t,n)};I.fromRect=function(e){return e=new D(e),new I(e.center(),e.width/2,e.height/2)},I.prototype={bbox:function(){return new D(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new _(this.x,this.y)},clone:function(){return new I(this)},containsPoint:function(e){return this.normalizedDistance(e)<=1},equals:function(e){return!!e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.a+=2*e,this.b+=2*t,this},intersectionWithLine:function(e){var t=[],n=e.start,r=e.end,i=this.a,o=this.b,s=e.vector(),a=n.difference(new _(this)),l=new _(s.x/(i*i),s.y/(o*o)),u=new _(a.x/(i*i),a.y/(o*o)),c=s.dot(l),h=s.dot(u),p=h*h-c*(a.dot(u)-1);if(p<0)return null;if(p>0){var f=d(p),g=(-h-f)/c,m=(-h+f)/c;if((g<0||1<g)&&(m<0||1<m))return null;0<=g&&g<=1&&t.push(n.lerp(r,g)),0<=m&&m<=1&&t.push(n.lerp(r,m))}else{var v=-h/c;if(!(0<=v&&v<=1))return null;t.push(n.lerp(r,v))}return t},intersectionWithLineFromCenterToPoint:function(e,t){e=new _(e),t&&e.rotate(new _(this.x,this.y),t);var n,r=e.x-this.x,i=e.y-this.y;if(0===r)return n=this.bbox().pointNearestToPoint(e),t?n.rotate(new _(this.x,this.y),-t):n;var o=i/r,s=d(1/(1/(this.a*this.a)+o*o/(this.b*this.b))),a=o*(s=r<0?-s:s);return n=new _(this.x+s,this.y+a),t?n.rotate(new _(this.x,this.y),-t):n},normalizedDistance:function(e){var t=e.x,n=e.y,r=this.a,i=this.b,o=this.x,s=this.y;return(t-o)*(t-o)/(r*r)+(n-s)*(n-s)/(i*i)},tangentTheta:function(e){var t,n,r=e.x,i=e.y,o=this.a,s=this.b,a=this.bbox().center(),l=a.x,u=a.y;return r>a.x+o/2||r<a.x-o/2?n=o*o/(r-l)-o*o*(i-u)*((t=r>a.x?i-30:i+30)-u)/(s*s*(r-l))+l:t=s*s/(i-u)-s*s*(r-l)*((n=i>a.y?r+30:r-30)-l)/(o*o*(i-u))+u,new _(n,t).theta(e)},toString:function(){return new _(this.x,this.y).toString()+" "+this.a+" "+this.b}};var x=function(e,t){return this instanceof x?e instanceof x?new x(e.start,e.end):(this.start=new _(e),void(this.end=new _(t))):new x(e,t)};x.prototype={angle:function(){var e=new _(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)},bbox:function(){var e=p(this.start.x,this.end.x),t=p(this.start.y,this.end.y),n=f(this.start.x,this.end.x),r=f(this.start.y,this.end.y);return new D(e,t,n-e,r-t)},bearing:function(){var e=P(this.start.y),t=P(this.end.y),n=P(this.end.x-this.start.x),r=h(n)*c(t),i=c(e)*h(t)-h(e)*c(t)*c(n),o=N(g(r,i))-22.5;return o<0&&(o+=360),["NE","E","SE","S","SW","W","NW","N"][o=parseInt(o/45)]},clone:function(){return new x(this.start,this.end)},closestPoint:function(e){return this.pointAt(this.closestPointNormalizedLength(e))},closestPointLength:function(e){return this.closestPointNormalizedLength(e)*this.length()},closestPointNormalizedLength:function(e){var t=this.vector().dot(new x(this.start,e).vector()),n=p(1,f(0,t/this.squaredLength()));return n!=n?0:n},closestPointTangent:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))},containsPoint:function(e){var t=this.start,n=this.end;if(0!==t.cross(e,n))return!1;var r=this.length();return!(new x(t,e).length()>r||new x(e,n).length()>r)},divideAt:function(e){var t=this.pointAt(e);return[new x(this.start,t),new x(t,this.end)]},divideAtLength:function(e){var t=this.pointAtLength(e);return[new x(this.start,t),new x(t,this.end)]},equals:function(e){return!!e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y},intersect:function(e,t){if(e instanceof x||e instanceof D||e instanceof S||e instanceof I||e instanceof A){var n=e.intersectionWithLine(this,t);return n&&e instanceof x&&(n=n[0]),n}return null},intersectionWithLine:function(e){var t=new _(this.end.x-this.start.x,this.end.y-this.start.y),n=new _(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new _(e.start.x-this.start.x,e.start.y-this.start.y),o=i.x*n.y-i.y*n.x,s=i.x*t.y-i.y*t.x;if(0===r||o*r<0||s*r<0)return null;if(r>0){if(o>r||s>r)return null}else if(o<r||s<r)return null;return[new _(this.start.x+o*t.x/r,this.start.y+o*t.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return d(this.squaredLength())},midpoint:function(){return new _((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},pointAt:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)},pointAtLength:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();return e>=i?r?n.clone():t.clone():this.pointAt((r?e:i-e)/i)},pointOffset:function(e){e=new _(e);var t=this.start,n=this.end;return((n.x-t.x)*(e.y-t.y)-(n.y-t.y)*(e.x-t.x))/this.length()},rotate:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this},round:function(e){var t=b(10,e||0);return this.start.x=m(this.start.x*t)/t,this.start.y=m(this.start.y*t)/t,this.end.x=m(this.end.x*t)/t,this.end.y=m(this.end.y*t)/t,this},scale:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this},setLength:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)},squaredLength:function(){var e=this.start.x,t=this.start.y;return(e-=this.end.x)*e+(t-=this.end.y)*t},tangentAt:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAt(e),i=new x(t,n);return i.translate(r.x-t.x,r.y-t.y),i},tangentAtLength:function(e){if(!this.isDifferentiable())return null;var t=this.start,n=this.end,r=this.pointAtLength(e),i=new x(t,n);return i.translate(r.x-t.x,r.y-t.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},translate:function(e,t){return this.start.translate(e,t),this.end.translate(e,t),this},vector:function(){return new _(this.end.x-this.start.x,this.end.y-this.start.y)}},x.prototype.intersection=x.prototype.intersect;var A=function(e){if(!(this instanceof A))return new A(e);if("string"==typeof e)return new A.parse(e);var t,n;if(this.segments=[],e)if(Array.isArray(e)&&0!==e.length)if(n=(e=e.reduce(function(e,t){return e.concat(t)},[])).length,e[0].isSegment)for(t=0;t<n;t++)this.appendSegment(e[t]);else{var r=null;for(t=0;t<n;t++){var i=e[t];if(!(i instanceof x||i instanceof C))throw new Error("Cannot construct a path segment from the provided object.");0===t&&this.appendSegment(A.createSegment("M",i.start)),r&&!r.end.equals(i.start)&&this.appendSegment(A.createSegment("M",i.start)),i instanceof x?this.appendSegment(A.createSegment("L",i.end)):i instanceof C&&this.appendSegment(A.createSegment("C",i.controlPoint1,i.controlPoint2,i.end)),r=i}}else if(e.isSegment)this.appendSegment(e);else if(e instanceof x)this.appendSegment(A.createSegment("M",e.start)),this.appendSegment(A.createSegment("L",e.end));else if(e instanceof C)this.appendSegment(A.createSegment("M",e.start)),this.appendSegment(A.createSegment("C",e.controlPoint1,e.controlPoint2,e.end));else{if(!(e instanceof S))throw new Error("Cannot construct a path from the provided object.");if(!e.points||0===e.points.length)return;for(n=e.points.length,t=0;t<n;t++)this.appendSegment(A.createSegment(0===t?"M":"L",e.points[t]))}};A.parse=function(e){if(!e)return new A;for(var t=new A,n=e.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),r=n.length,i=0;i<r;i++){var o=n[i].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),s=A.createSegment.apply(this,o);t.appendSegment(s)}return t},A.createSegment=function(e){var t=arguments;if(!e)throw new Error("Type must be provided.");var n=A.segmentTypes[e];if(!n)throw new Error(e+" is not a recognized path segment type.");for(var r=[],i=arguments.length,o=1;o<i;o++)r.push(t[o]);return L(n,r)},A.prototype={appendSegment:function(e){var t,n=this.segments,r=n.length,i=0!==r?n[r-1]:null;if(Array.isArray(e)){if(!(e=e.reduce(function(e,t){return e.concat(t)},[]))[0].isSegment)throw new Error("Segments required.");for(var o=e.length,s=0;s<o;s++)t=this.prepareSegment(e[s],i,null),n.push(t),i=t}else{if(!e||!e.isSegment)throw new Error("Segment required.");t=this.prepareSegment(e,i,null),n.push(t)}},bbox:function(){var e,t=this.segments,n=t.length;if(0===n)return null;for(var r=0;r<n;r++){var i=t[r];if(i.isVisible){var o=i.bbox();e=e?e.union(o):o}}if(e)return e;var s=t[n-1];return new D(s.end.x,s.end.y,0,0)},clone:function(){for(var e=this.segments,t=e.length,n=new A,r=0;r<t;r++){var i=e[r].clone();n.appendSegment(i)}return n},closestPoint:function(e,t){var n=this.closestPointT(e,t);return n?this.pointAtT(n):null},closestPointLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.closestPointT(e,r);return i?this.lengthAtT(i,r):0},closestPointNormalizedLength:function(e,t){var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.closestPointLength(e,r);if(0===i)return 0;var o=this.length(r);return 0===o?0:i/o},closestPointT:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var i,o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=1/0,l=0;l<r;l++){var u=n[l];if(u.isVisible){var c=u.closestPointT(e,{precision:o,subdivisions:s[l]}),h=u.pointAtT(c),d=new x(h,e).squaredLength();d<a&&(i={segmentIndex:l,value:c},a=d)}}return i||{segmentIndex:r-1,value:1}},closestPointTangent:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;for(var i,o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=1/0,l=0;l<r;l++){var u=n[l],c=s[l];if(u.isDifferentiable()){var h=u.closestPointT(e,{precision:o,subdivisions:c}),d=u.pointAtT(h),p=new x(d,e).squaredLength();p<a&&(i=u.tangentAtT(h),a=p)}}return i||null},containsPoint:function(e,t){var n=this.toPolylines(t);if(!n)return!1;for(var r=n.length,i=0,o=0;o<r;o++)n[o].containsPoint(e)&&i++;return i%2==1},divideAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.length(r);return this.divideAtLength(i*e,r)},divideAtLength:function(e,t){var n=this.segments.length;if(0===n)return null;var r=!0;e<0&&(r=!1,e=-e);var i,o,s,a,l,u,c=void 0===(t=t||{}).precision?this.PRECISION:t.precision,h=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:c}):t.segmentSubdivisions,d=0;for(i=0;i<n;i++){var p=r?i:n-1-i;o=this.getSegment(p);var f=h[p],g=o.length({precision:c,subdivisions:f});if(o.isDifferentiable()&&(l=o,u=p,e<=d+g)){a=p,s=o.divideAtLength((r?1:-1)*(e-d),{precision:c,subdivisions:f});break}d+=g}if(!l)return null;s||(a=u,s=l.divideAtT(r?1:0));var m=this.clone();m.replaceSegment(a,s);var v=a,y=a+1,b=a+2;s[0].isDifferentiable()||(m.removeSegment(v),y-=1,b-=1);var w=m.getSegment(y).start;m.insertSegment(y,A.createSegment("M",w)),b+=1,s[1].isDifferentiable()||(m.removeSegment(b-1),b-=1);var C=b-v-1;for(i=b;i<m.segments.length;i++){var I=this.getSegment(i-C);if("Z"===(o=m.getSegment(i)).type&&!I.subpathStartSegment.end.equals(o.subpathStartSegment.end)){var x=A.createSegment("L",I.end);m.replaceSegment(i,x)}}return[new A(m.segments.slice(0,y)),new A(m.segments.slice(y))]},equals:function(e){if(!e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=t[i],s=n[i];if(o.type!==s.type||!o.equals(s))return!1}return!0},getSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");return t[e]},getSegmentSubdivisions:function(e){for(var t=this.segments,n=t.length,r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=[],o=0;o<n;o++){var s=t[o].getSubdivisions({precision:r});i.push(s)}return i},insertSegment:function(e,t){var n,r=this.segments,i=r.length;if(e<0&&(e=i+e+1),e>i||e<0)throw new Error("Index out of range.");var o=null,s=null;if(0!==i&&(s=e>=1?(o=r[e-1]).nextSegment:r[0]),Array.isArray(t)){if(!(t=t.reduce(function(e,t){return e.concat(t)},[]))[0].isSegment)throw new Error("Segments required.");for(var a=t.length,l=0;l<a;l++)n=this.prepareSegment(t[l],o,s),r.splice(e+l,0,n),o=n}else{if(!t||!t.isSegment)throw new Error("Segment required.");n=this.prepareSegment(t,o,s),r.splice(e,0,n)}},intersectionWithLine:function(e,t){var n=null,r=this.toPolylines(t);if(!r)return null;for(var i=0,o=r.length;i<o;i++){var s=e.intersect(r[i]);s&&(n||(n=[]),Array.isArray(s)?Array.prototype.push.apply(n,s):n.push(s))}return n},isDifferentiable:function(){for(var e=this.segments,t=e.length,n=0;n<t;n++)if(e[n].isDifferentiable())return!0;return!1},isValid:function(){var e=this.segments;return 0===e.length||"M"===e[0].type},length:function(e){var t=this.segments,n=t.length;if(0===n)return 0;for(var r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=0,s=0;s<n;s++)o+=t[s].length({subdivisions:i[s]});return o},lengthAtT:function(e,t){var n=this.segments,r=n.length;if(0===r)return 0;var i=e.segmentIndex;if(i<0)return 0;var o=e.value;i>=r?(i=r-1,o=1):o<0?o=0:o>1&&(o=1);for(var s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l=0,u=0;u<i;u++){var c=n[u];l+=c.length({precisison:s,subdivisions:a[u]})}return l+(c=n[i]).lengthAtT(o,{precisison:s,subdivisions:a[i]})},pointAt:function(e,t){if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.length(r);return this.pointAtLength(i*e,r)},pointAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;if(0===e)return this.start.clone();var i=!0;e<0&&(i=!1,e=-e);for(var o,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l=0,u=0;u<r;u++){var c=i?u:r-1-u,h=n[c],d=a[c],p=h.length({precision:s,subdivisions:d});if(h.isVisible){if(e<=l+p)return h.pointAtLength((i?1:-1)*(e-l),{precision:s,subdivisions:d});o=h}l+=p}return o?i?o.end:o.start:n[r-1].end.clone()},pointAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].pointAtT(i)},PRECISION:3,prepareSegment:function(e,t,n){e.previousSegment=t,e.nextSegment=n,t&&(t.nextSegment=e),n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),r&&this.updateSubpathStartSegment(r),e},removeSegment:function(e){var t=this.segments,n=t.length;if(0===n)throw new Error("Path has no segments.");if(e<0&&(e=n+e),e>=n||e<0)throw new Error("Index out of range.");var r=t.splice(e,1)[0],i=r.previousSegment,o=r.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(e,t){var n,r=this.segments,i=r.length;if(0===i)throw new Error("Path has no segments.");if(e<0&&(e=i+e),e>=i||e<0)throw new Error("Index out of range.");var o=r[e],s=o.previousSegment,a=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(t)){if(!(t=t.reduce(function(e,t){return e.concat(t)},[]))[0].isSegment)throw new Error("Segments required.");r.splice(e,1);for(var u=t.length,c=0;c<u;c++)n=this.prepareSegment(t[c],s,a),r.splice(e+c,0,n),s=n,l&&n.isSubpathStart&&(l=!1)}else{if(!t||!t.isSegment)throw new Error("Segment required.");n=this.prepareSegment(t,s,a),r.splice(e,1,n),l&&n.isSubpathStart&&(l=!1)}l&&a&&this.updateSubpathStartSegment(a)},scale:function(e,t,n){for(var r=this.segments,i=r.length,o=0;o<i;o++)r[o].scale(e,t,n);return this},segmentAt:function(e,t){var n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null},segmentAtLength:function(e,t){var n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null},segmentIndexAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.length(r);return this.segmentIndexAtLength(i*e,r)},segmentIndexAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var o=void 0===(t=t||{}).precision?this.PRECISION:t.precision,s=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):t.segmentSubdivisions,a=null,l=0,u=0;u<r;u++){var c=i?u:r-1-u,h=n[c],d=h.length({precision:o,subdivisions:s[c]});if(h.isVisible){if(e<=l+d)return c;a=c}l+=d}return a},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(e,t){if(0===this.segments.length)return null;e<0&&(e=0),e>1&&(e=1);var n=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r={precision:n,segmentSubdivisions:void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):t.segmentSubdivisions},i=this.length(r);return this.tangentAtLength(i*e,r)},tangentAtLength:function(e,t){var n=this.segments,r=n.length;if(0===r)return null;var i=!0;e<0&&(i=!1,e=-e);for(var o,s=void 0===(t=t||{}).precision?this.PRECISION:t.precision,a=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:s}):t.segmentSubdivisions,l=0,u=0;u<r;u++){var c=i?u:r-1-u,h=n[c],d=a[c],p=h.length({precision:s,subdivisions:d});if(h.isDifferentiable()){if(e<=l+p)return h.tangentAtLength((i?1:-1)*(e-l),{precision:s,subdivisions:d});o=h}l+=p}return o?o.tangentAtT(i?1:0):null},tangentAtT:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].tangentAtT(0);if(r>=n)return t[n-1].tangentAtT(1);var i=e.value;return i<0?i=0:i>1&&(i=1),t[r].tangentAtT(i)},toPoints:function(e){var t=this.segments,n=t.length;if(0===n)return null;for(var r=void 0===(e=e||{}).precision?this.PRECISION:e.precision,i=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:r}):e.segmentSubdivisions,o=[],s=[],a=0;a<n;a++){var l=t[a];if(l.isVisible){var u=i[a];if(u.length>0){var c=u.map(function(e){return e.start});Array.prototype.push.apply(s,c)}else s.push(l.start)}else s.length>0&&(s.push(t[a-1].end),o.push(s),s=[])}return s.length>0&&(s.push(this.end),o.push(s)),o},toPolylines:function(e){var t=[],n=this.toPoints(e);if(!n)return null;for(var r=0,i=n.length;r<i;r++)t.push(new S(n[r]));return t},toString:function(){for(var e=this.segments,t=e.length,n="",r=0;r<t;r++)n+=e[r].serialize()+" ";return n.trim()},translate:function(e,t){for(var n=this.segments,r=n.length,i=0;i<r;i++)n[i].translate(e,t);return this},updateSubpathStartSegment:function(e){for(var t=e.previousSegment;e&&!e.isSubpathStart;)e.subpathStartSegment=t?t.subpathStartSegment:null,t=e,e=e.nextSegment}},Object.defineProperty(A.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=0;n<t;n++){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}}),Object.defineProperty(A.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=t-1;n>=0;n--){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}});var _=function(e,t){if(!(this instanceof _))return new _(e,t);if("string"==typeof e){var n=e.split(-1===e.indexOf("@")?" ":"@");e=parseFloat(n[0]),t=parseFloat(n[1])}else Object(e)===e&&(t=e.y,e=e.x);this.x=void 0===e?0:e,this.y=void 0===t?0:t};_.fromPolar=function(e,t,n){n=n&&new _(n)||new _(0,0);var r=u(e*c(t)),i=u(e*h(t)),o=T(N(t));return o<90?i=-i:o<180?(r=-r,i=-i):o<270&&(r=-r),new _(n.x+r,n.y+i)},_.random=function(e,t,n,r){return new _(M(e,t),M(n,r))},_.prototype={chooseClosest:function(e){var t=e.length;if(1===t)return new _(e[0]);for(var n=null,r=1/0,i=0;i<t;i++){var o=new _(e[i]),s=this.squaredDistance(o);s<r&&(n=o,r=s)}return n},adhereToRect:function(e){return e.containsPoint(this)?this:(this.x=p(f(this.x,e.x),e.x+e.width),this.y=p(f(this.y,e.y),e.y+e.height),this)},angleBetween:function(e,t){var n=this.equals(e)||this.equals(t)?NaN:this.theta(t)-this.theta(e);return n<0&&(n+=360),n},bearing:function(e){return new x(this,e).bearing()},changeInAngle:function(e,t,n){return this.clone().offset(-e,-t).theta(n)-this.theta(n)},clone:function(){return new _(this)},cross:function(e,t){return e&&t?(t.x-this.x)*(e.y-this.y)-(t.y-this.y)*(e.x-this.x):NaN},difference:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),new _(this.x-(e||0),this.y-(t||0))},distance:function(e){return new x(this,e).length()},dot:function(e){return e?this.x*e.x+this.y*e.y:NaN},equals:function(e){return!!e&&this.x===e.x&&this.y===e.y},lerp:function(e,t){return new _((1-t)*this.x+t*e.x,(1-t)*this.y+t*e.y)},magnitude:function(){return d(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(e){return u(e.x-this.x)+u(e.y-this.y)},move:function(e,t){var n=P(new _(e).theta(this));return this.offset(c(n)*t,-h(n)*t)},normalize:function(e){var t=(e||1)/this.magnitude();return this.scale(t,t)},offset:function(e,t){return Object(e)===e&&(t=e.y,e=e.x),this.x+=e||0,this.y+=t||0,this},reflection:function(e){return new _(e).move(this,this.distance(e))},rotate:function(e,t){e=e||new _(0,0),t=P(T(-t));var n=c(t),r=h(t),i=r*(this.x-e.x)+n*(this.y-e.y)+e.y;return this.x=n*(this.x-e.x)-r*(this.y-e.y)+e.x,this.y=i,this},round:function(e){var t=b(10,e||0);return this.x=m(this.x*t)/t,this.y=m(this.y*t)/t,this},scale:function(e,t,n){return n=n&&new _(n)||new _(0,0),this.x=n.x+e*(this.x-n.x),this.y=n.y+t*(this.y-n.y),this},snapToGrid:function(e,t){return this.x=k(this.x,e),this.y=k(this.y,t||e),this},squaredDistance:function(e){return new x(this,e).squaredLength()},theta:function(e){var t=-((e=new _(e)).y-this.y),n=g(t,e.x-this.x);return n<0&&(n=2*y+n),180*n/y},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(e){e=e&&new _(e)||new _(0,0);var t=this.x,n=this.y;return this.x=d((t-e.x)*(t-e.x)+(n-e.y)*(n-e.y)),this.y=P(e.theta(new _(t,n))),this},toString:function(){return this.x+"@"+this.y},update:function(e,t){return this.x=e||0,this.y=t||0,this},vectorAngle:function(e){return new _(0,0).angleBetween(this,e)}},_.prototype.translate=_.prototype.offset;var S=function(e){return this instanceof S?"string"==typeof e?new S.parse(e):void(this.points=Array.isArray(e)?e.map(_):[]):new S(e)};S.parse=function(e){if(""===(e=e.trim()))return new S;for(var t=[],n=e.split(/\s*,\s*|\s+/),r=n.length,i=0;i<r;i+=2)t.push({x:+n[i],y:+n[i+1]});return new S(t)},S.prototype={bbox:function(){var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,o=i.length;if(0===o)return null;for(var s=0;s<o;s++){var a=i[s],l=a.x,u=a.y;l<e&&(e=l),l>t&&(t=l),u<n&&(n=u),u>r&&(r=u)}return new D(e,n,t-e,r-n)},clone:function(){var e=this.points,t=e.length;if(0===t)return new S;for(var n=[],r=0;r<t;r++){var i=e[r].clone();n.push(i)}return new S(n)},closestPoint:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)},closestPointLength:function(e){var t,n=this.points,r=n.length;if(0===r)return 0;if(1===r)return 0;for(var i=1/0,o=0,s=r-1,a=0;a<s;a++){var l=new x(n[a],n[a+1]),u=l.length(),c=l.closestPointNormalizedLength(e),h=l.pointAt(c).squaredDistance(e);h<i&&(i=h,t=o+c*u),o+=u}return t},closestPointNormalizedLength:function(e){var t=this.closestPointLength(e);if(0===t)return 0;var n=this.length();return 0===n?0:t/n},closestPointTangent:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)},containsPoint:function(e){var t=this.points,n=t.length;if(0===n)return!1;for(var r=e.x,i=e.y,o=n-1,s=0,a=0;s<n;s++){var l=t[o],u=t[s];if(e.equals(l))return!0;var c=new x(l,u);if(c.containsPoint(e))return!0;if(i<=l.y&&i>u.y||i>l.y&&i<=u.y){var h=l.x-r>u.x-r?l.x-r:u.x-r;if(h>=0){var d=new _(r+h,i),p=new x(e,d);c.intersect(p)&&a++}}o=s}return a%2==1},convexHull:function(){var e,t,n,r=this.points,i=r.length;if(0===i)return new S;for(e=0;e<i;e++)void 0===n?n=r[e]:r[e].y<n.y?n=r[e]:r[e].y===n.y&&r[e].x>n.x&&(n=r[e]);var o=[];for(e=0;e<i;e++){var s=n.theta(r[e]);0===s&&(s=360),o.push([r[e],e,s])}o.sort(function(e,t){var n=e[2]-t[2];return 0===n&&(n=t[1]-e[1]),n}),o.length>2&&o.unshift(o[o.length-1]);for(var a,l,c,h,d,p,f,g={},m=[];0!==o.length;)if(l=(a=o.pop())[0],!g.hasOwnProperty(a[0]+"@@"+a[1]))for(var v=!1;!v;)if(m.length<2)m.push(a),v=!0;else{h=(c=m.pop())[0];var y=(p=(d=m.pop())[0]).cross(h,l);if(y<0)m.push(d),m.push(c),m.push(a),v=!0;else if(0===y){var b=h.angleBetween(p,l);u(b-180)<1e-10?(g[c[0]+"@@"+c[1]]=h,m.push(d)):h.equals(l)||p.equals(h)?(g[c[0]+"@@"+c[1]]=h,m.push(d)):u((b+1)%360-1)<1e-10&&(m.push(d),o.push(c))}else g[c[0]+"@@"+c[1]]=h,m.push(d)}m.length>2&&m.pop();var w=-1;for(t=m.length,e=0;e<t;e++){var C=m[e][1];(void 0===f||C<f)&&(f=C,w=e)}var I=[];if(w>0){var x=m.slice(w),A=m.slice(0,w);I=x.concat(A)}else I=m;var _=[];for(t=I.length,e=0;e<t;e++)_.push(I[e][0]);return new S(_)},equals:function(e){if(!e)return!1;var t=this.points,n=t.length;if(e.points.length!==n)return!1;for(var r=0;r<n;r++)if(!t[r].equals(e.points[r]))return!1;return!0},intersectionWithLine:function(e){for(var t=new x(e),n=[],r=this.points,i=0,o=r.length-1;i<o;i++){var s=new x(r[i],r[i+1]),a=t.intersectionWithLine(s);a&&n.push(a[0])}return n.length>0?n:null},isDifferentiable:function(){var e=this.points,t=e.length;if(0===t)return!1;for(var n=t-1,r=0;r<n;r++)if(new x(e[r],e[r+1]).isDifferentiable())return!0;return!1},length:function(){var e=this.points,t=e.length;if(0===t)return 0;for(var n=0,r=t-1,i=0;i<r;i++)n+=e[i].distance(e[i+1]);return n},pointAt:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return t[0].clone();if(e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length();return this.pointAtLength(r*e)},pointAtLength:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,o=n-1,s=0;s<o;s++){var a=r?s:o-1-s,l=t[a],u=t[a+1],c=new x(l,u),h=l.distance(u);if(e<=i+h)return c.pointAtLength((r?1:-1)*(e-i));i+=h}return(r?t[n-1]:t[0]).clone()},scale:function(e,t,n){var r=this.points,i=r.length;if(0===i)return this;for(var o=0;o<i;o++)r[o].scale(e,t,n);return this},simplify:function(e){void 0===e&&(e={});var t=this.points;if(t.length<3)return this;for(var n=e.threshold||0,r=0;t[r+2];){var i=r+1,o=t[i];new x(t[r],t[r+2]).closestPoint(o).distance(o)<=n?t.splice(i,1):r+=1}return this},tangentAt:function(e){var t=this.points.length;if(0===t)return null;if(1===t)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length();return this.tangentAtLength(n*e)},tangentAtLength:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return null;var r,i=!0;e<0&&(i=!1,e=-e);for(var o=0,s=n-1,a=0;a<s;a++){var l=i?a:s-1-a,u=t[l],c=t[l+1],h=new x(u,c),d=u.distance(c);if(h.isDifferentiable()){if(e<=o+d)return h.tangentAtLength((i?1:-1)*(e-o));r=h}o+=d}return r?r.tangentAt(i?1:0):null},toString:function(){return this.points+""},translate:function(e,t){var n=this.points,r=n.length;if(0===r)return this;for(var i=0;i<r;i++)n[i].translate(e,t);return this},serialize:function(){var e=this.points,t=e.length;if(0===t)return"";for(var n="",r=0;r<t;r++){var i=e[r];n+=i.x+","+i.y+" "}return n.trim()}},Object.defineProperty(S.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(S.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var e=this.points.length;return 0===e?null:this.points[e-1]}});var D=function(e,t,n,r){if(!(this instanceof D))return new D(e,t,n,r);Object(e)===e&&(t=e.y,n=e.width,r=e.height,e=e.x),this.x=void 0===e?0:e,this.y=void 0===t?0:t,this.width=void 0===n?0:n,this.height=void 0===r?0:r};D.fromEllipse=function(e){return e=new I(e),new D(e.x-e.a,e.y-e.b,2*e.a,2*e.b)},D.prototype={bbox:function(e){if(!e)return this.clone();var t=P(e),n=u(h(t)),r=u(c(t)),i=this.width*r+this.height*n,o=this.width*n+this.height*r;return new D(this.x+(this.width-i)/2,this.y+(this.height-o)/2,i,o)},bottomLeft:function(){return new _(this.x,this.y+this.height)},bottomLine:function(){return new x(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new _(this.x+this.width/2,this.y+this.height)},center:function(){return new _(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new D(this)},containsPoint:function(e){return(e=new _(e)).x>=this.x&&e.x<=this.x+this.width&&e.y>=this.y&&e.y<=this.y+this.height},containsRect:function(e){var t=new D(this).normalize(),n=new D(e).normalize(),r=t.width,i=t.height,o=n.width,s=n.height;if(!(r&&i&&o&&s))return!1;var a=t.x,l=t.y,u=n.x,c=n.y;return o+=u,r+=a,s+=c,i+=l,a<=u&&o<=r&&l<=c&&s<=i},corner:function(){return new _(this.x+this.width,this.y+this.height)},equals:function(e){var t=new D(this).normalize(),n=new D(e).normalize();return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height},inflate:function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},intersect:function(e){var t=this.origin(),n=this.corner(),r=e.origin(),i=e.corner();if(i.x<=t.x||i.y<=t.y||r.x>=n.x||r.y>=n.y)return null;var o=f(t.x,r.x),s=f(t.y,r.y);return new D(o,s,p(n.x,i.x)-o,p(n.y,i.y)-s)},intersectionWithLine:function(e){var t,n,r=this,i=[r.topLine(),r.rightLine(),r.bottomLine(),r.leftLine()],o=[],s=[],a=i.length;for(n=0;n<a;n++)null!==(t=e.intersect(i[n]))&&s.indexOf(t.toString())<0&&(o.push(t),s.push(t.toString()));return o.length>0?o:null},intersectionWithLineFromCenterToPoint:function(e,t){e=new _(e);var n,r=new _(this.x+this.width/2,this.y+this.height/2);t&&e.rotate(r,t);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new x(r,e),s=i.length-1;s>=0;--s){var a=i[s].intersection(o);if(null!==a){n=a;break}}return n&&t&&n.rotate(r,-t),n},leftLine:function(){return new x(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new _(this.x,this.y+this.height/2)},maxRectScaleToFit:function(e,t){var n,r,i,o,s,a,l,u;e=new D(e),t||(t=e.center());var c=t.x,h=t.y;n=r=i=o=s=a=l=u=1/0;var d=e.topLeft();d.x<c&&(n=(this.x-c)/(d.x-c)),d.y<h&&(s=(this.y-h)/(d.y-h));var f=e.bottomRight();f.x>c&&(r=(this.x+this.width-c)/(f.x-c)),f.y>h&&(a=(this.y+this.height-h)/(f.y-h));var g=e.topRight();g.x>c&&(i=(this.x+this.width-c)/(g.x-c)),g.y<h&&(l=(this.y-h)/(g.y-h));var m=e.bottomLeft();return m.x<c&&(o=(this.x-c)/(m.x-c)),m.y>h&&(u=(this.y+this.height-h)/(m.y-h)),{sx:p(n,r,i,o),sy:p(s,a,l,u)}},maxRectUniformScaleToFit:function(e,t){var n=this.maxRectScaleToFit(e,t);return p(n.sx,n.sy)},moveAndExpand:function(e){return this.x+=e.x||0,this.y+=e.y||0,this.width+=e.width||0,this.height+=e.height||0,this},normalize:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this},offset:function(e,t){return _.prototype.offset.call(this,e,t)},origin:function(){return new _(this.x,this.y)},pointNearestToPoint:function(e){if(e=new _(e),this.containsPoint(e))switch(this.sideNearestToPoint(e)){case"right":return new _(this.x+this.width,e.y);case"left":return new _(this.x,e.y);case"bottom":return new _(e.x,this.y+this.height);case"top":return new _(e.x,this.y)}return e.adhereToRect(this)},rightLine:function(){return new x(this.topRight(),this.bottomRight())},rightMiddle:function(){return new _(this.x+this.width,this.y+this.height/2)},round:function(e){var t=b(10,e||0);return this.x=m(this.x*t)/t,this.y=m(this.y*t)/t,this.width=m(this.width*t)/t,this.height=m(this.height*t)/t,this},scale:function(e,t,n){return n=this.origin().scale(e,t,n),this.x=n.x,this.y=n.y,this.width*=e,this.height*=t,this},sideNearestToPoint:function(e){var t=(e=new _(e)).x-this.x,n=this.x+this.width-e.x,r=e.y-this.y,i=t,o="left";return n<i&&(i=n,o="right"),r<i&&(i=r,o="top"),this.y+this.height-e.y<i&&(o="bottom"),o},snapToGrid:function(e,t){var n=this.origin().snapToGrid(e,t),r=this.corner().snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new x(this.topLeft(),this.topRight())},topMiddle:function(){return new _(this.x+this.width/2,this.y)},topRight:function(){return new _(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(e){var t=new D(e),n=this.x,r=this.y,i=this.width,o=this.height,s=t.x,a=t.y,l=t.width,u=t.height,c=t.x=p(n,s),h=t.y=p(r,a);return t.width=f(n+i,s+l)-c,t.height=f(r+o,a+u)-h,t}},D.prototype.bottomRight=D.prototype.corner,D.prototype.topLeft=D.prototype.origin,D.prototype.translate=D.prototype.offset;var T=function(e){return e%360+(e<0?360:0)},k=function(e,t){return t*m(e/t)},N=function(e){return 180*e/y%360},P=function(e,t){return(e=(t=t||!1)?e:e%360)*y/180},M=function(e,t){if(void 0===t)t=void 0===e?1:e,e=0;else if(t<e){var n=e;e=t,t=n}return v(l.random()*(t-e+1)+e)},O=I,E=x,j=_,R=D;function L(e,t){return t.unshift(null),new(Function.prototype.bind.apply(e,t))}function z(e){var t,n,r=arguments,i=[];for(n=arguments.length,t=1;t<n;t++)i.push(r[t]);if(!e)throw new Error("Missing a parent object.");var o=Object.create(e);for(n=i.length,t=0;t<n;t++){var s,a,l=i[t];for(a in l)l.hasOwnProperty(a)&&(delete o[a],s=Object.getOwnPropertyDescriptor(l,a),Object.defineProperty(o,a,s))}return o}var F={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(e){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(e){if(e<=0)return 0;var t=this.length();return e>=1?t:t*e},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(F,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(F,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(F,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var B=function(){for(var e,t=arguments,n=[],r=arguments.length,i=0;i<r;i++)n.push(t[i]);if(!(this instanceof B))return L(B,n);if(0===r)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");if(n[0]instanceof x){if(1===r)return this.end=n[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+r+" lines provided).")}if("string"==typeof n[0]||"number"==typeof n[0]){if(2===r)return this.end=new _(+n[0],+n[1]),this;if(r<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+r+" coordinates provided).");var o;for(e=[],i=0;i<r;i+=2)o=n.slice(i,i+2),e.push(L(B,o));return e}if(1===r)return this.end=new _(n[0]),this;for(e=[],i=0;i<r;i+=1)e.push(new B(n[i]));return e},G={clone:function(){return new B(this.end)},divideAt:function(e){var t=new x(this.start,this.end).divideAt(e);return[new B(t[0]),new B(t[1])]},divideAtLength:function(e){var t=new x(this.start,this.end).divideAtLength(e);return[new B(t[0]),new B(t[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(G,"type",{configurable:!0,enumerable:!0,value:"L"}),B.prototype=z(F,x.prototype,G);var U=function(){for(var e,t,n=arguments,r=[],i=arguments.length,o=0;o<i;o++)r.push(n[o]);if(!(this instanceof U))return L(U,r);if(0===i)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");if(r[0]instanceof C){if(1===i)return this.controlPoint1=r[0].controlPoint1.clone(),this.controlPoint2=r[0].controlPoint2.clone(),this.end=r[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+i+" curves provided).")}if("string"==typeof r[0]||"number"==typeof r[0]){if(6===i)return this.controlPoint1=new _(+r[0],+r[1]),this.controlPoint2=new _(+r[2],+r[3]),this.end=new _(+r[4],+r[5]),this;if(i<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+i+" coordinates provided).");var s;for(e=[],o=0;o<i;o+=6)s=r.slice(o,o+6),e.push(L(U,s));return e}if(3===i)return this.controlPoint1=new _(r[0]),this.controlPoint2=new _(r[1]),this.end=new _(r[2]),this;if(i<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+i+" points provided).");for(e=[],o=0;o<i;o+=3)t=r.slice(o,o+3),e.push(L(U,t));return e},Z={clone:function(){return new U(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(e,t){var n=new C(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(e,t);return[new U(n[0]),new U(n[1])]},divideAtLength:function(e,t){var n=new C(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(e,t);return[new U(n[0]),new U(n[1])]},divideAtT:function(e){var t=new C(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(e);return[new U(t[0]),new U(t[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return!(this.start.equals(e)&&e.equals(t)&&t.equals(n))},scale:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this},serialize:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return this.type+" "+e.x+" "+e.y+" "+t.x+" "+t.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(e,t){return this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t),this}};Object.defineProperty(Z,"type",{configurable:!0,enumerable:!0,value:"C"}),U.prototype=z(F,C.prototype,Z);var W=function(){for(var e,t,n=arguments,r=[],i=arguments.length,o=0;o<i;o++)r.push(n[o]);if(!(this instanceof W))return L(W,r);if(0===i)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");if(r[0]instanceof x){if(1===i)return this.end=r[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+i+" lines provided).")}if(r[0]instanceof C){if(1===i)return this.end=r[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+i+" curves provided).")}if("string"==typeof r[0]||"number"==typeof r[0]){if(2===i)return this.end=new _(+r[0],+r[1]),this;if(i<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+i+" coordinates provided).");var s;for(e=[],o=0;o<i;o+=2)s=r.slice(o,o+2),e.push(L(0===o?W:B,s));return e}if(1===i)return this.end=new _(r[0]),this;for(e=[],o=0;o<i;o+=1)t=r[o],e.push(0===o?new W(t):new B(t));return e},V={bbox:function(){return null},clone:function(){return new W(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(e){return this.end.equals(e.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},scale:function(e,t,n){return this.end.scale(e,t,n),this},serialize:function(){var e=this.end;return this.type+" "+e.x+" "+e.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(e,t){return this.end.translate(e,t),this}};Object.defineProperty(V,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(V,"type",{configurable:!0,enumerable:!0,value:"M"}),W.prototype=z(F,V);var Y=function(){for(var e=arguments,t=[],n=arguments.length,r=0;r<n;r++)t.push(e[r]);if(!(this instanceof Y))return L(Y,t);if(n>0)throw new Error("Closepath constructor expects no arguments.");return this},H={clone:function(){return new Y},divideAt:function(e){var t=new x(this.start,this.end).divideAt(e);return[t[1].isDifferentiable()?new B(t[0]):this.clone(),new B(t[1])]},divideAtLength:function(e){var t=new x(this.start,this.end).divideAtLength(e);return[t[1].isDifferentiable()?new B(t[0]):this.clone(),new B(t[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment||this.start.equals(this.end))},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(H,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(H,"type",{configurable:!0,enumerable:!0,value:"Z"}),Y.prototype=z(F,x.prototype,H);var q=A.segmentTypes={L:B,C:U,M:W,Z:Y,z:Y};A.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(q).join("")+",.]*$"),A.isDataSupported=function(e){return"string"==typeof e&&this.regexSupportedData.test(e)};var X,K,J={bezier:w,Curve:C,Ellipse:I,Line:x,Path:A,Point:_,Polyline:S,Rect:D,scale:{linear:function(e,t,n){return(n-e[0])/(e[1]-e[0])*(t[1]-t[0])+t[0]||0}},normalizeAngle:T,snapToGrid:k,toDeg:N,toRad:P,random:M,ellipse:O,line:E,point:j,rect:R},Q=function(){if("object"!=typeof window||!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},t=Math,n=t.PI,r=t.atan2,i=t.sqrt,o=t.min,s=t.max,a=t.cos,l=t.sin,u=function(t,n,r){if(!(this instanceof u))return u.apply(Object.create(u.prototype),arguments);if(t){if(u.isV(t)&&(t=t.node),n=n||{},u.isString(t)){if("svg"===t.toLowerCase())t=u.createSvgDocument();else if("<"===t[0]){var i=u.createSvgDocument(t);if(i.childNodes.length>1){var o,s,a=[];for(o=0,s=i.childNodes.length;o<s;o++)a.push(new u(document.importNode(i.childNodes[o],!0)));return a}t=document.importNode(i.firstChild,!0)}else t=document.createElementNS(e.svg,t);u.ensureId(t)}return this.node=t,this.setAttributes(n),r&&this.append(r),this}},c=u.prototype;function h(e,t,n){n||(n={});for(var r=n.includeAnnotationIndices,i=n.eol,o=n.lineHeight,s=n.baseSize,a=0,l={},c=t.length-1,h=0;h<=c;h++){var d=t[h],p=null;if(u.isObject(d)){var f=d.attrs,g=u("tspan",f),m=g.node,v=d.t;i&&h===c&&(v+=i),m.textContent=v;var y=f.class;y&&g.addClass(y),r&&g.attr("annotations",d.annotations),void 0===(p=parseFloat(f["font-size"]))&&(p=s),p&&p>a&&(a=p)}else i&&h===c&&(d+=i),m=document.createTextNode(d||" "),s&&s>a&&(a=s);e.appendChild(m)}return a&&(l.maxFontSize=a),o?l.lineHeight=o:a&&(l.lineHeight=1.2*a),l}Object.defineProperty(c,"id",{enumerable:!0,get:function(){return this.node.id},set:function(e){this.node.id=e}}),c.getTransformToElement=function(e){var t=this.node;if(u.isSVGGraphicsElement(e)&&u.isSVGGraphicsElement(t)){var n=u.toNode(e).getScreenCTM(),r=t.getScreenCTM();if(n&&r)return n.inverse().multiply(r)}return u.createSVGMatrix()},c.transform=function(e,t){var n=this.node;if(u.isUndefined(e))return u.transformStringToMatrix(this.attr("transform"));if(t&&t.absolute)return this.attr("transform",u.matrixToTransformString(e));var r=u.createSVGTransform(e);return n.transform.baseVal.appendItem(r),this},c.translate=function(e,t,n){n=n||{},t=t||0;var r=this.attr("transform")||"",i=u.parseTransformString(r);return r=i.value,u.isUndefined(e)?i.translate:(r=r.replace(/translate\([^)]*\)/g,"").trim(),this.attr("transform",("translate("+(n.absolute?e:i.translate.tx+e)+","+(n.absolute?t:i.translate.ty+t)+") "+r).trim()),this)},c.rotate=function(e,t,n,r){r=r||{};var i=this.attr("transform")||"",o=u.parseTransformString(i);return i=o.value,u.isUndefined(e)?o.rotate:(i=i.replace(/rotate\([^)]*\)/g,"").trim(),e%=360,this.attr("transform",(i+" rotate("+(r.absolute?e:o.rotate.angle+e)+(void 0!==t&&void 0!==n?","+t+","+n:"")+")").trim()),this)},c.scale=function(e,t){t=u.isUndefined(t)?e:t;var n=this.attr("transform")||"",r=u.parseTransformString(n);return n=r.value,u.isUndefined(e)?r.scale:(n=n.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(n+" scale("+e+","+t+")").trim()),this)},c.bbox=function(e,t){var n,r=this.node,i=r.ownerSVGElement;if(!i)return new D(0,0,0,0);try{n=r.getBBox()}catch(s){n={x:r.clientLeft,y:r.clientTop,width:r.clientWidth,height:r.clientHeight}}if(e)return new D(n);var o=this.getTransformToElement(t||i);return u.transformRect(n,o)},c.getBBox=function(e){var t,n={},r=this.node;if(!r.ownerSVGElement||!u.isSVGGraphicsElement(r))return new D(0,0,0,0);if(e&&(e.target&&(n.target=u.toNode(e.target)),e.recursive&&(n.recursive=e.recursive)),n.recursive){var i=this.children(),o=i.length;if(0===o)return this.getBBox({target:n.target,recursive:!1});n.target||(n.target=this);for(var s=0;s<o;s++){var a,l=i[s];a=0===l.children().length?l.getBBox({target:n.target,recursive:!1}):l.getBBox({target:n.target,recursive:!0}),t=t?t.union(a):a}return t}try{t=r.getBBox()}catch(h){t={x:r.clientLeft,y:r.clientTop,width:r.clientWidth,height:r.clientHeight}}if(n.target){var c=this.getTransformToElement(n.target);return u.transformRect(t,c)}return new D(t)};var d=/em$/;function p(e,t){var n=parseFloat(e);return d.test(e)?n*t:n}c.text=function(t,n){if(t&&"string"!=typeof t)throw new Error("Vectorizer: text() expects the first argument to be a string.");t=u.sanitizeText(t),n||(n={});var r=n.displayEmpty,i=n.eol,o=n.textPath,s=n.textVerticalAnchor,a="middle"===s||"bottom"===s||"top"===s,l=n.x;void 0===l&&(l=this.attr("x")||0);var c=n.includeAnnotationIndices,f=n.annotations;f&&!u.isArray(f)&&(f=[f]);var g=n.lineHeight,m="auto"===g,v=m?"1.5em":g||"1em";this.empty(),this.attr({"xml:space":"preserve",display:t||r?null:"none"});var y=parseFloat(this.attr("font-size"));y||(y=16,(a||f)&&this.attr("font-size",y));var b,w=document;o?("string"==typeof o&&(o={d:o}),b=function(e,t){e||(e={});var n=u("textPath"),r=e.d;if(r&&void 0===e["xlink:href"]){var i=u("path").attr("d",r).appendTo(t.defs());n.attr("xlink:href","#"+i.id)}return u.isObject(e)&&n.attr(e),n.node}(o,this)):b=w.createDocumentFragment();for(var C,I=0,x=t.split("\n"),A=[],_=0,S=x.length-1;_<=S;_++){var D,T=v,k="v-line",N=w.createElementNS(e.svg,"tspan"),P=x[_];if(P)if(f){var M=(D=h(N,u.annotateString(P,f,{offset:-I,includeAnnotationIndices:c}),{includeAnnotationIndices:c,eol:_!==S&&i,lineHeight:m?null:v,baseSize:y})).lineHeight;M&&m&&0!==_&&(T=M),0===_&&(C=.8*D.maxFontSize)}else i&&_!==S&&(P+=i),N.textContent=P;else{N.textContent="-",k+=" v-empty-line";var O=N.style;O.fillOpacity=0,O.strokeOpacity=0,f&&(D={})}D&&A.push(D),_>0&&N.setAttribute("dy",T),(_>0||o)&&N.setAttribute("x",l),N.className.baseVal=k,b.appendChild(N),I+=P.length+1}if(a)if(f)T=function(e,t,n,r){if(!Array.isArray(t))return 0;var i=t.length;if(!i)return 0;for(var o=t[0],s=p(o.maxFontSize,n)||n,a=0,l=p(r,n),u=1;u<i;u++)a+=p((o=t[u]).lineHeight,n)||l;var c,h=p(o.maxFontSize,n)||n;switch(e){case"middle":c=s/2-.15*h-a/2;break;case"bottom":c=-.25*h-a;break;default:case"top":c=.8*s}return c}(s,A,y,v);else if("top"===s)T="0.8em";else{var E;switch(S>0?(E=parseFloat(v)||1,E*=S,d.test(v)||(E/=y)):E=0,s){case"middle":T=.3-E/2+"em";break;case"bottom":T=-E-.3+"em"}}else 0===s?T="0em":s?T=s:(T=0,null===this.attr("y")&&this.attr("y",C||"0.8em"));return b.firstChild.setAttribute("dy",T),this.append(b),this},c.removeAttr=function(e){var t=u.qualifyAttr(e),n=this.node;return t.ns?n.hasAttributeNS(t.ns,t.local)&&n.removeAttributeNS(t.ns,t.local):n.hasAttribute(e)&&n.removeAttribute(e),this},c.attr=function(e,t){if(u.isUndefined(e)){for(var n=this.node.attributes,r={},i=0;i<n.length;i++)r[n[i].name]=n[i].value;return r}if(u.isString(e)&&u.isUndefined(t))return this.node.getAttribute(e);if("object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&this.setAttribute(o,e[o]);else this.setAttribute(e,t);return this},c.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",u.normalizePathData(this.attr("d"))),this},c.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},c.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},c.setAttributes=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setAttribute(t,e[t]);return this},c.append=function(e){u.isArray(e)||(e=[e]);for(var t=0,n=e.length;t<n;t++)this.node.appendChild(u.toNode(e[t]));return this},c.prepend=function(e){var t=this.node.firstChild;return t?u(t).before(e):this.append(e)},c.before=function(e){var t=this.node,n=t.parentNode;if(n){u.isArray(e)||(e=[e]);for(var r=0,i=e.length;r<i;r++)n.insertBefore(u.toNode(e[r]),t)}return this},c.appendTo=function(e){return u.toNode(e).appendChild(this.node),this},c.svg=function(){return this.node instanceof window.SVGSVGElement?this:u(this.node.ownerSVGElement)},c.tagName=function(){return this.node.tagName.toUpperCase()},c.defs=function(){var e=this.svg()||this,t=e.node.getElementsByTagName("defs")[0];return t?u(t):u("defs").appendTo(e)},c.clone=function(){var e=u(this.node.cloneNode(!0));return e.node.id=u.uniqueId(),e},c.findOne=function(e){var t=this.node.querySelector(e);return t?u(t):void 0},c.find=function(e){var t=[],n=this.node.querySelectorAll(e);if(n)for(var r=0;r<n.length;r++)t.push(u(n[r]));return t},c.children=function(){for(var e=this.node.childNodes,t=[],n=0;n<e.length;n++)1===e[n].nodeType&&t.push(u(e[n]));return t},c.index=function(){for(var e=0,t=this.node.previousSibling;t;)1===t.nodeType&&e++,t=t.previousSibling;return e},c.findParentByClass=function(e,t){for(var n=this.node.ownerSVGElement,r=this.node.parentNode;r&&r!==t&&r!==n;){var i=u(r);if(i.hasClass(e))return i;r=r.parentNode}return null},c.contains=function(e){var t=this.node,n=u.toNode(e),r=n&&n.parentNode;return t===r||!!(r&&1===r.nodeType&&16&t.compareDocumentPosition(r))},c.toLocalPoint=function(e,t){var n=this.svg().node,r=n.createSVGPoint();r.x=e,r.y=t;try{var i=r.matrixTransform(n.getScreenCTM().inverse()),o=this.getTransformToElement(n).inverse()}catch(s){return r}return i.matrixTransform(o)},c.translateCenterToPoint=function(e){var t=this.getBBox({target:this.svg()}).center();return this.translate(e.x-t.x,e.y-t.y),this},c.translateAndAutoOrient=function(e,t,n){e=new _(e),t=new _(t),n||(n=this.svg());var r=this.scale();this.attr("transform","");var i=this.getBBox({target:n}).scale(r.sx,r.sy),o=u.createSVGTransform();o.setTranslate(-i.x-i.width/2,-i.y-i.height/2);var s=u.createSVGTransform(),a=e.angleBetween(t,e.clone().offset(1,0));a&&s.setRotate(a,0,0);var l=u.createSVGTransform(),c=e.clone().move(t,i.width/2);l.setTranslate(2*e.x-c.x,2*e.y-c.y);var h=this.getTransformToElement(n),d=u.createSVGTransform();return d.setMatrix(l.matrix.multiply(s.matrix.multiply(o.matrix.multiply(h.scale(r.sx,r.sy))))),this.attr("transform",u.matrixToTransformString(d.matrix)),this},c.animateAlongPath=function(e,t){t=u.toNode(t);var n=u.ensureId(t),r=u("animateMotion",e),i=u("mpath",{"xlink:href":"#"+n});r.append(i),this.append(r);try{r.node.beginElement()}catch(d){if("fake"===document.documentElement.getAttribute("smiling")){var o=r.node;o.animators=[];var s=o.getAttribute("id");s&&(id2anim[s]=o);for(var a=getTargets(o),l=0,c=a.length;l<c;l++){var h=new Animator(o,a[l],l);animators.push(h),o.animators[l]=h,h.register()}}}return this},c.hasClass=function(e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(this.node.getAttribute("class"))},c.addClass=function(e){if(e&&!this.hasClass(e)){var t=this.node.getAttribute("class")||"";this.node.setAttribute("class",(t+" "+e).trim())}return this},c.removeClass=function(e){if(e&&this.hasClass(e)){var t=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+e+"(\\s|$)","g"),"$2");this.node.setAttribute("class",t)}return this},c.toggleClass=function(e,t){return(u.isUndefined(t)?this.hasClass(e):!t)?this.removeClass(e):this.addClass(e),this},c.sample=function(e){e=e||1;for(var t,n=this.node,r=n.getTotalLength(),i=[],o=0;o<r;)t=n.getPointAtLength(o),i.push({x:t.x,y:t.y,distance:o}),o+=e;return i},c.convertToPath=function(){var e=u("path");e.attr(this.attr());var t=this.convertToPathData();return t&&e.attr("d",t),e},c.convertToPathData=function(){var e=this.tagName();switch(e){case"PATH":return this.attr("d");case"LINE":return u.convertLineToPathData(this.node);case"POLYGON":return u.convertPolygonToPathData(this.node);case"POLYLINE":return u.convertPolylineToPathData(this.node);case"ELLIPSE":return u.convertEllipseToPathData(this.node);case"CIRCLE":return u.convertCircleToPathData(this.node);case"RECT":return u.convertRectToPathData(this.node)}throw new Error(e+" cannot be converted to PATH.")},u.prototype.toGeometryShape=function(){var e,t,n,r,i,o,s,a,l,c,h,d,p,f,g;switch(this.tagName()){case"RECT":return e=parseFloat(this.attr("x"))||0,t=parseFloat(this.attr("y"))||0,n=parseFloat(this.attr("width"))||0,r=parseFloat(this.attr("height"))||0,new D(e,t,n,r);case"CIRCLE":return i=parseFloat(this.attr("cx"))||0,o=parseFloat(this.attr("cy"))||0,s=parseFloat(this.attr("r"))||0,new I({x:i,y:o},s,s);case"ELLIPSE":return i=parseFloat(this.attr("cx"))||0,o=parseFloat(this.attr("cy"))||0,a=parseFloat(this.attr("rx"))||0,l=parseFloat(this.attr("ry"))||0,new I({x:i,y:o},a,l);case"POLYLINE":return c=u.getPointsFromSvgNode(this),new S(c);case"POLYGON":return(c=u.getPointsFromSvgNode(this)).length>1&&c.push(c[0]),new S(c);case"PATH":return h=this.attr("d"),A.isDataSupported(h)||(h=u.normalizePathData(h)),new A(h);case"LINE":return d=parseFloat(this.attr("x1"))||0,f=parseFloat(this.attr("y1"))||0,p=parseFloat(this.attr("x2"))||0,g=parseFloat(this.attr("y2"))||0,new x({x:d,y:f},{x:p,y:g})}return this.getBBox()},c.findIntersection=function(e,t){var n=this.svg().node,r=this.getBBox({target:t=t||n}),i=r.center();if(r.intersectionWithLineFromCenterToPoint(e)){var o,s=this.tagName();if("RECT"===s){var a=new D(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),l=this.getTransformToElement(t),c=u.decomposeMatrix(l),h=n.createSVGTransform();h.setRotate(-c.rotation,i.x,i.y);var d=u.transformRect(a,h.matrix.multiply(l));o=new D(d).intersectionWithLineFromCenterToPoint(e,c.rotation)}else if("PATH"===s||"POLYGON"===s||"POLYLINE"===s||"CIRCLE"===s||"ELLIPSE"===s){var p,f,g,m,v,y=("PATH"===s?this:this.convertToPath()).sample(),b=1/0,w=[];for(p=0;p<y.length;p++)g=(g=u.createSVGPoint((f=y[p]).x,f.y)).matrixTransform(this.getTransformToElement(t)),(v=(f=new _(g)).distance(i)+(m=1.1*f.distance(e)))<b?(b=v,w=[{sample:f,refDistance:m}]):v<b+1&&w.push({sample:f,refDistance:m});w.sort(function(e,t){return e.refDistance-t.refDistance}),w[0]&&(o=w[0].sample)}return o}},c.setAttribute=function(e,t){var n=this.node;if(null===t)return this.removeAttr(e),this;var r=u.qualifyAttr(e);return r.ns?n.setAttributeNS(r.ns,e,t):"id"===e?n.id=t:n.setAttribute(e,t),this},u.createSvgDocument=function(t){if(t)return u.parseXML('<svg xmlns="'+e.svg+'" xmlns:xlink="'+e.xlink+'" version="1.1">'+t+"</svg>",{async:!1}).documentElement;var n=document.createElementNS(e.svg,"svg");return n.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),n.setAttribute("version","1.1"),n},u.idCounter=0,u.uniqueId=function(){return"v-"+ ++u.idCounter},u.toNode=function(e){return u.isV(e)?e.node:e.nodeName&&e||e[0]},u.ensureId=function(e){return(e=u.toNode(e)).id||(e.id=u.uniqueId())},u.sanitizeText=function(e){return(e||"").replace(/ /g,"\xa0")},u.isUndefined=function(e){return void 0===e},u.isString=function(e){return"string"==typeof e},u.isObject=function(e){return e&&"object"==typeof e},u.isArray=Array.isArray,u.parseXML=function(e,t){var n;t=t||{};try{var r=new DOMParser;u.isUndefined(t.async)||(r.async=t.async),n=r.parseFromString(e,"text/xml")}catch(i){n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+e);return n},u.qualifyAttr=function(t){if(-1!==t.indexOf(":")){var n=t.split(":");return{ns:e[n[0]],local:n[1]}}return{ns:null,local:t}},u.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,u.transformSeparatorRegex=/[ ,]+/,u.transformationListRegex=/^(\w+)\((.*)\)/,u.transformStringToMatrix=function(e){var t=u.createSVGMatrix(),n=e&&e.match(u.transformRegex);if(!n)return t;for(var r=0,i=n.length;r<i;r++){var o=n[r].match(u.transformationListRegex);if(o){var s,a,l,c,h,d=u.createSVGMatrix(),p=o[2].split(u.transformSeparatorRegex);switch(o[1].toLowerCase()){case"scale":s=parseFloat(p[0]),a=void 0===p[1]?s:parseFloat(p[1]),d=d.scaleNonUniform(s,a);break;case"translate":l=parseFloat(p[0]),c=parseFloat(p[1]),d=d.translate(l,c);break;case"rotate":h=parseFloat(p[0]),l=parseFloat(p[1])||0,c=parseFloat(p[2])||0,d=0!==l||0!==c?d.translate(l,c).rotate(h).translate(-l,-c):d.rotate(h);break;case"skewx":h=parseFloat(p[0]),d=d.skewX(h);break;case"skewy":h=parseFloat(p[0]),d=d.skewY(h);break;case"matrix":d.a=parseFloat(p[0]),d.b=parseFloat(p[1]),d.c=parseFloat(p[2]),d.d=parseFloat(p[3]),d.e=parseFloat(p[4]),d.f=parseFloat(p[5]);break;default:continue}t=t.multiply(d)}}return t},u.matrixToTransformString=function(e){return e||(e=!0),"matrix("+(void 0!==e.a?e.a:1)+","+(void 0!==e.b?e.b:0)+","+(void 0!==e.c?e.c:0)+","+(void 0!==e.d?e.d:1)+","+(void 0!==e.e?e.e:0)+","+(void 0!==e.f?e.f:0)+")"},u.parseTransformString=function(e){var t,n,r;if(e){var i=u.transformSeparatorRegex;if(e.trim().indexOf("matrix")>=0){var o=u.transformStringToMatrix(e),s=u.decomposeMatrix(o);r=[s.scaleX,s.scaleY],n=[s.rotation];var a=[];0===(t=[s.translateX,s.translateY])[0]&&0===t[1]||a.push("translate("+t+")"),1===r[0]&&1===r[1]||a.push("scale("+r+")"),0!==n[0]&&a.push("rotate("+n+")"),e=a.join(" ")}else{var l=e.match(/translate\((.*?)\)/);l&&(t=l[1].split(i));var c=e.match(/rotate\((.*?)\)/);c&&(n=c[1].split(i));var h=e.match(/scale\((.*?)\)/);h&&(r=h[1].split(i))}}var d=r&&r[0]?parseFloat(r[0]):1;return{value:e,translate:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotate:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:d,sy:r&&r[1]?parseFloat(r[1]):d}}},u.deltaTransformPoint=function(e,t){return{x:t.x*e.a+t.y*e.c+0,y:t.x*e.b+t.y*e.d+0}},u.decomposeMatrix=function(e){var t=u.deltaTransformPoint(e,{x:0,y:1}),o=u.deltaTransformPoint(e,{x:1,y:0}),s=180/n*r(t.y,t.x)-90,a=180/n*r(o.y,o.x);return{translateX:e.e,translateY:e.f,scaleX:i(e.a*e.a+e.b*e.b),scaleY:i(e.c*e.c+e.d*e.d),skewX:s,skewY:a,rotation:s}},u.matrixToScale=function(e){var t,n,r,o;return e?(t=u.isUndefined(e.a)?1:e.a,o=u.isUndefined(e.d)?1:e.d,n=e.b,r=e.c):t=o=1,{sx:n?i(t*t+n*n):t,sy:r?i(r*r+o*o):o}},u.matrixToRotate=function(e){var t={x:0,y:1};return e&&(t=u.deltaTransformPoint(e,t)),{angle:T(N(r(t.y,t.x))-90)}},u.matrixToTranslate=function(e){return{tx:e&&e.e||0,ty:e&&e.f||0}},u.isV=function(e){return e instanceof u},u.isVElement=u.isV,u.isSVGGraphicsElement=function(e){return!!e&&(e=u.toNode(e))instanceof SVGElement&&"function"==typeof e.getScreenCTM};var f=u("svg").node;return u.createSVGMatrix=function(e){var t=f.createSVGMatrix();for(var n in e)t[n]=e[n];return t},u.createSVGTransform=function(e){return u.isUndefined(e)?f.createSVGTransform():(e instanceof SVGMatrix||(e=u.createSVGMatrix(e)),f.createSVGTransformFromMatrix(e))},u.createSVGPoint=function(e,t){var n=f.createSVGPoint();return n.x=e,n.y=t,n},u.transformRect=function(e,t){var n=f.createSVGPoint();n.x=e.x,n.y=e.y;var r=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y;var i=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y+e.height;var a=n.matrixTransform(t);n.x=e.x,n.y=e.y+e.height;var l=n.matrixTransform(t),u=o(r.x,i.x,a.x,l.x),c=s(r.x,i.x,a.x,l.x),h=o(r.y,i.y,a.y,l.y),d=s(r.y,i.y,a.y,l.y);return new D(u,h,c-u,d-h)},u.transformPoint=function(e,t){return new _(u.createSVGPoint(e.x,e.y).matrixTransform(t))},u.transformLine=function(e,t){return new x(u.transformPoint(e.start,t),u.transformPoint(e.end,t))},u.transformPolyline=function(e,t){var n=e instanceof S?e.points:e;u.isArray(n)||(n=[]);for(var r=[],i=0,o=n.length;i<o;i++)r[i]=u.transformPoint(n[i],t);return new S(r)},u.styleToObject=function(e){for(var t={},n=e.split(";"),r=0;r<n.length;r++){var i=n[r].split("=");t[i[0].trim()]=i[1].trim()}return t},u.createSlicePathData=function(e,t,r,i){var o=2*n-1e-6,s=e,u=t,c=r,h=i,d=(h<c&&(d=c,c=h,h=d),h-c),p=d<n?"0":"1",f=a(c),g=l(c),m=a(h),v=l(h);return d>=o?s?"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"M0,"+s+"A"+s+","+s+" 0 1,0 0,"+-s+"A"+s+","+s+" 0 1,0 0,"+s+"Z":"M0,"+u+"A"+u+","+u+" 0 1,1 0,"+-u+"A"+u+","+u+" 0 1,1 0,"+u+"Z":s?"M"+u*f+","+u*g+"A"+u+","+u+" 0 "+p+",1 "+u*m+","+u*v+"L"+s*m+","+s*v+"A"+s+","+s+" 0 "+p+",0 "+s*f+","+s*g+"Z":"M"+u*f+","+u*g+"A"+u+","+u+" 0 "+p+",1 "+u*m+","+u*v+"L0,0Z"},u.mergeAttrs=function(e,t){for(var n in t)e[n]="class"===n?e[n]?e[n]+" "+t[n]:t[n]:"style"===n?u.isObject(e[n])&&u.isObject(t[n])?u.mergeAttrs(e[n],t[n]):u.isObject(e[n])?u.mergeAttrs(e[n],u.styleToObject(t[n])):u.isObject(t[n])?u.mergeAttrs(u.styleToObject(e[n]),t[n]):u.mergeAttrs(u.styleToObject(e[n]),u.styleToObject(t[n])):t[n];return e},u.annotateString=function(e,t,n){t=t||[];for(var r,i,o,s=(n=n||{}).offset||0,a=[],l=[],c=0;c<e.length;c++){i=l[c]=e[c];for(var h=0;h<t.length;h++){var d=t[h];c>=d.start+s&&c<d.end+s&&(u.isObject(i)?i.attrs=u.mergeAttrs(u.mergeAttrs({},i.attrs),d.attrs):i=l[c]={t:e[c],attrs:d.attrs},n.includeAnnotationIndices&&(i.annotations||(i.annotations=[])).push(h))}(o=l[c-1])?u.isObject(i)&&u.isObject(o)?JSON.stringify(i.attrs)===JSON.stringify(o.attrs)?r.t+=i.t:(a.push(r),r=i):u.isObject(i)?(a.push(r),r=i):u.isObject(o)?(a.push(r),r=i):r=(r||"")+i:r=i}return r&&a.push(r),a},u.findAnnotationsAtIndex=function(e,t){var n=[];return e&&e.forEach(function(e){e.start<t&&t<=e.end&&n.push(e)}),n},u.findAnnotationsBetweenIndexes=function(e,t,n){var r=[];return e&&e.forEach(function(e){(t>=e.start&&t<e.end||n>e.start&&n<=e.end||e.start>=t&&e.end<n)&&r.push(e)}),r},u.shiftAnnotations=function(e,t,n){return e&&e.forEach(function(e){e.start<t&&e.end>=t?e.end+=n:e.start>=t&&(e.start+=n,e.end+=n)}),e},u.convertLineToPathData=function(e){return["M",(e=u(e)).attr("x1"),e.attr("y1"),"L",e.attr("x2"),e.attr("y2")].join(" ")},u.convertPolygonToPathData=function(e){var t=u.getPointsFromSvgNode(e);return 0===t.length?null:u.svgPointsToPath(t)+" Z"},u.convertPolylineToPathData=function(e){var t=u.getPointsFromSvgNode(e);return 0===t.length?null:u.svgPointsToPath(t)},u.svgPointsToPath=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=e[t].x+" "+e[t].y;return"M "+e.join(" L")},u.getPointsFromSvgNode=function(e){var t=[],n=(e=u.toNode(e)).points;if(n)for(var r=0,i=n.numberOfItems;r<i;r++)t.push(n.getItem(r));return t},u.KAPPA=.551784,u.convertCircleToPathData=function(e){e=u(e);var t=parseFloat(e.attr("cx"))||0,n=parseFloat(e.attr("cy"))||0,r=parseFloat(e.attr("r")),i=r*u.KAPPA;return["M",t,n-r,"C",t+i,n-r,t+r,n-i,t+r,n,"C",t+r,n+i,t+i,n+r,t,n+r,"C",t-i,n+r,t-r,n+i,t-r,n,"C",t-r,n-i,t-i,n-r,t,n-r,"Z"].join(" ")},u.convertEllipseToPathData=function(e){e=u(e);var t=parseFloat(e.attr("cx"))||0,n=parseFloat(e.attr("cy"))||0,r=parseFloat(e.attr("rx")),i=parseFloat(e.attr("ry"))||r,o=r*u.KAPPA,s=i*u.KAPPA;return["M",t,n-i,"C",t+o,n-i,t+r,n-s,t+r,n,"C",t+r,n+s,t+o,n+i,t,n+i,"C",t-o,n+i,t-r,n+s,t-r,n,"C",t-r,n-s,t-o,n-i,t,n-i,"Z"].join(" ")},u.convertRectToPathData=function(e){return e=u(e),u.rectToPath({x:parseFloat(e.attr("x"))||0,y:parseFloat(e.attr("y"))||0,width:parseFloat(e.attr("width"))||0,height:parseFloat(e.attr("height"))||0,rx:parseFloat(e.attr("rx"))||0,ry:parseFloat(e.attr("ry"))||0})},u.rectToPath=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,s=o(e.rx||e["top-rx"]||0,r/2),a=o(e.rx||e["bottom-rx"]||0,r/2),l=o(e.ry||e["top-ry"]||0,i/2),u=o(e.ry||e["bottom-ry"]||0,i/2);return(s||a||l||u?["M",t,n+l,"v",i-l-u,"a",a,u,0,0,0,a,u,"h",r-2*a,"a",a,u,0,0,0,a,-u,"v",-(i-u-l),"a",s,l,0,0,0,-s,-l,"h",-(r-2*s),"a",s,l,0,0,0,-s,l,"Z"]:["M",t,n,"H",t+r,"V",n+i,"H",t,"V",n,"Z"]).join(" ")},u.normalizePathData=function(){var e="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",t=new RegExp("([a-z])["+e+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+e+"]*,?["+e+"]*)+)","ig"),n=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+e+"]*,?["+e+"]*","ig"),r=Math,i=r.PI,o=r.sin,s=r.cos,a=r.tan,l=r.asin,u=r.sqrt,c=r.abs;function h(e,t,n,r,i,o){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function d(e,t,n){return{x:e*s(n)-t*o(n),y:e*o(n)+t*s(n)}}return function(e){return function(e){var r=function(e){if(Array.isArray(e)&&Array.isArray(e&&e[0])||(e=function(r){if(!e)return null;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},o=[];return String(e).replace(t,function(e,t,r){var s=[],a=t.toLowerCase();for(r.replace(n,function(e,t){t&&s.push(+t)}),"m"===a&&s.length>2&&(o.push([t].concat(s.splice(0,2))),a="l",t="m"===t?"l":"L");s.length>=i[a]&&(o.push([t].concat(s.splice(0,i[a]))),i[a]););}),o}()),!e||!e.length)return[["M",0,0]];for(var r,i=[],o=0,s=0,a=0,l=0,u=e.length,c=0;c<u;c++){var h=[];i.push(h);var d,p,f=e[c];if((r=f[0])!=r.toUpperCase())switch(h[0]=r.toUpperCase(),h[0]){case"A":h[1]=f[1],h[2]=f[2],h[3]=f[3],h[4]=f[4],h[5]=f[5],h[6]=+f[6]+o,h[7]=+f[7]+s;break;case"V":h[1]=+f[1]+s;break;case"H":h[1]=+f[1]+o;break;case"M":for(a=+f[1]+o,l=+f[2]+s,d=f.length,p=1;p<d;p++)h[p]=+f[p]+(p%2?o:s);break;default:for(d=f.length,p=1;p<d;p++)h[p]=+f[p]+(p%2?o:s)}else for(var g=f.length,m=0;m<g;m++)h[m]=f[m];switch(h[0]){case"Z":o=+a,s=+l;break;case"H":o=h[1];break;case"V":s=h[1];break;case"M":a=h[h.length-2],l=h[h.length-1],o=h[h.length-2],s=h[h.length-1];break;default:o=h[h.length-2],s=h[h.length-1]}}return i}(e),p={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function f(e,t,n){var r,p;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=null,t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=0===parseFloat(e[1])||0===parseFloat(e[2])?["L",e[6],e[7]]:["C"].concat((function e(t,n,r,h,p,f,g,m,v,y){var b,w=120*i/180,C=i/180*(+p||0),I=[];if(y)P=y[0],M=y[1],k=y[2],N=y[3];else{n=(b=d(t,n,-C)).y;var x=((t=b.x)-(m=(b=d(m,v,-C)).x))/2,A=(n-(v=b.y))/2,_=x*x/(r*r)+A*A/(h*h);_>1&&(r*=_=u(_),h*=_);var S=r*r,D=h*h,T=(f==g?-1:1)*u(c((S*D-S*A*A-D*x*x)/(S*A*A+D*x*x))),k=T*r*A/h+(t+m)/2,N=T*-h*x/r+(n+v)/2,P=l(((n-N)/h).toFixed(9)),M=l(((v-N)/h).toFixed(9));(P=t<k?i-P:P)<0&&(P=2*i+P),(M=m<k?i-M:M)<0&&(M=2*i+M),g&&P>M&&(P-=2*i),!g&&M>P&&(M-=2*i)}var O=M-P;if(c(O)>w){var E=M,j=m,R=v;I=e(m=k+r*s(M=P+w*(g&&M>P?1:-1)),v=N+h*o(M),r,h,p,0,g,j,R,[M,E,k,N])}O=M-P;var L=s(P),z=o(P),F=s(M),B=o(M),G=a(O/4),U=4/3*(r*G),Z=4/3*(h*G),W=[t,n],V=[t+U*z,n-Z*L],Y=[m+U*B,v-Z*F],H=[m,v];if(V[0]=2*W[0]-V[0],V[1]=2*W[1]-V[1],y)return[V,Y,H].concat(I);for(var q=[],X=(I=[V,Y,H].concat(I).join().split(",")).length,K=0;K<X;K++)q[K]=K%2?d(I[K-1],I[K],C).y:d(I[K],I[K+1],C).x;return q}).apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*t.x-t.bx,p=2*t.y-t.by):(r=t.x,p=t.y),e=["C",r,p].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(h(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(h(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"H":e=["L"].concat(e[1],t.y);break;case"V":e=["L"].concat(t.x,e[1])}return e}function g(e,t){if(e[t].length>7){e[t].shift();for(var n=e[t];n.length;)m[t]="A",e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),b=r.length}}for(var m=[],v="",y="",b=r.length,w=0;w<b;w++){r[w]&&(v=r[w][0]),"C"!==v&&(m[w]=v,w>0&&(y=m[w-1])),r[w]=f(r[w],p,y),"A"!==m[w]&&"C"===v&&(m[w]="C"),g(r,w);var C=r[w],I=C.length;p.x=C[I-2],p.y=C[I-1],p.bx=parseFloat(C[I-4])||p.x,p.by=parseFloat(C[I-3])||p.y}return r[0][0]&&"M"===r[0][0]||r.unshift(["M",0,0]),r}(e).join(",").split(",").join(" ")}}(),u.namespace=e,u.g=J,u}(),$={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default"},ee=function(e){return e?e.toString().split(" ").map(function(e){return e.substr(0,$.classNamePrefix.length)!==$.classNamePrefix&&(e=$.classNamePrefix+e),e}).join(" "):e},te=function(e){return e?e.toString().split(" ").map(function(e){return e.substr(0,$.classNamePrefix.length)===$.classNamePrefix&&(e=e.substr($.classNamePrefix.length)),e}).join(" "):e},ne=function(e,t){for(var n={},i={},o=Q.namespace.svg,s=t||o,a=document.createDocumentFragment(),l=[e,a,s];l.length>0;){s=l.pop();for(var u=l.pop(),c=l.pop(),h=0,d=c.length;h<d;h++){var p=c[h];if(!p.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var f=p.tagName;p.hasOwnProperty("namespaceURI")&&(s=p.namespaceURI);var g=document.createElementNS(s,f),m=s===o,v=m?Q:r,y=p.attributes;y&&v(g).attr(y);var b=p.style;if(b&&r(g).css(b),p.hasOwnProperty("className")){var w=p.className;m?g.className.baseVal=w:g.className=w}if(p.hasOwnProperty("textContent")&&(g.textContent=p.textContent),p.hasOwnProperty("selector")){var C=p.selector;if(n[C])throw new Error("json-dom-parser: selector must be unique");n[C]=g,v(g).attr("joint-selector",C)}if(p.hasOwnProperty("groupSelector")){var I=p.groupSelector;Array.isArray(I)||(I=[I]);for(var x=0,A=I.length;x<A;x++){var _=I[x],S=i[_];S||(S=i[_]=[]),S.push(g)}}u.appendChild(g);var D=p.children;Array.isArray(D)&&l.push(D,g,s)}}return{fragment:a,selectors:n,groupSelectors:i}},re=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},ie=function(e,t,n){for(var r,i=Array.isArray(t)?t:t.split(n||"/"),o=0,s=i.length;o<s;){if(r=i[o++],!(Object(e)===e&&r in e))return;e=e[r]}return e},oe=function(e,t,n,r){for(var i=Array.isArray(t)?t:t.split(r||"/"),o=e,s=0,a=i.length;s<a-1;s++)o=o[i[s]]||(o[i[s]]={});return o[i[a-1]]=n,e},se=function(e,t,n){n||(n="/");var r=Array.isArray(t)?t.slice():t.split(n),i=r.pop();if(r.length>0){var o=ie(e,r,n);o&&delete o[i]}else delete e[i];return e},ae=function(e,t,n){t=t||"/";var r={};for(var i in e)if(e.hasOwnProperty(i)){var o="object"==typeof e[i];if(o&&n&&n(e[i])&&(o=!1),o){var s=ae(e[i],t,n);for(var a in s)s.hasOwnProperty(a)&&(r[i+t+a]=s[a])}else r[i]=e[i]}return r},le=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},ue=function(e){return ue.id=ue.id||1,e.id=void 0===e.id?"j_"+ue.id++:e.id,e.id},ce=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},he=function(e){var t=e,n=e.originalEvent&&e.originalEvent.changedTouches&&e.originalEvent.changedTouches[0];if(n){for(var r in e)void 0===n[r]&&(n[r]=e[r]);t=n}var i=t.target;if(i){var o=i.correspondingUseElement;o&&(t.target=o)}return t},de=function(){var e;if("undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!e){var t=0;e=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=setTimeout(function(){e(n+r)},r);return t=n+r,i}}return function(t,n){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];return e(void 0!==n?t.bind.apply(t,[n].concat(r)):t)}}(),pe=((K="undefined"!=typeof window)&&(X=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),X=X||clearTimeout,K?X.bind(window):X),fe=function(e){return ct(e)&&"%"===e.slice(-1)},ge=function(e,t){var n=parseFloat(e);if(Number.isNaN(n))return null;var r,i={};if(i.value=n,null==t)r="[A-Za-z]*";else if(Array.isArray(t)){if(0===t.length)return null;r=t.join("|")}else ct(t)&&(r=t);var o=function(t){var n=new RegExp("(?:\\d+(?:\\.\\d+)*)("+t+")$").exec(e);return n?n[1]:null}(r);return null===o?null:(i.unit=o,i)},me=function(e,t,n,r){n=n||{};var i=t.width,o=t.height,s=(r=r||{}).svgDocument||Q("svg").node,a=Q("tspan").node,l=Q("text").attr(n).append(a).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",a.style.display="block",a.appendChild(u),s.appendChild(l),r.svgDocument||document.body.appendChild(s);for(var c,h,d,p=r.separator||" ",f=r.eol||"\n",g=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,m=e.split(p),v=[],y=[],b=0,w=0,C=m.length;b<C;b++){var I=m[b];if(I)if(f&&I.indexOf(f)>=0)if(I.length>1){for(var x=I.split(f),A=0,_=x.length-1;A<_;A++)x.splice(2*A+1,0,f);Array.prototype.splice.apply(m,[b,1].concat(x)),b--,C+=x.length-1}else w++;else{if(u.data=y[w]?y[w]+" "+I:I,a.getComputedTextLength()<=i)y[w]=u.data,(c||h)&&(v[w++]=!0,c=0,h=0);else{if(!y[w]||c){var S=!!c;if(c=I.length-1,S||!c){if(!c){if(!y[w]){y=[];break}m.splice(b,2,I+m[b+1]),C--,v[w++]=!0,b--;continue}m[b]=I.substring(0,c),m[b+1]=I.substring(c)+m[b+1]}else{if(h)m.splice(b,2,m[b]+m[b+1]),h=0;else{var D=I.search(g);D>-1&&D!==I.length-1&&0!==D&&(h=D+1,c=0),m.splice(b,1,I.substring(0,h||c),I.substring(h||c)),C++}w&&!v[w-1]&&w--}b--;continue}w++,b--}var T;if(void 0!==o&&(void 0===d&&(d=(T="auto"===n.lineHeight?{value:1.5,unit:"em"}:ge(n.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===T.unit&&(d*=l.getBBox().height)),d*y.length>o)){var k=Math.floor(o/d)-1;y.splice(k+1);var N=r.ellipsis;if(!N||k<0)break;"string"!=typeof N&&(N="\u2026");var P,M,O=y[k],E=O.length;do{if(M=O[E],P=O.substring(0,E),M?M.match(p)&&(P+=M):P+="string"==typeof p?p:" ",u.data=P+=N,a.getComputedTextLength()<=i){y[k]=P;break}E--}while(E>=0);break}}}return r.svgDocument?s.removeChild(l):document.body.removeChild(s),y.join(f)},ve=function(e){var t=r(r.parseHTML("<div>"+e+"</div>",null,!1));return t.find("*").each(function(){var e=this;r.each(e.attributes,function(){var t=this.name,n=this.value;0!==t.indexOf("on")&&0!==n.indexOf("javascript:")||r(e).removeAttr(t)})}),t.html()},ye=function(e,t){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(e,t);else{var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}},be=function(e){e=e.replace(/\s/g,"");var t,n=(e=decodeURIComponent(e)).indexOf(","),r=e.slice(0,n),i=r.split(":")[1].split(";")[0],o=e.slice(n+1);t=r.indexOf("base64")>=0?atob(o):unescape(encodeURIComponent(o));for(var s=new Uint8Array(t.length),a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return new Blob([s],{type:i})},we=function(e,t){var n=r(e),i=n.map(function(){var e=this.parentNode,t=e.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(e===this)throw new Error("You can't sort elements if any one is a descendant of another.");e.insertBefore(this,t),e.removeChild(t)}});return Array.prototype.sort.call(n,t).each(function(e){i[e].call(this)})},Ce=function(e){if(Object(e)!==e){var t=0;return isFinite(e)&&(t=+e),{top:t,right:t,bottom:t,left:t}}var n,r,i,o;return n=r=i=o=0,isFinite(e.vertical)&&(n=i=+e.vertical),isFinite(e.horizontal)&&(r=o=+e.horizontal),isFinite(e.top)&&(n=+e.top),isFinite(e.right)&&(r=+e.right),isFinite(e.bottom)&&(i=+e.bottom),isFinite(e.left)&&(o=+e.left),{top:n,right:r,bottom:i,left:o}},Ie={linear:function(e){return e},quad:function(e){return e*e},cubic:function(e){return e*e*e},inout:function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},exponential:function(e){return Math.pow(2,10*(e-1))},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,t,n){return t=t||0,n=n||1,function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e||(e=1.5),function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},xe={number:function(e,t){var n=t-e;return function(t){return e+n*t}},object:function(e,t){var n=Object.keys(e);return function(r){var i,o,s={};for(i=n.length-1;-1!=i;i--)s[o=n[i]]=e[o]+(t[o]-e[o])*r;return s}},hexColor:function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=255&n,o=(255&r)-i,s=65280&n,a=(65280&r)-s,l=16711680&n,u=(16711680&r)-l;return function(e){return"#"+(1<<24|i+o*e&255|s+a*e&65280|l+u*e&16711680).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),o=i[1].indexOf("."),s=o>0?i[1].length-o-1:0,a=+i[1]-(e=+r[1]),l=r[2];return function(t){return(e+a*t).toFixed(s)+l}}},Ae={outline:function(e){var t=Number.isFinite(e.margin)?e.margin:2,n=Number.isFinite(e.width)?e.width:1;return Se('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:e.color||"blue",opacity:Number.isFinite(e.opacity)?e.opacity:1,outerRadius:t+n,innerRadius:t})},highlight:function(e){return Se('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:e.color||"red",width:Number.isFinite(e.width)?e.width:1,blur:Number.isFinite(e.blur)?e.blur:0,opacity:Number.isFinite(e.opacity)?e.opacity:1})},blur:function(e){var t=Number.isFinite(e.x)?e.x:2;return Se('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(e.y)?[t,e.y]:t})},dropShadow:function(e){var t="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Se(t)({dx:e.dx||0,dy:e.dy||0,opacity:Number.isFinite(e.opacity)?e.opacity:1,color:e.color||"black",blur:Number.isFinite(e.blur)?e.blur:4})},grayscale:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Se('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Se('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Se('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(e){return Se('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:e.angle||0})},invert:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Se('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(e){return Se('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(e.amount)?e.amount:1})},contrast:function(e){var t=Number.isFinite(e.amount)?e.amount:1;return Se('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},_e={number:function(e,t,n){n=n||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var r=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i.exec(e),i=r[1]||" ",o=r[2]||">",s=r[3]||"",a=r[4]||"",l=r[5],u=+r[6],c=r[7],h=r[8],d=r[9],p=1,f="",g="",m=!1;switch(h&&(h=+h.substring(1)),(l||"0"===i&&"="===o)&&(l=i="0",o="=",c&&(u-=Math.floor((u-1)/4))),d){case"n":c=!0,d="g";break;case"%":p=100,g="%",d="f";break;case"p":p=100,g="%",d="r";break;case"b":case"o":case"x":case"X":"#"===a&&(f="0"+d.toLowerCase());break;case"c":case"d":m=!0,h=0;break;case"s":p=-1,d="r"}"$"===a&&(f=n.currency[0],g=n.currency[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):"e"!=d&&"f"!=d||(h=Math.max(0,Math.min(20,h))));var v=l&&c;if(m&&t%1)return"";var y=t<0||0===t&&1/t<0?(t=-t,"-"):s,b=g;if(p<0){var w=this.prefix(t,h);t=w.scale(t),b=w.symbol+g}else t*=p;var C=(t=this.convert(d,t,h)).lastIndexOf("."),I=C<0?t:t.substring(0,C),x=C<0?"":n.decimal+t.substring(C+1);function A(e){for(var t=e.length,r=[],i=0,o=n.grouping[0];t>0&&o>0;)r.push(e.substring(t-=o,t+o)),o=n.grouping[i=(i+1)%n.grouping.length];return r.reverse().join(n.thousands)}!l&&c&&n.grouping&&(I=A(I));var _=f.length+I.length+x.length+(v?0:y.length),S=_<u?new Array(_=u-_+1).join(i):"";return v&&(I=A(S+I)),y+=f,t=I+x,("<"===o?y+t+S:">"===o?S+y+t:"^"===o?S.substring(0,_>>=1)+y+t+S.substring(_):y+(v?t:S+t))+b},string:function(e,t){for(var n,r="{",i=!1,o=[];-1!==(n=e.indexOf(r));){var s,a,l;if(s=e.slice(0,n),i){l=(a=s.split(":")).shift().split("."),s=t;for(var u=0;u<l.length;u++)s=s[l[u]];a.length&&(s=this.number(a,s))}o.push(s),e=e.slice(n+1),r=(i=!i)?"}":"{"}return o.push(e),o.join("")},convert:function(e,t,n){switch(e){case"b":return t.toString(2);case"c":return String.fromCharCode(t);case"o":return t.toString(8);case"x":return t.toString(16);case"X":return t.toString(16).toUpperCase();case"g":return t.toPrecision(n);case"e":return t.toExponential(n);case"f":return t.toFixed(n);case"r":return(t=this.round(t,this.precision(t,n))).toFixed(Math.max(0,Math.min(20,this.precision(t*(1+1e-15),n))));default:return t+""}},round:function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)},precision:function(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)},prefix:function(e,t){var n=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*Math.abs(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}),r=0;return e&&(e<0&&(e*=-1),t&&(e=this.round(e,this.precision(e,t))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r<=0?r+1:r-1)/3)))),n[8+r/3]}},Se=function(e){var t=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},e.replace(t,function(e){for(var t=Array.from(arguments).slice(1,4).find(function(e){return!!e}).split("."),r=n[t.shift()];void 0!==r&&t.length;)r=r[t.shift()];return void 0!==r?r:""})}},De=n.assign,Te=n.defaults,ke=De,Ne=n.defaultsDeep,Pe=n.assign,Me=n.defaults,Oe=n.defaultsDeep,Ee=n.invokeMap||n.invoke,je=n.sortedIndexBy||n.sortedIndex,Re=n.uniqBy||n.uniq,Le=n.clone,ze=n.cloneDeep,Fe=n.isEmpty,Be=n.isEqual,Ge=n.isFunction,Ue=n.isPlainObject,Ze=n.toArray,We=n.debounce,Ve=n.groupBy,Ye=n.sortBy,He=n.flattenDeep,qe=n.without,Xe=n.difference,Ke=n.intersection,Je=n.union,Qe=n.has,$e=n.result,et=n.omit,tt=n.pick,nt=n.bindAll,rt=n.forIn,it=n.camelCase,ot=n.uniqueId,st=function(){if(n.mergeWith){var e=Array.from(arguments),t=e[e.length-1],r=Ge(t)?t:ht;return e.push(function(e,t){var n=r(e,t);return void 0!==n?n:Array.isArray(e)&&!Array.isArray(t)?t:void 0}),n.mergeWith.apply(this,e)}return n.merge.apply(this,arguments)},at=function(e){var t=Object.prototype.toString;return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"===t.call(e)},lt=function(e){return!!e&&("object"==typeof e||"function"==typeof e)},ut=function(e){var t=Object.prototype.toString;return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"===t.call(e)},ct=function(e){var t=Object.prototype.toString;return"string"==typeof e||!!e&&"object"==typeof e&&"[object String]"===t.call(e)},ht=function(){};function dt(e){e=Re(e);var t=Ze(e).reduce(function(e,t){return e[t.id]=t.clone(),e},{});return Ze(e).forEach(function(e){var n=t[e.id];if(n.isLink()){var r=n.source(),i=n.target();r.id&&t[r.id]&&n.prop("source/id",t[r.id].id),i.id&&t[i.id]&&n.prop("target/id",t[i.id].id)}var o=e.get("parent");o&&t[o]&&n.set("parent",t[o].id);var s=Ze(e.get("embeds")).reduce(function(e,n){return t[n]&&e.push(t[n].id),e},[]);Fe(s)||n.set("embeds",s)}),t}function pt(e,t){return function(n,r){var i=fe(n);n=parseFloat(n),i&&(n/=100);var o={};if(isFinite(n)){var s=i||n>=0&&n<=1?n*r[t]:Math.max(n+r[t],0);o[e]=s}return o}}function ft(e,t,n){return function(r,i){var o,s=fe(r);if(r=parseFloat(r),s&&(r/=100),isFinite(r)){var a=i[n]();o=s||r>0&&r<1?a[e]+i[t]*r:a[e]+r}var l=_();return l[e]=o||0,l}}function gt(e,t,n){return function(r,i){var o;o="middle"===r?i[t]/2:r===n?i[t]:isFinite(r)?r>-1&&r<1?-i[t]*r:-r:fe(r)?i[t]*parseFloat(r)/100:0;var s=_();return s[e]=-(i[e]+o),s}}function mt(e,t){var n=t&&t.resetOffset;return function(t,i,o){var s=r(o),a=s.data("joint-shape");if(!a||a.value!==t){var l=e(t);a={value:t,shape:l,shapeBBox:l.bbox()},s.data("joint-shape",a)}var u=a.shape.clone(),c=a.shapeBBox.clone(),h=c.origin(),d=i.origin();c.x=d.x,c.y=d.y;var p=i.maxRectScaleToFit(c,d);return u.scale(0===c.width||0===i.width?1:p.sx,0===c.height||0===i.height?1:p.sy,h),n&&u.translate(-h.x,-h.y),u}}function vt(e){var t=mt(function(e){return new A(Q.normalizePathData(e))},e);return function(e,n,r){return{d:t(e,n,r).serialize()}}}function yt(e){var t=mt(S,e);return function(e,n,r){return{points:t(e,n,r).serialize()}}}function bt(e,t){var n=new _(1,0);return function(r){var i,o,s=this[e](r);return s?(o=t.rotate?s.vector().vectorAngle(n):0,i=s.start):(i=this.path.start,o=0),0===o?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function wt(e,t,n){return void 0!==n.text}function Ct(){return this.model.isLink()}function It(e){var t={},n=e.stroke;"string"==typeof n&&(t.stroke=n,t.fill=n);var r=e.strokeOpacity;return void 0===r&&(r=e["stroke-opacity"]),void 0===r&&(r=e.opacity),void 0!==r&&(t["stroke-opacity"]=r,t["fill-opacity"]=r),t}var xt,At,_t={xlinkHref:{set:"xlink:href"},xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},filter:{qualify:Ue,set:function(e){return"url(#"+this.paper.defineFilter(e)+")"}},fill:{qualify:Ue,set:function(e){return"url(#"+this.paper.defineGradient(e)+")"}},stroke:{qualify:Ue,set:function(e){return"url(#"+this.paper.defineGradient(e)+")"}},sourceMarker:{qualify:Ue,set:function(e,t,n,r){return e=Pe(It(r),e),{"marker-start":"url(#"+this.paper.defineMarker(e)+")"}}},targetMarker:{qualify:Ue,set:function(e,t,n,r){return e=Pe(It(r),{transform:"rotate(180)"},e),{"marker-end":"url(#"+this.paper.defineMarker(e)+")"}}},vertexMarker:{qualify:Ue,set:function(e,t,n,r){return e=Pe(It(r),e),{"marker-mid":"url(#"+this.paper.defineMarker(e)+")"}}},text:{qualify:function(e,t,n){return!n.textWrap||!Ue(n.textWrap)},set:function(e,t,n,i){var o=r(n),s=o.data("joint-text"),a=tt(i,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty"),l=a.fontSize=i["font-size"]||i.fontSize,u=JSON.stringify([e,a]);if(void 0===s||s!==u){l&&n.setAttribute("font-size",l);var c=a.textPath;if(lt(c)){var h=c.selector;if("string"==typeof h){var d=this.findBySelector(h)[0];d instanceof SVGPathElement&&(a.textPath=Pe({"xlink:href":"#"+d.id},c))}}Q(n).text(""+e,a),o.data("joint-text",u)}}},textWrap:{qualify:Ue,set:function(e,t,n,r){var i=e.width||0;fe(i)?t.width*=parseFloat(i)/100:i<=0?t.width+=i:t.width=i;var o,s=e.height||0;fe(s)?t.height*=parseFloat(s)/100:s<=0?t.height+=s:t.height=s;var a=e.text;void 0===a&&(a=r.text),o=void 0!==a?me(""+a,t,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":r["font-size"]||r.fontSize,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight},{svgDocument:this.paper.svg,ellipsis:e.ellipsis,hyphen:e.hyphen}):"",_t.text.set.call(this,o,t,n,r)}},title:{qualify:function(e,t){return t instanceof SVGElement},set:function(e,t,n){var i=r(n),o=i.data("joint-title");if(void 0===o||o!==e){i.data("joint-title",e);var s=n.firstChild;if(s&&"TITLE"===s.tagName.toUpperCase())s.textContent=e;else{var a=document.createElementNS(n.namespaceURI,"title");a.textContent=e,n.insertBefore(a,s)}}}},lineHeight:{qualify:wt},textVerticalAnchor:{qualify:wt},textPath:{qualify:wt},annotations:{qualify:wt},eol:{qualify:wt},displayEmpty:{qualify:wt},port:{set:function(e){return null===e||void 0===e.id?e:e.id}},style:{qualify:Ue,set:function(e,t,n){r(n).css(e)}},html:{set:function(e,t,n){r(n).html(e+"")}},ref:{},refX:{position:ft("x","width","origin")},refY:{position:ft("y","height","origin")},refDx:{position:ft("x","width","corner")},refDy:{position:ft("y","height","corner")},refWidth:{set:pt("width","width")},refHeight:{set:pt("height","height")},refRx:{set:pt("rx","width")},refRy:{set:pt("ry","height")},refRInscribed:{set:(xt=pt("r","width"),At=pt("r","height"),function(e,t){return(t.height>t.width?xt:At)(e,t)})},refRCircumscribed:{set:function(e,t){var n=fe(e);e=parseFloat(e),n&&(e/=100);var r,i=Math.sqrt(t.height*t.height+t.width*t.width);return isFinite(e)&&(r=n||e>=0&&e<=1?e*i:Math.max(e+i,0)),{r:r}}},refCx:{set:pt("cx","width")},refCy:{set:pt("cy","height")},xAlignment:{offset:gt("x","width","right")},yAlignment:{offset:gt("y","height","bottom")},resetOffset:{offset:function(e,t){return e?{x:-t.x,y:-t.y}:{x:0,y:0}}},refDResetOffset:{set:vt({resetOffset:!0})},refDKeepOffset:{set:vt({resetOffset:!1})},refPointsResetOffset:{set:yt({resetOffset:!0})},refPointsKeepOffset:{set:yt({resetOffset:!1})},connection:{qualify:Ct,set:function(e){var t,n=e.stubs;if(void 0===n&&(n=0),isFinite(n)&&0!==n){var r;r=n<0?(this.getConnectionLength()+n)/2:n;var i=this.getConnection(),o=i.divideAtLength(r),s=i.divideAtLength(-r);o&&s&&(t=o[0].serialize()+" "+s[1].serialize())}return{d:t||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Ct,set:bt("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Ct,set:bt("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Ct,set:bt("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Ct,set:bt("getTangentAtRatio",{rotate:!1})}};_t.refR=_t.refRInscribed,_t.refD=_t.refDResetOffset,_t.refPoints=_t.refPointsResetOffset,_t.atConnectionLength=_t.atConnectionLengthKeepGradient,_t.atConnectionRatio=_t.atConnectionRatioKeepGradient,_t.refX2=_t.refX,_t.refY2=_t.refY,_t.refWidth2=_t.refWidth,_t.refHeight2=_t.refHeight,_t["ref-x"]=_t.refX,_t["ref-y"]=_t.refY,_t["ref-dy"]=_t.refDy,_t["ref-dx"]=_t.refDx,_t["ref-width"]=_t.refWidth,_t["ref-height"]=_t.refHeight,_t["x-alignment"]=_t.xAlignment,_t["y-alignment"]=_t.yAlignment;var St=_t,Dt=t.Model.extend({constructor:function(e,t){var n,r=e||{};this.cid=ot("c"),this.attributes={},t&&t.collection&&(this.collection=t.collection),t&&t.parse&&(r=this.parse(r,t)||{}),(n=$e(this,"defaults"))&&(r=st({},n,r)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},translate:function(e,t,n){throw new Error("Must define a translate() method.")},toJSON:function(){var e=this.constructor.prototype.defaults.attrs||{},t={};rt(this.attributes.attrs,function(n,r){var i=e[r];rt(n,function(e,n){lt(e)&&!Array.isArray(e)?rt(e,function(e,o){i&&i[n]&&Be(i[n][o],e)||(t[r]=t[r]||{},(t[r][n]||(t[r][n]={}))[o]=e)}):i&&Be(i[n],e)||(t[r]=t[r]||{},t[r][n]=e)})});var n=ze(et(this.attributes,"attrs"));return n.attrs=t,n},initialize:function(e){e&&e.id||this.set("id",this.generateId(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},generateId:function(){return le()},processPorts:function(){var e=this.ports,t={};rt(this.get("attrs"),function(e,n){e&&e.port&&(void 0!==e.port.id?t[e.port.id]=e.port:t[e.port]={id:e.port})});var n={};rt(e,function(e,r){t[r]||(n[r]=!0)}),this.graph&&!Fe(n)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(e){n[e.get("target").port]&&e.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(e){n[e.get("source").port]&&e.remove()})),this.ports=t},remove:function(e){e=e||{};var t=this.graph;if(!t)return this.collection&&this.collection.remove(this,e),this;t.startBatch("remove");var n=this.getParentCell();n&&n.unembed(this);for(var r=this.getEmbeddedCells(),i=0,o=r.length;i<o;i++){var s=r[i];s&&s.remove(e)}return this.trigger("remove",this,t.attributes.cells,e),t.stopBatch("remove"),this},toFront:function(e){var t=this.graph;if(t){e=e||{};var n,r=t.maxZIndex();e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:!0})).unshift(this):n=[this],r=r-n.length+1;var i=t.get("cells"),o=i.indexOf(this)!==i.length-n.length;o||(o=n.some(function(e,t){return e.get("z")!==r+t})),o&&(this.startBatch("to-front"),r+=n.length,n.forEach(function(t,n){t.set("z",r+n,e)}),this.stopBatch("to-front"))}return this},toBack:function(e){var t=this.graph;if(t){e=e||{};var n,r=t.minZIndex();e.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:!0})).unshift(this):n=[this];var i=0!==t.get("cells").indexOf(this);i||(i=n.some(function(e,t){return e.get("z")!==r+t})),i&&(this.startBatch("to-back"),r-=n.length,n.forEach(function(t,n){t.set("z",r+n,e)}),this.stopBatch("to-back"))}return this},parent:function(e,t){return void 0===e?this.get("parent"):this.set("parent",e,t)},embed:function(e,t){if(this===e||this.isEmbeddedIn(e))throw new Error("Recursive embedding not allowed.");this.startBatch("embed");var n=Pe([],this.get("embeds"));return n[e.isLink()?"unshift":"push"](e.id),e.parent(this.id,t),this.set("embeds",Re(n),t),this.stopBatch("embed"),this},unembed:function(e,t){return this.startBatch("unembed"),e.unset("parent",t),this.set("embeds",qe(this.get("embeds"),e.id),t),this.stopBatch("unembed"),this},getParentCell:function(){var e=this.parent(),t=this.graph;return e&&t&&t.getCell(e)||null},getAncestors:function(){var e=[];if(!this.graph)return e;for(var t=this.getParentCell();t;)e.push(t),t=t.getParentCell();return e},getEmbeddedCells:function(e){if(e=e||{},this.graph){var t;if(e.deep)if(e.breadthFirst){t=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();t.push(r),n.push.apply(n,r.getEmbeddedCells())}}else(t=this.getEmbeddedCells()).forEach(function(n){t.push.apply(t,n.getEmbeddedCells(e))});else t=Ze(this.get("embeds")).map(this.graph.getCell,this.graph);return t}return[]},isEmbeddedIn:function(e,t){var n=ct(e)?e:e.id,r=this.parent();if(t=Me({deep:!0},t),this.graph&&t.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}return r===n},isEmbedded:function(){return!!this.parent()},clone:function(e){if((e=e||{}).deep)return Ze(dt([this].concat(this.getEmbeddedCells({deep:!0}))));var n=t.Model.prototype.clone.apply(this,arguments);return n.set("id",this.generateId()),n.unset("embeds"),n.unset("parent"),n},prop:function(e,t,n){var r=ct(e);if(r||Array.isArray(e)){if(arguments.length>1){var i,o;r?o=(i=e).split("/"):(i=e.join("/"),o=e.slice());var s=o[0],a=o.length;if((n=n||{}).propertyPath=i,n.propertyValue=t,n.propertyPathArray=o,1===a)return this.set(s,t,n);for(var l={},u=l,c=s,h=1;h<a;h++){var d=o[h],p=Number.isFinite(r?Number(d):d);u=u[c]=p?[]:{},c=d}l=oe(l,o,t,"/");var f=st({},this.attributes);n.rewrite&&se(f,i,"/");var g=st(f,l);return this.set(s,g[s],n)}return ie(this.attributes,e,"/")}return this.set(st({},this.attributes,e),t)},removeProp:function(e,t){t=t||{};var n=Array.isArray(e)?e:e.split("/"),r=n[0];if("attrs"===r&&(t.dirty=!0),1===n.length)return this.unset(e,t);var i=n.slice(1),o=ze(this.get(r));return se(o,i,"/"),this.set(r,o,t)},attr:function(e,t,n){var r=Array.from(arguments);return 0===r.length?this.get("attrs"):(r[0]=Array.isArray(e)?["attrs"].concat(e):ct(e)?"attrs/"+e:{attrs:e},this.prop.apply(this,r))},removeAttr:function(e,t){return Array.isArray(e)?this.removeProp(["attrs"].concat(e)):this.removeProp("attrs/"+e,t)},transition:function(e,t,n,r){r=r||"/",n=Pe({duration:100,delay:10,timingFunction:Ie.linear,valueFunction:xe.number},n);var i,o=0,s=(function(t){var r,a,l;(a=(t-=o=o||t)/n.duration)<1?this._transitionIds[e]=r=de(s):(a=1,delete this._transitionIds[e]),l=i(n.timingFunction(a)),n.transitionId=r,this.prop(e,l,n),r||this.trigger("transition:end",this,e)}).bind(this),a=(function(o){this.stopTransitions(e),i=n.valueFunction(ie(this.attributes,e,r),t),this._transitionIds[e]=de(o),this.trigger("transition:start",this,e)}).bind(this);return setTimeout(a,n.delay,s)},getTransitions:function(){return Object.keys(this._transitionIds)},stopTransitions:function(e,t){t=t||"/";var n=e&&e.split(t);return Object.keys(this._transitionIds).filter(n&&function(e){return Be(n,e.split(t).slice(0,n.length))}).forEach(function(e){pe(this._transitionIds[e]),delete this._transitionIds[e],this.trigger("transition:end",this,e)},this),this},addTo:function(e,t){return e.addCell(this,t),this},findView:function(e){return e.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(e,t){return this.graph&&this.graph.startBatch(e,Pe({},t,{cell:this})),this},stopBatch:function(e,t){return this.graph&&this.graph.stopBatch(e,Pe({},t,{cell:this})),this},getChangeFlag:function(e){var t=0;if(!e)return t;for(var n in e)e.hasOwnProperty(n)&&this.hasChanged(n)&&(t|=e[n]);return t},angle:function(){return 0},position:function(){return new _(0,0)},getPointFromConnectedLink:function(){return new _},getBBox:function(){return new D(0,0,0,0)}},{getAttributeDefinition:function(e){var t=this.attributes;return t&&t[e]||St[e]},define:function(e,t,n,r){n=Pe({defaults:Oe({type:e},t,this.prototype.defaults)},n);var i=this.extend(n,r);return"undefined"!=typeof joint&&Qe(joint,"shapes")&&oe(joint.shapes,e,i,"."),i}}),Tt=function(e,t,n){if(ct(n)){if(!kt[n])throw new Error('Unknown wrapper: "'+n+'"');n=kt[n]}if(!Ge(n))throw new Error("Wrapper must be a function.");Ze(t).forEach(function(t){e[t]=n(e[t])})},kt={cells:function(e){return function(){var t=Array.from(arguments),n=t.length,r=n>0&&t[0]||[],i=n>1&&t[n-1]||{};return Array.isArray(r)||(i instanceof Dt?r=t:r instanceof Dt&&(t.length>1&&t.pop(),r=t)),i instanceof Dt&&(i={}),e.call(this,r,i)}}},Nt={wrapWith:Tt,wrappers:kt,addClassNamePrefix:ee,removeClassNamePrefix:te,parseDOMJSON:ne,hashCode:re,getByPath:ie,setByPath:oe,unsetByPath:se,flattenObject:ae,uuid:le,guid:ue,toKebabCase:ce,normalizeEvent:he,nextFrame:de,cancelFrame:pe,shapePerimeterConnectionPoint:function(e,t,n,r){var i,o;if(!n){var s=t.$(".scalable")[0],a=t.$(".rotatable")[0];s&&s.firstChild?n=s.firstChild:a&&a.firstChild&&(n=a.firstChild)}return n?(o=Q(n).findIntersection(r,e.paper.cells))||(i=Q(n).getBBox({target:e.paper.cells})):o=(i=t.model.getBBox()).intersectionWithLineFromCenterToPoint(r),o||i.center()},isPercentage:fe,parseCssNumeric:ge,breakText:me,sanitizeHTML:ve,downloadBlob:ye,downloadDataUri:function(e,t){var n=be(e);ye(n,t)},dataUriToBlob:be,imageToDataUri:function(e,t){if(!e||"data:"===e.substr(0,"data:".length))return setTimeout(function(){t(null,e)},0);var n=new XMLHttpRequest;n.open("GET",e,!0),n.addEventListener("error",function(){t(new Error("Failed to load image "+e))}),n.responseType=window.FileReader?"blob":"arraybuffer",n.addEventListener("load",function(){window.FileReader?function(t,n){if(200===t.status){var r=new FileReader;r.onload=function(e){n(null,e.target.result)},r.onerror=function(){n(new Error("Failed to load image "+e))},r.readAsDataURL(t.response)}else n(new Error("Failed to load image "+e))}(n,t):function(t,n){if(200===t.status){var r=new Uint8Array(t.response),i=e.split(".").pop()||"png";n(null,"data:image/"+({svg:"svg+xml"}[i]||i)+";base64,"+btoa(function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")}(r)))}else n(new Error("Failed to load image "+e))}(n,t)}),n.send()},getElementBBox:function(e){var t=r(e);if(0===t.length)throw new Error("Element not found");var n=t[0],i=n.ownerDocument,o=n.getBoundingClientRect(),s=0,a=0;if(n.ownerSVGElement){var l=Q(n),u=l.getBBox({target:l.svg()});s=o.width-u.width,a=o.height-u.height}return{x:o.left+window.pageXOffset-i.documentElement.offsetLeft+s/2,y:o.top+window.pageYOffset-i.documentElement.offsetTop+a/2,width:o.width-s,height:o.height-a}},sortElements:we,setAttributesBySelector:function(e,t){var n=r(e);rt(t,function(e,t){var r=n.find(t).addBack().filter(t);Qe(e,"class")&&(r.addClass(e.class),e=et(e,"class")),r.attr(e)})},normalizeSides:Ce,timing:Ie,interpolate:xe,filter:Ae,format:_e,template:Se,toggleFullScreen:function(e){var t=window.top.document;function n(e,t){for(var n=["webkit","moz","ms","o",""],r=0;r<n.length;r++){var i=n[r],o=i?i+t:t.substr(0,1).toLowerCase()+t.substr(1);if(void 0!==e[o])return Ge(e[o])?e[o]():e[o]}}e=e||t.body,n(t,"FullscreenElement")||n(t,"FullScreenElement")?n(t,"ExitFullscreen")||n(t,"CancelFullScreen"):n(e,"RequestFullscreen")||n(e,"RequestFullScreen")},mixin:De,supplement:Te,deepMixin:ke,deepSupplement:Ne,assign:Pe,defaults:Me,defaultsDeep:Oe,invoke:Ee,sortedIndex:je,uniq:Re,clone:Le,cloneDeep:ze,isEmpty:Fe,isEqual:Be,isFunction:Ge,isPlainObject:Ue,toArray:Ze,debounce:We,groupBy:Ve,sortBy:Ye,flattenDeep:He,without:qe,difference:Xe,intersection:Ke,union:Je,has:Qe,result:$e,omit:et,pick:tt,bindAll:nt,forIn:rt,camelCase:it,uniqueId:ot,merge:st,isBoolean:at,isObject:lt,isNumber:ut,isString:ct,noop:ht,cloneCells:dt};function Pt(e,t,n){var r=e.toJSON();return r.angle=t||0,Me({},n,r)}function Mt(e,t,n){return e.map(function(e,t,n){var r=this.pointAt((t+.5)/n.length);return(e.dx||e.dy)&&r.offset(e.dx||0,e.dy||0),Pt(r.round(),0,e)},E(t,n))}function Ot(e,t,n,r){var i=t.center(),o=t.width/t.height,s=t.topMiddle(),a=I.fromRect(t);return e.map(function(e,t,l){var u=n+r(t,l.length),c=s.clone().rotate(i,-u).scale(o,1,i),h=e.compensateRotation?-a.tangentTheta(c):0;return(e.dx||e.dy)&&c.offset(e.dx||0,e.dy||0),e.dr&&c.move(i,e.dr),Pt(c.round(),h,e)})}function Et(e,t){var n=t.x;ct(n)&&(n=parseFloat(n)/100*e.width);var r=t.y;return ct(r)&&(r=parseFloat(r)/100*e.height),j(n||0,r||0)}var jt={absolute:function(e,t,n){return e.map(Et.bind(null,t))},fn:function(e,t,n){return n.fn(e,t,n)},line:function(e,t,n){return Mt(e,Et(t,n.start||t.origin()),Et(t,n.end||t.corner()))},left:function(e,t,n){return Mt(e,t.origin(),t.bottomLeft())},right:function(e,t,n){return Mt(e,t.topRight(),t.corner())},top:function(e,t,n){return Mt(e,t.origin(),t.topRight())},bottom:function(e,t,n){return Mt(e,t.bottomLeft(),t.corner())},ellipseSpread:function(e,t,n){var r=n.step||360/e.length;return Ot(e,t,n.startAngle||0,function(e){return e*r})},ellipse:function(e,t,n){var r=n.step||20;return Ot(e,t,n.startAngle||0,function(e,t){return(e+.5-t/2)*r})}};function Rt(e,t){return Oe({},e,t,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function Lt(e,t,n,r){r=Me({},r,{offset:15});var i,o,s,a,l=t.center().theta(e),u=zt(t),c=r.offset,h=0;l<u[1]||l>u[2]?(s=".3em",i=c,o=0,a="start"):l<u[0]?(s="0",i=0,o=-c,n?(h=-90,a="start"):a="middle"):l<u[3]?(s=".3em",i=-c,o=0,a="end"):(s=".6em",i=0,o=c,n?(h=90,a="start"):a="middle");var d=Math.round;return Rt({x:d(i),y:d(o),angle:h,attrs:{".":{y:s,"text-anchor":a}}})}function zt(e){var t=e.center(),n=t.theta(e.origin()),r=t.theta(e.bottomLeft()),i=t.theta(e.corner());return[n,t.theta(e.topRight()),i,r]}function Ft(e,t,n,r){var i,o,s,a,l=t.center().theta(e),u=(r=Me({},r,{offset:15})).offset,c=0,h=zt(t);l<h[1]||l>h[2]?(s=".3em",i=-u,o=0,a="end"):l<h[0]?(s=".6em",i=0,o=u,n?(c=90,a="start"):a="middle"):l<h[3]?(s=".3em",i=u,o=0,a="start"):(s="0em",i=0,o=-u,n?(c=-90,a="start"):a="middle");var d=Math.round;return Rt({x:d(i),y:d(o),angle:c,attrs:{".":{y:s,"text-anchor":a}}})}function Bt(e,t,n){n=Me({},n,{offset:20});var r,i=j(0,0),o=-e.theta(i),s=o,a=e.clone().move(i,n.offset).difference(e).round(),l=".3em";(o+90)%180==0?(r=t?"end":"middle",t||-270!==o||(l="0em")):o>-270&&o<-90?(r="start",s=o-180):r="end";var u=Math.round;return Rt({x:u(a.x),y:u(a.y),angle:t?s:0,attrs:{".":{y:l,"text-anchor":r}}})}var Gt={manual:function(e,t,n){return Rt(n,t)},left:function(e,t,n){return Rt(n,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},right:function(e,t,n){return Rt(n,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},top:function(e,t,n){return Rt(n,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},bottom:function(e,t,n){return Rt(n,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},outsideOriented:function(e,t,n){return Lt(e,t,!0,n)},outside:function(e,t,n){return Lt(e,t,!1,n)},insideOriented:function(e,t,n){return Ft(e,t,!0,n)},inside:function(e,t,n){return Ft(e,t,!1,n)},radial:function(e,t,n){return Bt(e.difference(t.center()),!1,n)},radialOriented:function(e,t,n){return Bt(e.difference(t.center()),!0,n)}},Ut=Dt.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(e){return this.set({source:{x:0,y:0},target:{x:0,y:0}},e)},source:function(e,t,n){return void 0===e?Le(this.get("source")):e instanceof Dt?((r=Le(t)||{}).id=e.id,this.set("source",r,n)):Ue(e)?this.set("source",r=e,t):((r=Le(t)||{}).x=e.x,r.y=e.y,this.set("source",r,n));var r},target:function(e,t,n){return void 0===e?Le(this.get("target")):e instanceof Dt?((r=Le(t)||{}).id=e.id,this.set("target",r,n)):Ue(e)?this.set("target",r=e,t):((r=Le(t)||{}).x=e.x,r.y=e.y,this.set("target",r,n));var r},router:function(e,t,n){if(void 0===e){var r=this.get("router");return r?"object"==typeof r?Le(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("router",i?e:{name:e,args:t},i?t:n)},connector:function(e,t,n){if(void 0===e){var r=this.get("connector");return r?"object"==typeof r?Le(r):r:this.get("smooth")?{name:"smooth"}:null}var i="object"==typeof e||"function"==typeof e;return this.set("connector",i?e:{name:e,args:t},i?t:n)},label:function(e,t,n){var r=this.labels();return(e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1?this.prop(["labels",e]):this.prop(["labels",e],t,n)},labels:function(e,t){return 0===arguments.length?(e=this.get("labels"),Array.isArray(e)?e.slice():[]):(Array.isArray(e)||(e=[]),this.set("labels",e,t))},insertLabel:function(e,t,n){if(!t)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1),r.splice(e,0,t),this.labels(r,n)},appendLabel:function(e,t){return this.insertLabel(-1,e,t)},removeLabel:function(e,t){var n=this.labels();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.labels(n,t)},vertex:function(e,t,n){var r=this.vertices();if((e=isFinite(e)&&null!==e?0|e:0)<0&&(e=r.length+e),arguments.length<=1)return this.prop(["vertices",e]);var i=this._normalizeVertex(t);return this.prop(["vertices",e],i,n)},vertices:function(e,t){if(0===arguments.length)return e=this.get("vertices"),Array.isArray(e)?e.slice():[];Array.isArray(e)||(e=[]);for(var n=[],r=0;r<e.length;r++){var i=this._normalizeVertex(e[r]);n.push(i)}return this.set("vertices",n,t)},insertVertex:function(e,t,n){if(!t)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;(e=isFinite(e)&&null!==e?0|e:i)<0&&(e=i+e+1);var o=this._normalizeVertex(t);return r.splice(e,0,o),this.vertices(r,n)},removeVertex:function(e,t){var n=this.vertices();return e=isFinite(e)&&null!==e?0|e:-1,n.splice(e,1),this.vertices(n,t)},_normalizeVertex:function(e){return Ue(e)?e:{x:e.x,y:e.y}},translate:function(e,t,n){return(n=n||{}).translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints(function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}},n)},scale:function(e,t,n,r){return this.applyToPoints(function(r){return _(r).scale(e,t,n).toJSON()},r)},applyToPoints:function(e,t){if(!Ge(e))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},r=this.attributes,i=r.source,o=r.target;i.id||(n.source=e(i)),o.id||(n.target=e(o));var s=this.vertices();return s.length>0&&(n.vertices=s.map(e)),this.set(n,t)},getSourcePoint:function(){var e=this.getSourceCell();return e?e.getPointFromConnectedLink(this,"source"):new _(this.source())},getTargetPoint:function(){var e=this.getTargetCell();return e?e.getPointFromConnectedLink(this,"target"):new _(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){var e=[this.getSourcePoint(),this.getTargetPoint()],t=this.vertices();return t.length>0&&Array.prototype.push.apply(e,t.map(_)),new S(e)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(e){var t;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(t=n===r||n.isEmbeddedIn(r)?r:r.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,r)),!i||t&&t.id===i.id||i.unembed(this,e),t&&t.embed(this,e)}return t},hasLoop:function(e){e=e||{};var t=this.attributes,n=t.source.id,r=t.target.id;if(!n||!r)return!1;var i=n===r;if(!i&&e.deep&&this.graph){var o=this.getSourceCell(),s=this.getTargetCell();i=o.isEmbeddedIn(s)||s.isEmbeddedIn(o)}return i},getSourceCell:function(){var e=this.graph,t=this.attributes.source;return t&&t.id&&e&&e.getCell(t.id)||null},getSourceElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getSourceCell()}while(e&&e.isLink());return e},getTargetCell:function(){var e=this.graph,t=this.attributes.target;return t&&t.id&&e&&e.getCell(t.id)||null},getTargetElement:function(){var e=this,t={};do{if(t[e.id])return null;t[e.id]=!0,e=e.getTargetCell()}while(e&&e.isLink());return e},getRelationshipAncestor:function(){var e;if(this.graph){var t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(e){return!!e});e=this.graph.getCommonAncestor.apply(this.graph,t)}return e||null},isRelationshipEmbeddedIn:function(e){var t=ct(e)||ut(e)?e:e.id,n=this.getRelationshipAncestor();return!!n&&(n.id===t||n.isEmbeddedIn(t))},_getDefaultLabel:function(){var e=this.get("defaultLabel")||this.defaultLabel||{},t={};return t.markup=e.markup||this.get("labelMarkup")||this.labelMarkup,t.position=e.position,t.attrs=e.attrs,t.size=e.size,t}},{endsEqual:function(e,t){return e.id===t.id&&(e.port===t.port||!e.port&&!t.port)}}),Zt=function(e){var t=ze(e)||{};this.ports=[],this.groups={},this.portLayoutNamespace=jt,this.portLabelLayoutNamespace=Gt,this._init(t)};Zt.prototype={getPorts:function(){return this.ports},getGroup:function(e){return this.groups[e]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(e,t){var n=this.getGroup(e),r=this.getPortsByGroup(e),i=n.position||{},o=i.name,s=this.portLayoutNamespace;s[o]||(o="left");var a=i.args||{},l=r.map(function(e){return e&&e.position&&e.position.args}),u=s[o](l,t,a),c={ports:r,result:[]};return Ze(u).reduce((function(e,n,r){var i=e.ports[r];return e.result.push({portId:i.id,portTransformation:n,labelTransformation:this._getPortLabelLayout(i,_(n),t),portAttrs:i.attrs,portSize:i.size,labelSize:i.label.size}),e}).bind(this),c),c.result},_getPortLabelLayout:function(e,t,n){var r=this.portLabelLayoutNamespace,i=e.label.position.name||"left";return r[i]?r[i](t,n,e.label.position.args):null},_init:function(e){if(lt(e.groups))for(var t=Object.keys(e.groups),n=0,r=t.length;n<r;n++){var i=t[n];this.groups[i]=this._evaluateGroup(e.groups[i])}for(var o=Ze(e.items),s=0,a=o.length;s<a;s++)this.ports.push(this._evaluatePort(o[s]))},_evaluateGroup:function(e){return st(e,{position:this._getPosition(e.position,!0),label:this._getLabel(e,!0)})},_evaluatePort:function(e){var t=Pe({},e),n=this.getGroup(e.group);return t.markup=t.markup||n.markup,t.attrs=st({},n.attrs,t.attrs),t.position=this._createPositionNode(n,t),t.label=st({},n.label,this._getLabel(t)),t.z=this._getZIndex(n,t),t.size=Pe({},n.size,t.size),t},_getZIndex:function(e,t){return ut(t.z)?t.z:ut(e.z)||"auto"===e.z?e.z:"auto"},_createPositionNode:function(e,t){return st({name:"left",args:{}},e.position,{args:t.args})},_getPosition:function(e,t){var n,r={};Ge(e)?(n="fn",r.fn=e):ct(e)?n=e:void 0===e?n=t?"left":null:Array.isArray(e)?(n="absolute",r.x=e[0],r.y=e[1]):lt(e)&&(n=e.name,Pe(r,e.args));var i={args:r};return n&&(i.name=n),i},_getLabel:function(e,t){var n=e.label||{},r=n;return r.position=this._getPosition(n.position,t),r}};var Wt={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var e=this.get("ports")||{},t={};Ze(e.items).forEach(function(e){t[e.id]=!0});var n=this.previous("ports")||{},r={};Ze(n.items).forEach(function(e){t[e.id]||(r[e.id]=!0)});var i=this.graph;i&&!Fe(r)&&(i.getConnectedLinks(this,{inbound:!0}).forEach(function(e){r[e.get("target").port]&&e.remove()}),i.getConnectedLinks(this,{outbound:!0}).forEach(function(e){r[e.get("source").port]&&e.remove()}))},hasPorts:function(){var e=this.prop("ports/items");return Array.isArray(e)&&e.length>0},hasPort:function(e){return-1!==this.getPortIndex(e)},getPorts:function(){return ze(this.prop("ports/items"))||[]},getPort:function(e){return ze(Ze(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(e){return this._portSettingsData.getGroupPortsMetrics(e,D(this.size())).reduce(function(e,t){var n=t.portTransformation;return e[t.portId]={x:n.x,y:n.y,angle:n.angle},e},{})},getPortIndex:function(e){var t=lt(e)?e.id:e;return this._isValidPortId(t)?Ze(this.prop("ports/items")).findIndex(function(e){return e.id===t}):-1},addPort:function(e,t){if(!lt(e)||Array.isArray(e))throw new Error("Element: addPort requires an object.");var n=Pe([],this.prop("ports/items"));return n.push(e),this.prop("ports/items",n,t),this},portProp:function(e,t,n,r){var i=this.getPortIndex(e);if(-1===i)throw new Error("Element: unable to find port with id "+e);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(t)?o[0]=["ports","items",i].concat(t):ct(t)?o[0]=["ports/items/",i,"/",t].join(""):(o=["ports/items/"+i],Ue(t)&&(o.push(t),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var e=this.get("ports")||{},t=[],n=Ze((e=e||{}).items);return n.forEach(function(e){"object"!=typeof e&&t.push("Element: invalid port ",e),this._isValidPortId(e.id)||(e.id=this.generatePortId())},this),Re(n,"id").length!==n.length&&t.push("Element: found id duplicities in ports."),t},generatePortId:function(){return this.generateId()},_isValidPortId:function(e){return null!=e&&!lt(e)},addPorts:function(e,t){return e.length&&this.prop("ports/items",Pe([],this.prop("ports/items")).concat(e),t),this},removePort:function(e,t){var n=t||{},r=Pe([],this.prop("ports/items")),i=this.getPortIndex(e);return-1!==i&&(r.splice(i,1),n.rewrite=!0,this.prop("ports/items",r,n)),this},removePorts:function(e,t){var n;if(Array.isArray(e)){if(n=t||{},e.length){n.rewrite=!0;var r=Pe([],this.prop("ports/items")).filter(function(t){return!e.some(function(e){var n=lt(e)?e.id:e;return t.id===n})});this.prop("ports/items",r,n)}}else(n=e||{}).rewrite=!0,this.prop("ports/items",[],n);return this},_createPortData:function(){var e,t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new Zt(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter(function(t){if(!e.find(function(e){return e.id===t.id}))return t}),i=e.filter(function(e){if(!n.find(function(t){return t.id===e.id}))return e});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},Vt={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var e=[],t=this._getContainerElement(),n=0,r=t.node.childNodes.length;n<r;n++)e.push(t.node.childNodes[n]);var i=Ve(this.model._portSettingsData.getPorts(),"z");Ze(i.auto).forEach(function(n){var r=this._getPortElement(n);t.append(r),e.push(r)},this);for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s];if("auto"!==a){var l=parseInt(a,10);this._appendPorts(i[a],l,e)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(e,t,n){var r=this._getContainerElement(),i=Ze(e).map(this._getPortElement,this);n[t]||t<0?Q(n[Math.max(t,0)]).before(i):r.append(i)},_getPortElement:function(e){return this._portElementsCache[e.id]?this._portElementsCache[e.id].portElement:this._createPortElement(e)},findPortNode:function(e,t){var n=this._portElementsCache[e];return n?this.findBySelector(t,n.portContentElement.node,n.portContentSelectors)[0]:null},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){Ee(this._portElementsCache,"portElement.remove")},_createPortElement:function(e){var t,n,r,i=Q(this.portContainerMarkup).addClass("joint-port"),o=this._getPortMarkup(e);if(Array.isArray(o)){var s=this.parseDOMJSON(o,i.node),a=s.fragment;t=a.childNodes.length>1?Q("g").append(a):Q(a.firstChild),r=s.selectors}else t=Q(o),Array.isArray(t)&&(t=Q("g").append(t));if(!t)throw new Error("ElementView: Invalid port markup.");t.attr({port:e.id,"port-group":e.group});var l,u,c=this._getPortLabelMarkup(e.label);if(Array.isArray(c)){var h=this.parseDOMJSON(c,i.node),d=h.fragment;n=d.childNodes.length>1?Q("g").append(d):Q(d.firstChild),l=h.selectors}else n=Q(c),Array.isArray(n)&&(n=Q("g").append(n));if(!n)throw new Error("ElementView: Invalid port label markup.");if(r&&l){for(var p in l)if(r[p]&&p!==this.selector)throw new Error("ElementView: selectors within port must be unique.");u=Pe({},r,l)}else u=r||l;return i.append([t.addClass("joint-port-body"),n.addClass("joint-port-label")]),this._portElementsCache[e.id]={portElement:i,portLabelElement:n,portSelectors:u,portLabelSelectors:l,portContentElement:t,portContentSelectors:r},i},_updatePortGroup:function(e){for(var t=D(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(e,t),r=0,i=n.length;r<i;r++){var o=n[r],s=this._portElementsCache[o.portId]||{},a=o.portTransformation;this.applyPortTransform(s.portElement,a),this.updateDOMSubtreeAttributes(s.portElement.node,o.portAttrs,{rootBBox:new D(o.portSize),selectors:s.portSelectors});var l=o.labelTransformation;l&&(this.applyPortTransform(s.portLabelElement,l,-a.angle||0),this.updateDOMSubtreeAttributes(s.portLabelElement.node,l.attrs,{rootBBox:new D(o.labelSize),selectors:s.portLabelSelectors}))}},applyPortTransform:function(e,t,n){var r=Q.createSVGMatrix().rotate(n||0).translate(t.x||0,t.y||0).rotate(t.angle||0);e.transform(r,{absolute:!0})},_getPortMarkup:function(e){return e.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(e){return e.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},Yt=Dt.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Dt.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(e,t,n){var r=ut(t);if((n=(r?n:e)||{}).parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var i=this.getParentCell(),o=i&&!i.isLink()?i.get("position"):{x:0,y:0}}if(r){if(n.parentRelative&&(e+=o.x,t+=o.y),n.deep){var s=this.get("position");this.translate(e-s.x,t-s.y,n)}else this.set("position",{x:e,y:t},n);return this}var a=_(this.get("position"));return n.parentRelative?a.difference(o):a},translate:function(e,t,n){if(t=t||0,0===(e=e||0)&&0===t)return this;(n=n||{}).translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0};if(n.restrictedArea&&n.translateBy===this.id){var i=this.getBBox({deep:!0}),o=n.restrictedArea,s=r.x-i.x,a=r.y-i.y,l=Math.max(o.x+s,Math.min(o.x+o.width+s-i.width,r.x+e)),u=Math.max(o.y+a,Math.min(o.y+o.height+a-i.height,r.y+t));e=l-r.x,t=u-r.y}var c={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?(lt(n.transition)||(n.transition={}),this.transition("position",c,Pe({},n.transition,{valueFunction:xe.object})),Ee(this.getEmbeddedCells(),"translate",e,t,n)):(this.startBatch("translate",n),this.set("position",c,n),Ee(this.getEmbeddedCells(),"translate",e,t,n),this.stopBatch("translate",n)),this},size:function(e,t,n){var r=this.get("size");return void 0===e?{width:r.width,height:r.height}:(lt(e)&&(n=t,t=ut(e.height)?e.height:r.height,e=ut(e.width)?e.width:r.width),this.resize(e,t,n))},resize:function(e,t,n){if(this.startBatch("resize",n=n||{}),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":t=r.height;break;case"top":case"bottom":e=r.width}var i=T(this.get("angle")||0),o={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(o+=Math.floor((i+45)/90),o%=4);var s=this.getBBox(),a=s[["bottomLeft","corner","topRight","origin"][o]](),l=_(a).rotate(s.center(),-i),u=Math.sqrt(e*e+t*t)/2,c=o*Math.PI/2;c+=Math.atan(o%2==0?t/e:e/t),c-=P(i);var h=_.fromPolar(u,c,l),d=_(h).offset(e/-2,t/-2);this.set("size",{width:e,height:t},n),this.position(d.x,d.y,n)}else this.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this},scale:function(e,t,n,r){var i=this.getBBox().scale(e,t,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(e){void 0===e&&(e={});var t=this.graph;if(!t)throw new Error("Element must be part of a graph.");var n=this.getEmbeddedCells().filter(function(e){return e.isElement()});if(0===n.length)return this;this.startBatch("fit-embeds",e),e.deep&&Ee(n,"fitEmbeds",e);var r=Ce(e.padding),i=r.left,o=r.right,s=r.top,a=r.bottom,l=t.getCellsBBox(n),u=l.x,c=l.y,h=l.width,d=l.height;return this.set({position:{x:u-=i,y:c-=s},size:{width:h+=i+o,height:d+=a+s}},e),this.stopBatch("fit-embeds"),this},rotate:function(e,t,n,r){if(n){var i=this.getBBox().center(),o=this.get("size"),s=this.get("position");i.rotate(n,this.get("angle")-e);var a=i.x-o.width/2-s.x,l=i.y-o.height/2-s.y;this.startBatch("rotate",{angle:e,absolute:t,origin:n}),this.position(s.x+a,s.y+l,r),this.rotate(e,t,null,r),this.stopBatch("rotate")}else this.set("angle",t?e:(this.get("angle")+e)%360,r);return this},angle:function(){return T(this.get("angle")||0)},getBBox:function(e){if((e=e||{}).deep&&this.graph){var t=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return t.push(this),this.graph.getCellsBBox(t)}var n=this.get("position"),r=this.get("size");return new D(n.x,n.y,r.width,r.height)},getPointFromConnectedLink:function(e,t){var n=this.getBBox(),r=n.center(),i=e.get(t);if(!i)return r;var o=i.port;if(!o)return r;var s=this.portProp(o,["group"]),a=this.getPortsPositions(s),l=new _(a[o]).offset(n.origin()),u=this.angle();return u&&l.rotate(r,-u),l}});Pe(Yt.prototype,Wt);var Ht=t.Collection.extend({initialize:function(e,t){this.cellNamespace=t.cellNamespace?t.cellNamespace:"undefined"!=typeof joint&&Qe(joint,"shapes")?joint.shapes:null,this.graph=t.graph},model:function(e,t){var n=t.collection,r=new("link"===e.type?Ut:ie(n.cellNamespace,e.type,".")||Yt)(e,t);return t.dry||(r.graph=n.graph),r},comparator:function(e){return e.get("z")||0}}),qt=t.Model.extend({_batches:{},initialize:function(e,n){var r=new Ht([],{model:(n=n||{}).cellModel,cellNamespace:n.cellNamespace,graph:this});t.Model.prototype.set.call(this,"cells",r),r.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},r.on("add",this._restructureOnAdd,this),r.on("remove",this._restructureOnRemove,this),r.on("reset",this._restructureOnReset,this),r.on("change:source",this._restructureOnChangeSource,this),r.on("change:target",this._restructureOnChangeTarget,this),r.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(e){if(e.isLink()){this._edges[e.id]=!0;var t=e.attributes,n=t.source,r=t.target;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0),r.id&&((this._in[r.id]||(this._in[r.id]={}))[e.id]=!0)}else this._nodes[e.id]=!0},_restructureOnRemove:function(e){if(e.isLink()){delete this._edges[e.id];var t=e.attributes,n=t.source,r=t.target;n.id&&this._out[n.id]&&this._out[n.id][e.id]&&delete this._out[n.id][e.id],r.id&&this._in[r.id]&&this._in[r.id][e.id]&&delete this._in[r.id][e.id]}else delete this._nodes[e.id]},_restructureOnReset:function(e){e=e.models,this._out={},this._in={},this._nodes={},this._edges={},e.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(e){var t=e.previous("source");t.id&&this._out[t.id]&&delete this._out[t.id][e.id];var n=e.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[e.id]=!0)},_restructureOnChangeTarget:function(e){var t=e.previous("target");t.id&&this._in[t.id]&&delete this._in[t.id][e.id];var n=e.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[e.id]=!0)},getOutboundEdges:function(e){return this._out&&this._out[e]||{}},getInboundEdges:function(e){return this._in&&this._in[e]||{}},toJSON:function(){var e=t.Model.prototype.toJSON.apply(this,arguments);return e.cells=this.get("cells").toJSON(),e},fromJSON:function(e,t){if(!e.cells)throw new Error("Graph JSON must contain cells array.");return this.set(e,t)},set:function(e,n,r){var i;return"object"==typeof e?(i=e,r=n):(i={})[e]=n,i.hasOwnProperty("cells")&&(this.resetCells(i.cells,r),i=et(i,"cells")),t.Model.prototype.set.call(this,i,r)},clear:function(e){e=Pe({},e,{clear:!0});var t=this.get("cells");if(0===t.length)return this;this.startBatch("clear",e);var n=t.sortBy(function(e){return e.isLink()?1:2});do{n.shift().remove(e)}while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(e,n){var r;if(e instanceof t.Model?(r=e.attributes,e.graph||n&&n.dry||(e.graph=this)):r=e,!ct(r.type))throw new TypeError("dia.Graph: cell type must be a string.");return e},minZIndex:function(){var e=this.get("cells").first();return e&&e.get("z")||0},maxZIndex:function(){var e=this.get("cells").last();return e&&e.get("z")||0},addCell:function(e,n){return Array.isArray(e)?this.addCells(e,n):(e instanceof t.Model?e.has("z")||e.set("z",this.maxZIndex()+1):void 0===e.z&&(e.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(e,n),n||{}),this)},addCells:function(e,t){return 0===e.length?this:(e=He(e),t.maxPosition=t.position=e.length-1,this.startBatch("add",t),e.forEach(function(e){this.addCell(e,t),t.position--},this),this.stopBatch("add",t),this)},resetCells:function(e,t){var n=Ze(e).map(function(e){return this._prepareCell(e,t)},this);return this.get("cells").reset(n,t),this},removeCells:function(e,t){return e.length&&(this.startBatch("remove"),Ee(e,"remove",t),this.stopBatch("remove")),this},_removeCell:function(e,t,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(e,n):this.removeLinks(e,n)),this.get("cells").remove(e,{silent:!0}),e.graph===this&&(e.graph=null)},getCell:function(e){return this.get("cells").get(e)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return Object.keys(this._nodes).map(this.getCell,this)},getLinks:function(){return Object.keys(this._edges).map(this.getCell,this)},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(e,t){var n=(t=t||{}).indirect,r=t.inbound,i=t.outbound;void 0===r&&void 0===i&&(r=i=!0);var o=[],s={};function a(e,t){if(rt(e.getOutboundEdges(t.id),(function(t,u){if(!s[u]){var c=e.getCell(u);o.push(c),s[u]=!0,n&&(r&&l(e,c),i&&a(e,c))}}).bind(e)),n&&t.isLink()){var u=t.getTargetCell();u&&u.isLink()&&(s[u.id]||(o.push(u),a(e,u)))}}function l(e,t){if(rt(e.getInboundEdges(t.id),(function(t,u){if(!s[u]){var c=e.getCell(u);o.push(c),s[u]=!0,n&&(r&&l(e,c),i&&a(e,c))}}).bind(e)),n&&t.isLink()){var u=t.getSourceCell();u&&u.isLink()&&(s[u.id]||(o.push(u),l(e,u)))}}if(i&&a(this,e),r&&l(this,e),t.deep){var u=e.getEmbeddedCells({deep:!0}),c={};u.forEach(function(e){e.isElement()&&(c[e.id]=!0)}),u.forEach(function(e){e.isLink()||(i&&rt(this.getOutboundEdges(e.id),(function(e,n){if(!s[n]){var r=this.getCell(n).attributes,i=r.source.id,a=r.target.id;if(!t.includeEnclosed&&i&&c[i]&&a&&c[a])return;o.push(this.getCell(n)),s[n]=!0}}).bind(this)),r&&rt(this.getInboundEdges(e.id),(function(e,n){if(!s[n]){var r=this.getCell(n).attributes,i=r.source.id,a=r.target.id;if(!t.includeEnclosed&&i&&c[i]&&a&&c[a])return;o.push(this.getCell(n)),s[n]=!0}}).bind(this)))},this)}return o},getNeighbors:function(e,t){t||(t={});var n=t.inbound,r=t.outbound;void 0===n&&void 0===r&&(n=r=!0);var i=this.getConnectedLinks(e,t).reduce((function(i,o){var s=o.attributes,a=s.source,l=s.target,u=o.hasLoop(t);if(n&&Qe(a,"id")&&!i[a.id]){var c=this.getCell(a.id);c.isElement()&&(!u&&(!c||c===e||t.deep&&c.isEmbeddedIn(e))||(i[a.id]=c))}if(r&&Qe(l,"id")&&!i[l.id]){var h=this.getCell(l.id);h.isElement()&&(!u&&(!h||h===e||t.deep&&h.isEmbeddedIn(e))||(i[l.id]=h))}return i}).bind(this),{});if(e.isLink()){if(n){var o=e.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(r){var s=e.getTargetCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}}return Ze(i)},getCommonAncestor:function(){var e=Array.from(arguments).map(function(e){for(var t=[],n=e.get("parent");n;)t.push(n),n=this.getCell(n).get("parent");return t},this);e=e.sort(function(e,t){return e.length-t.length});var t=Ze(e.shift()).find(function(t){return e.every(function(e){return e.includes(t)})});return this.getCell(t)},getSuccessors:function(e,t){var n=[];return this.search(e,function(t){t!==e&&n.push(t)},Pe({},t=t||{},{outbound:!0})),n},cloneCells:dt,cloneSubgraph:function(e,t){var n=this.getSubgraph(e,t);return this.cloneCells(n)},getSubgraph:function(e,t){t=t||{};var n=[],r={},i=[],o=[];return Ze(e).forEach(function(e){r[e.id]||(n.push(e),r[e.id]=e,e.isLink()?o.push(e):i.push(e)),t.deep&&e.getEmbeddedCells({deep:!0}).forEach(function(e){r[e.id]||(n.push(e),r[e.id]=e,e.isLink()?o.push(e):i.push(e))})}),o.forEach(function(e){var t=e.attributes,o=t.source,s=t.target;if(o.id&&!r[o.id]){var a=this.getCell(o.id);n.push(a),r[a.id]=a,i.push(a)}if(s.id&&!r[s.id]){var l=this.getCell(s.id);n.push(this.getCell(s.id)),r[l.id]=l,i.push(l)}},this),i.forEach(function(e){this.getConnectedLinks(e,t).forEach(function(e){var t=e.attributes,i=t.source,o=t.target;!r[e.id]&&i.id&&r[i.id]&&o.id&&r[o.id]&&(n.push(e),r[e.id]=e)})},this),n},getPredecessors:function(e,t){var n=[];return this.search(e,function(t){t!==e&&n.push(t)},Pe({},t=t||{},{inbound:!0})),n},search:function(e,t,n){(n=n||{}).breadthFirst?this.bfs(e,t,n):this.dfs(e,t,n)},bfs:function(e,t,n){void 0===n&&(n={});var r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.shift();if(!r[s.id]&&(r[s.id]=!0,!1!==t.call(this,s,i[s.id])))for(var a=this.getNeighbors(s,n),l=0,u=a.length;l<u;l++){var c=a[l];i[c.id]=i[s.id]+1,o.push(c)}}},dfs:function(e,t,n){void 0===n&&(n={});var r={},i={},o=[];for(o.push(e),i[e.id]=0;o.length>0;){var s=o.pop();if(!r[s.id]&&(r[s.id]=!0,!1!==t.call(this,s,i[s.id])))for(var a=this.getNeighbors(s,n),l=o.length,u=0,c=a.length;u<c;u++){var h=a[u];i[h.id]=i[s.id]+1,o.splice(l,0,h)}}},getSources:function(){var e=[];return rt(this._nodes,(function(t,n){this._in[n]&&!Fe(this._in[n])||e.push(this.getCell(n))}).bind(this)),e},getSinks:function(){var e=[];return rt(this._nodes,(function(t,n){this._out[n]&&!Fe(this._out[n])||e.push(this.getCell(n))}).bind(this)),e},isSource:function(e){return!this._in[e.id]||Fe(this._in[e.id])},isSink:function(e){return!this._out[e.id]||Fe(this._out[e.id])},isSuccessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(e,t){var n=!1;return this.search(e,function(r){if(r===t&&r!==e)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(e,t,n){var r=(n=n||{}).inbound,i=n.outbound;void 0===r&&void 0===i&&(r=i=!0);var o=!1;return this.getConnectedLinks(e,n).forEach(function(e){var n=e.attributes,s=n.source,a=n.target;return r&&Qe(s,"id")&&s.id===t.id?(o=!0,!1):i&&Qe(a,"id")&&a.id===t.id?(o=!0,!1):void 0}),o},disconnectLinks:function(e,t){this.getConnectedLinks(e).forEach(function(n){n.set(n.attributes.source.id===e.id?"source":"target",{x:0,y:0},t)})},removeLinks:function(e,t){Ee(this.getConnectedLinks(e),"remove",t)},findModelsFromPoint:function(e){return this.getElements().filter(function(t){return t.getBBox().containsPoint(e)})},findModelsInArea:function(e,t){e=R(e);var n=(t=Me(t||{},{strict:!1})).strict?"containsRect":"intersect";return this.getElements().filter(function(t){return e[n](t.getBBox())})},findModelsUnderElement:function(e,t){t=Me(t||{},{searchBy:"bbox"});var n=e.getBBox();return("bbox"===t.searchBy?this.findModelsInArea(n):this.findModelsFromPoint(n[t.searchBy]())).filter(function(t){return e.id!==t.id&&!t.isEmbeddedIn(e)})},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(e,t){return t||(t={}),Ze(e).reduce(function(e,n){var r=n.getBBox(t);if(!r)return e;var i=n.angle();return i&&(r=r.bbox(i)),e?e.union(r):r},null)},translate:function(e,t,n){var r=this.getCells().filter(function(e){return!e.isEmbedded()});return Ee(r,"translate",e,t,n),this},resize:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)},resizeCells:function(e,t,n,r){var i=this.getCellsBBox(n);if(i){var o=Math.max(e/i.width,0),s=Math.max(t/i.height,0);Ee(n,"scale",o,s,i.origin(),r)}return this},startBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)+1,this.trigger("batch:start",Pe({},t,{batchName:e}))},stopBatch:function(e,t){return t=t||{},this._batches[e]=(this._batches[e]||0)-1,this.trigger("batch:stop",Pe({},t,{batchName:e}))},hasActiveBatch:function(e){var t=this._batches;return(0===arguments.length?Ze(t):Array.isArray(e)?e:[e]).some(function(e){return t[e]>0})}},{validations:{multiLinks:function(e,t){var n=t.attributes,r=n.source,i=n.target;if(r.id&&i.id){var o=t.getSourceCell();if(o&&e.getConnectedLinks(o,{outbound:!0}).filter(function(e){var t=e.attributes,n=t.source,o=t.target;return n&&n.id===r.id&&(!n.port||n.port===r.port)&&o&&o.id===i.id&&(!o.port||o.port===i.port)}).length>1)return!1}return!0},linkPinning:function(e,t){var n=t.attributes;return n.source.id&&n.target.id}}});Tt(qt.prototype,["resetCells","addCells","removeCells"],kt.cells);var Xt={},Kt=t.View.extend({options:{},theme:null,themeClassNamePrefix:ee("theme-"),requireSetThemeOverride:!1,defaultTheme:$.defaultTheme,children:null,childNodes:null,UPDATE_PRIORITY:2,constructor:function(e){this.requireSetThemeOverride=e&&!!e.theme,this.options=Pe({},this.options,e),t.View.call(this,e)},initialize:function(){Xt[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},renderChildren:function(e){if(e||(e=$e(this,"children")),e){var t=this.svgElement,n=ne(e,Q.namespace[t?"svg":"xhtml"]);(t?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors}return this},findAttribute:function(e,t){for(var n=t;n&&1===n.nodeType;){var r=n.getAttribute(e);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement($e(this,"el"));else{var e=$e(this,"tagName"),t=Pe({},$e(this,"attributes")),n=Pe({},$e(this,"style"));this.id&&(t.id=$e(this,"id")),this.setElement(this._createElement(e)),this._setAttributes(t),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(e){this.svgElement?this.vel.attr(e):this.$el.attr(e)},_setStyle:function(e){this.$el.css(e)},_createElement:function(e){return this.svgElement?document.createElementNS(Q.namespace.svg,e):document.createElement(e)},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],this.svgElement&&(this.vel=Q(this.el))},_ensureElClassName:function(){var e=$e(this,"className");if(e){var t=ee(e);this.svgElement?this.vel.removeClass(e).addClass(t):this.$el.removeClass(e).addClass(t)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(e,t){return t=t||{},this.theme&&this.requireSetThemeOverride&&!t.override?this:(this.removeThemeClassName(),this.addThemeClassName(e),this.onSetTheme(this.theme,e),this.theme=e,this)},addThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.addClass(t):this.$el.addClass(t),this},removeThemeClassName:function(e){var t=this.themeClassNamePrefix+(e=e||this.theme);return this.svgElement?this.vel.removeClass(t):this.$el.removeClass(t),this},onSetTheme:function(e,t){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Xt[this.cid]=null,t.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(e,t,n){if(!t)return this;n||(n={});var i=this.getEventNamespace();for(var o in t){var s=t[o];"function"!=typeof s&&(s=this[s]),s&&r(e).on(o+i,n,s.bind(this))}return this},undelegateElementEvents:function(e){return r(e).off(this.getEventNamespace()),this},delegateDocumentEvents:function(e,t){return e||(e=$e(this,"documentEvents")),this.delegateElementEvents(document,e,t)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(e,t){if(!e)throw new Error("eventData(): event object required.");var n=e.data,r="__"+this.cid+"__";return void 0===t?n&&n[r]||{}:(n||(n=e.data={}),n[r]||(n[r]={}),Pe(n[r],t),this)},stopPropagation:function(e){return this.eventData(e,{propagationStopped:!0}),this},isPropagationStopped:function(e){return!!this.eventData(e).propagationStopped}},{extend:function(){var e=Array.from(arguments),n=e[0]&&Pe({},e[0])||{},r=e[1]&&Pe({},e[1])||{},i=n.render||this.prototype&&this.prototype.render||null;return n.render=function(){return"function"==typeof i&&i.apply(this,arguments),this.render.__render__===i&&this.onRender(),this},n.render.__render__=i,t.View.extend.call(this,n,r)}}),Jt={views:Xt,View:Kt},Qt=Kt.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var e=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(t,n,r){e.push("type-"+r.slice(0,n+1).join("-"))}),e.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var e,t,n,r={},i={},o=0,s=this.presentationAttributes;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];for(Array.isArray(l)||(l=[l]),e=0,t=l.length;e<t;e++){var u=r[n=l[e]];u||(u=r[n]=1<<o++),i[a]|=u}}var c=this.initFlag;for(Array.isArray(c)||(c=[c]),e=0,t=c.length;e<t;e++)r[n=c[e]]||(r[n]=1<<o++);if(o>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=r,this._presentationAttributes=i},hasFlag:function(e,t){return e&this.getFlag(t)},removeFlag:function(e,t){return e^e&this.getFlag(t)},getFlag:function(e){var t=this._flags;if(!t)return 0;var n=0;if(Array.isArray(e))for(var r=0,i=e.length;r<i;r++)n|=t[e[r]];else n|=t[e];return n},attributes:function(){var e=this.model;return{"model-id":e.id,"data-type":e.attributes.type}},constructor:function(e){e.id=e.id||ue(this),Kt.call(this,e)},initialize:function(){this.setFlags(),Kt.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(e,t){var n=e.getChangeFlag(this._presentationAttributes);if(!t.updateHandled&&n){t.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),t.tool&&(t.async=!1);var r=this.paper;r&&r.requestViewUpdate(this,n,this.UPDATE_PRIORITY,t)}},parseDOMJSON:function(e,t){var n=ne(e),r=n.selectors,i=n.groupSelectors;for(var o in i){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=i[o]}if(t){var s=this.selector;if(r[s])throw new Error("dia.CellView: ambiguous root selector.");r[s]=t}return{fragment:n.fragment,selectors:r}},can:function(e){var t=Ge(this.options.interactive)?this.options.interactive(this):this.options.interactive;return lt(t)&&!1!==t[e]||at(t)&&!1!==t},findBySelector:function(e,t,n){if(t||(t=this.el),n||(n=this.selectors),!e||"."===e)return[t];if(n){var i=n[e];if(i)return Array.isArray(i)?i:[i]}return $.useCSSSelectors?r(t).find(e).toArray():[]},notify:function(e){if(this.paper){var t=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[e].concat(t)),this.paper.trigger.apply(this.paper,[e,this].concat(t))}},getBBox:function(e){var t;if(e&&e.useModelGeometry){var n=this.model;t=n.getBBox().bbox(n.angle())}else t=this.getNodeBBox(this.el);return this.paper.localToPaperRect(t)},getNodeBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix(),i=this.getRootRotateMatrix();return Q.transformRect(t,r.multiply(i).multiply(n))},getNodeUnrotatedBBox:function(e){var t=this.getNodeBoundingRect(e),n=this.getNodeMatrix(e),r=this.getRootTranslateMatrix();return Q.transformRect(t,r.multiply(n))},getRootTranslateMatrix:function(){var e=this.model.position();return Q.createSVGMatrix().translate(e.x,e.y)},getRootRotateMatrix:function(){var e=Q.createSVGMatrix(),t=this.model,n=t.angle();if(n){var r=t.getBBox(),i=r.width/2,o=r.height/2;e=e.translate(i,o).rotate(n).translate(-i,-o)}return e},highlight:function(e,t){return e=e&&this.$(e)[0]||this.el,(t=t||{}).partial=e!==this.el,this.notify("cell:highlight",e,t),this},unhighlight:function(e,t){return e=e&&this.$(e)[0]||this.el,(t=t||{}).partial=e!=this.el,this.notify("cell:unhighlight",e,t),this},findMagnet:function(e){var t=this.$(e),n=this.$el;0===t.length&&(t=n);do{var r=t.attr("magnet");if((r||t.is(n))&&"false"!==r)return t[0];t=t.parent()}while(t.length>0)},getSelector:function(e,t){var n;if(e===this.el)return"string"==typeof t&&(n="> "+t),n;if(e){var r=Q(e).index()+1;n=e.tagName+":nth-child("+r+")",t&&(n+=" > "+t),n=this.getSelector(e.parentNode,n)}return n},getLinkEnd:function(e,t,n,r,i){var o=this.model,s=o.id,a=this.findAttribute("port",e),l=e.getAttribute("joint-selector"),u={id:s};null!=l&&(u.magnet=l),null!=a?(u.port=a,o.hasPort(a)||l||(u.selector=this.getSelector(e))):null==l&&this.el!==e&&(u.selector=this.getSelector(e));var c=this.paper,h=c.options.connectionStrategy;if("function"==typeof h){var d=h.call(c,u,this,e,new _(t,n),r,i,c);d&&(u=d)}return u},getMagnetFromLinkEnd:function(e){var t,n=this.el,r=e.port,i=e.magnet,o=this.model;return null!=r&&o.isElement()&&o.hasPort(r)?t=this.findPortNode(r,i)||n:(i||(i=e.selector),i||null==r||(i='[port="'+r+'"]'),t=this.findBySelector(i,n,this.selectors)[0]),t},getAttributeDefinition:function(e){return this.model.constructor.getAttributeDefinition(e)},setNodeAttributes:function(e,t){Fe(t)||(e instanceof SVGElement?Q(e).attr(t):r(e).attr(t))},processNodeAttributes:function(e,t){var n,r,i,o,s,a,l,u,c,h=[];for(n in t)t.hasOwnProperty(n)&&(r=t[n],!(i=this.getAttributeDefinition(n))||Ge(i.qualify)&&!i.qualify.call(this,r,e,t)?(a||(a={}),a[ce(n)]=r):(ct(i.set)&&(a||(a={}),a[i.set]=r),null!==r&&h.push(n,i)));for(o=0,s=h.length;o<s;o+=2)r=t[n=h[o]],Ge((i=h[o+1]).set)&&(l||(l={}),l[n]=r),Ge(i.position)&&(u||(u={}),u[n]=r),Ge(i.offset)&&(c||(c={}),c[n]=r);return{raw:t,normal:a,set:l,position:u,offset:c}},updateRelativeAttributes:function(e,t,n,r){var i,o;r||(r={});var s=t.raw||{},a=t.normal||{},l=t.set,u=t.position,c=t.offset;for(i in l){o=l[i];var h=this.getAttributeDefinition(i).set.call(this,o,n.clone(),e,s);lt(h)?Pe(a,h):void 0!==h&&(a[i]=h)}if(e instanceof HTMLElement)this.setNodeAttributes(e,a);else{var d,p,f,g=a.transform,m=Q.transformStringToMatrix(g),v=_(m.e,m.f);if(g&&(a=et(a,"transform"),m.e=m.f=0),u||c){var y=this.getNodeScale(e,r.scalableNode);d=y.sx,p=y.sy}var b=!1;for(i in u)o=u[i],(f=this.getAttributeDefinition(i).position.call(this,o,n.clone(),e,s))&&(v.offset(_(f).scale(d,p)),b||(b=!0));this.setNodeAttributes(e,a);var w=!1;if(c){var C=this.getNodeBoundingRect(e);if(C.width>0&&C.height>0){var I=Q.transformRect(C,m).scale(1/d,1/p);for(i in c)o=c[i],(f=this.getAttributeDefinition(i).offset.call(this,o,I,e,s))&&(v.offset(_(f).scale(d,p)),w||(w=!0))}}(void 0!==g||b||w)&&(v.round(1),m.e=v.x,m.f=v.y,e.setAttribute("transform",Q.matrixToTransformString(m)))}},getNodeScale:function(e,t){var n,r;if(t&&t.contains(e)){var i=t.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(e){var t=this.metrics;if(!t)return{};var n=Q.ensureId(e),r=t[n];return r||(r=t[n]={}),r},getNodeData:function(e){var t=this.nodeCache(e);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(e){var t=this.nodeCache(e);return void 0===t.boundingRect&&(t.boundingRect=Q(e).getBBox()),new D(t.boundingRect)},getNodeMatrix:function(e){var t=this.nodeCache(e);if(void 0===t.magnetMatrix){var n=this.rotatableNode||this.el;t.magnetMatrix=Q(e).getTransformToElement(n)}return Q.createSVGMatrix(t.magnetMatrix)},getNodeShape:function(e){var t=this.nodeCache(e);return void 0===t.geometryShape&&(t.geometryShape=Q(e).toGeometryShape()),t.geometryShape.clone()},isNodeConnection:function(e){return this.model.isLink()&&(!e||e===this.el)},findNodesAttributes:function(e,t,n,r){var i,o,s,a,l={},u=[];for(var c in e)if(e.hasOwnProperty(c)&&Ue(s=e[c])){var h=n[c]=this.findBySelector(c,t,r);for(i=0,o=h.length;i<o;i++){var d=h[i];a=Q.ensureId(d);var p=r&&r[c]===d,f=l[a];if(f){f.array||(u.push(a),f.array=!0,f.attributes=[f.attributes],f.selectedLength=[f.selectedLength]);var g=f.attributes,m=f.selectedLength;if(p)g.unshift(s),m.unshift(-1);else{var v=je(m,o);g.splice(v,0,s),m.splice(v,0,o)}}else l[a]={attributes:s,selectedLength:p?-1:o,node:d,array:!1}}}for(i=0,o=u.length;i<o;i++)(s=l[a=u[i]]).attributes=st.apply(void 0,[{}].concat(s.attributes.reverse()));return l},getEventTarget:function(e,t){void 0===t&&(t={});var n=e.target,r=e.type,i=e.clientX;void 0===i&&(i=0);var o=e.clientY;return void 0===o&&(o=0),t.fromPoint||"touchmove"===r||"touchend"===r?document.elementFromPoint(i,o):n},updateDOMSubtreeAttributes:function(e,t,n){n||(n={}),n.rootBBox||(n.rootBBox=D()),n.selectors||(n.selectors=this.selectors);var r,i,o,s,a,l,u={},c={},h=[],d=n.roAttributes,p=this.findNodesAttributes(d||t,e,u,n.selectors),f=d?this.findNodesAttributes(t,e,u,n.selectors):p;for(var g in p)if((a=this.processNodeAttributes(i=(s=p[g]).node,o=s.attributes)).set||a.position||a.offset){var m,v=f[g]&&f[g].attributes,y=v&&void 0===o.ref?v.ref:o.ref;if(y){if(!(m=(u[y]||this.findBySelector(y,e,n.selectors))[0]))throw new Error('dia.ElementView: "'+y+'" reference does not exist.')}else m=null;r={node:i,refNode:m,processedAttributes:a,allAttributes:v};var b=h.findIndex(function(e){return e.refNode===i});b>-1?h.splice(b,0,r):h.push(r)}else this.setNodeAttributes(i,a.normal);for(var w=0,C=h.length;w<C;w++){i=(r=h[w]).node,m=r.refNode;var I=Q(n.rotatableNode),x=m?Q.ensureId(m):"",A=!!I&&!!m&&I.contains(m),_=c[x];if(!_){var S=A?I:e;_=c[x]=m?Q(m).getBBox({target:S}):n.rootBBox}d?(a=this.processNodeAttributes(i,r.allAttributes),this.mergeProcessedAttributes(a,r.processedAttributes)):a=r.processedAttributes;var T=_;A&&!I.contains(i)&&(l||(l=Q.transformStringToMatrix(I.attr("transform"))),T=Q.transformRect(_,l)),this.updateRelativeAttributes(i,a,T,n)}},mergeProcessedAttributes:function(e,t){e.set||(e.set={}),e.position||(e.position={}),e.offset||(e.offset={}),Pe(e.set,t.set),Pe(e.position,t.position),Pe(e.offset,t.offset);var n=e.normal&&e.normal.transform;void 0!==n&&t.normal&&(t.normal.transform=n),e.normal=t.normal},onRemove:function(){this.removeTools()},_toolsView:null,hasTools:function(e){var t=this._toolsView;return!(!t||e&&t.getName()!==e)},addTools:function(e){return this.removeTools(),e&&(this._toolsView=e,e.configure({relatedView:this}),e.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this)),e.mount()),this},updateTools:function(e){var t=this._toolsView;return t&&t.update(e),this},removeTools:function(){var e=this._toolsView;return e&&(e.remove(),this._toolsView=null),this},hideTools:function(){var e=this._toolsView;return e&&e.hide(),this},showTools:function(){var e=this._toolsView;return e&&e.show(),this},onToolEvent:function(e){switch(e){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},pointerdblclick:function(e,t,n){this.notify("cell:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){this.notify("cell:pointerclick",e,t,n)},contextmenu:function(e,t,n){this.notify("cell:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.model.graph&&(this.model.startBatch("pointer"),this._graph=this.model.graph),this.notify("cell:pointerdown",e,t,n)},pointermove:function(e,t,n){this.notify("cell:pointermove",e,t,n)},pointerup:function(e,t,n){this.notify("cell:pointerup",e,t,n),this._graph&&(this._graph.stopBatch("pointer",{cell:this.model}),delete this._graph)},mouseover:function(e){this.notify("cell:mouseover",e)},mouseout:function(e){this.notify("cell:mouseout",e)},mouseenter:function(e){this.notify("cell:mouseenter",e)},mouseleave:function(e){this.notify("cell:mouseleave",e)},mousewheel:function(e,t,n,r){this.notify("cell:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){this.notify(t,e,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave:function(e){var t=this.paper;t.isAsync()&&t.dumpView(this);var n=this.getEventTarget(e,{fromPoint:!0}),r=t.findView(n);r!==this&&(this.mouseleave(e),r&&r.mouseenter(e))},setInteractivity:function(e){this.options.interactive=e}},{addPresentationAttributes:function(e){return st({},this.prototype.presentationAttributes,e,function(e,t){if(e&&t)return"string"==typeof e&&(e=[e]),"string"==typeof t&&(t=[t]),Array.isArray(e)&&Array.isArray(t)?Re(e.concat(t)):void 0})}}),$t=Qt.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var e=Qt.prototype.className.apply(this).split(" ");return e.push("element"),e.join(" ")},initialize:function(){Qt.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:["UPDATE"],position:["TRANSLATE","TOOLS"],size:["RESIZE","PORTS","TOOLS"],angle:["ROTATE","TOOLS"],markup:["RENDER"],ports:["PORTS"]},initFlag:["RENDER"],UPDATE_PRIORITY:0,confirmUpdate:function(e,t){var n=$.useCSSSelectors;return this.hasFlag(e,"PORTS")&&(this._removePorts(),this._cleanPortsCache()),this.hasFlag(e,"RENDER")?(this.render(),this.updateTools(t),e=this.removeFlag(e,["RENDER","UPDATE","RESIZE","TRANSLATE","ROTATE","PORTS"])):(this.hasFlag(e,"RESIZE")&&(this.resize(t),e=this.removeFlag(e,["RESIZE","UPDATE"])),this.hasFlag(e,"UPDATE")&&(this.update(this.model,null,t),e=this.removeFlag(e,"UPDATE"),n&&(e=this.removeFlag(e,"PORTS"))),this.hasFlag(e,"TRANSLATE")&&(this.translate(),e=this.removeFlag(e,"TRANSLATE")),this.hasFlag(e,"ROTATE")&&(this.rotate(),e=this.removeFlag(e,"ROTATE")),this.hasFlag(e,"PORTS")&&(this._renderPorts(),e=this.removeFlag(e,"PORTS"))),this.hasFlag(e,"TOOLS")&&(this.updateTools(t),e=this.removeFlag(e,"TOOLS")),e},_initializePorts:function(){},update:function(e,t){this.cleanNodesCache();var n=$.useCSSSelectors;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new D(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:t===i?null:t}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el),n=this.selectors=t.selectors;this.rotatableNode=Q(n[this.rotatableSelector])||null,this.scalableNode=Q(n[this.scalableSelector])||null,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=this.vel;t.append(Q(e)),this.rotatableNode=t.findOne(".rotatable"),this.scalableNode=t.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),$.useCSSSelectors||this._renderPorts(),this},resize:function(e){if(this.scalableNode)return this.sgResize(e);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var e=this.getTranslateString(),t=this.getRotateString();t&&(e+=" "+t),this.vel.attr("transform",e)},getTranslateString:function(){var e=this.model.attributes.position;return"translate("+e.x+","+e.y+")"},getRotateString:function(){var e=this.model.attributes,t=e.angle;if(!t)return null;var n=e.size;return"rotate("+t+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(e){var t=this.model,n=t.angle(),r=t.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var s=i.getBBox({recursive:o});i.attr("transform","scale("+r.width/(s.width||1)+","+r.height/(s.height||1)+")");var a=this.rotatableNode,l=a&&a.attr("transform");if(l){a.attr("transform",l+" rotate("+-n+","+r.width/2+","+r.height/2+")");var u=i.getBBox({target:this.paper.cells});t.set("position",{x:u.x,y:u.y},Pe({updateHandled:!0},e)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(e){e||(e={});var t=e.model||this.model,n=(e.paper||this.paper).model;t.startBatch("to-front"),t.toFront({deep:!0,ui:!0});var r=n.getElements().reduce(function(e,t){return Math.max(e,t.attributes.z||0)},0);n.getConnectedLinks(t,{deep:!0,includeEnclosed:!0}).forEach(function(e){e.attributes.z<=r&&e.set("z",r+1,{ui:!0})}),t.stopBatch("to-front");var i=t.parent();i&&n.getCell(i).unembed(t,{ui:!0})},processEmbedding:function(e){e||(e={});var t=e.model||this.model,n=e.paper||this.paper,r=n.options,i=[];i=Ge(r.findParentBy)?Ze(r.findParentBy.call(n.model,this)).filter((function(e){return e instanceof Dt&&this.model.id!==e.id&&!e.isEmbeddedIn(this.model)}).bind(this)):n.model.findModelsUnderElement(t,{searchBy:r.findParentBy}),r.frontParentOnly&&(i=i.slice(-1));for(var o=null,s=e.candidateEmbedView,a=i.length-1;a>=0;a--){var l=i[a];if(s&&s.model.id==l.id){o=s;break}var u=l.findView(n);if(r.validateEmbedding.call(n,this,u)){o=u;break}}o&&o!=s&&(this.clearEmbedding(e),e.candidateEmbedView=o.highlight(null,{embedding:!0})),!o&&s&&this.clearEmbedding(e)},clearEmbedding:function(e){e||(e={});var t=e.candidateEmbedView;t&&(t.unhighlight(null,{embedding:!0}),e.candidateEmbedView=null)},finalizeEmbedding:function(e){e||(e={});var t=e.candidateEmbedView,n=e.model||this.model,r=e.paper||this.paper;t&&(t.model.embed(n,{ui:!0}),t.unhighlight(null,{embedding:!0}),e.candidateEmbedView=null),Ee(r.model.getConnectedLinks(n,{deep:!0}),"reparent",{ui:!0})},getDelegatedView:function(){for(var e=this,t=e.model,n=e.paper;e&&!t.isLink();){if(!t.isEmbedded()||e.can("stopDelegation"))return e;t=t.getParentCell(),e=n.findViewByModel(t)}return null},notifyPointerdown:function(e,t,n){Qt.prototype.pointerdown.call(this,e,t,n),this.notify("element:pointerdown",e,t,n)},notifyPointermove:function(e,t,n){Qt.prototype.pointermove.call(this,e,t,n),this.notify("element:pointermove",e,t,n)},notifyPointerup:function(e,t,n){this.notify("element:pointerup",e,t,n),Qt.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Qt.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Qt.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",e,t,n)},contextmenu:function(e,t,n){Qt.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",e,t,n)},pointerdown:function(e,t,n){this.isPropagationStopped(e)||(this.notifyPointerdown(e,t,n),this.dragStart(e,t,n))},pointermove:function(e,t,n){var r=this.eventData(e);switch(r.action){case"magnet":this.dragMagnet(e,t,n);break;case"move":(r.delegatedView||this).drag(e,t,n);default:this.notifyPointermove(e,t,n)}this.eventData(e,r)},pointerup:function(e,t,n){var r=this.eventData(e);switch(r.action){case"magnet":this.dragMagnetEnd(e,t,n);break;case"move":(r.delegatedView||this).dragEnd(e,t,n);default:this.notifyPointerup(e,t,n)}var i=r.targetMagnet;i&&this.magnetpointerclick(e,i,t,n),this.checkMouseleave(e)},mouseover:function(e){Qt.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",e)},mouseout:function(e){Qt.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",e)},mouseenter:function(e){Qt.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",e)},mouseleave:function(e){Qt.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",e)},mousewheel:function(e,t,n,r){Qt.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",e,t,n,r)},onmagnet:function(e,t,n){this.dragMagnetStart(e,t,n)},magnetpointerdblclick:function(e,t,n,r){this.notify("element:magnet:pointerdblclick",e,t,n,r)},magnetcontextmenu:function(e,t,n,r){this.notify("element:magnet:contextmenu",e,t,n,r)},dragStart:function(e,t,n){var r=this.getDelegatedView();r&&r.can("elementMove")&&(this.eventData(e,{action:"move",delegatedView:r}),r.eventData(e,{pointerOffset:r.model.position().difference(t,n),restrictedArea:this.paper.getRestrictedArea(r)}))},dragMagnetStart:function(e,t,n){if(this.can("addLinkFromMagnet")){var r=e.currentTarget,i=this.paper;this.eventData(e,{targetMagnet:r}),e.stopPropagation(),i.options.validateMagnet(this,r,e)?(i.options.magnetThreshold<=0&&this.dragLinkStart(e,r,t,n),this.eventData(e,{action:"magnet"}),this.stopPropagation(e)):this.pointerdown(e,t,n),i.delegateDragEvents(this,e.data)}},dragLinkStart:function(e,t,n,r){this.model.startBatch("add-link");var i=this.addLinkFromMagnet(t,n,r);i.notifyPointerdown(e,n,r),i.eventData(e,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(e,{linkView:i})},addLinkFromMagnet:function(e,t,n){var r=this.paper,i=r.model,o=r.getDefaultLink(this,e);return o.set({source:this.getLinkEnd(e,t,n,o,"source"),target:{x:t,y:n}}).addTo(i,{async:!1,ui:!0}),o.findView(r)},drag:function(e,t,n){var r=this.paper,i=r.options.gridSize,o=this.model,s=this.eventData(e),a=s.pointerOffset,l=s.restrictedArea,u=s.embedding,c=k(t+a.x,i),h=k(n+a.y,i);o.position(c,h,{restrictedArea:l,deep:!0,ui:!0}),r.options.embeddingMode&&(u||(this.prepareEmbedding(s),u=!0),this.processEmbedding(s)),this.eventData(e,{embedding:u})},dragMagnet:function(e,t,n){var r=this.eventData(e),i=r.linkView;if(i)i.pointermove(e,t,n);else{var o=this.paper,s=o.options.magnetThreshold,a=this.getEventTarget(e),l=r.targetMagnet;if("onleave"===s){if(l===a||Q(l).contains(a))return}else if(o.eventData(e).mousemoved<=s)return;this.dragLinkStart(e,l,t,n)}},dragEnd:function(e,t,n){var r=this.eventData(e);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(e,t,n){var r=this.eventData(e).linkView;r&&(r.pointerup(e,t,n),this.model.stopBatch("add-link"))},magnetpointerclick:function(e,t,n,r){var i=this.paper;i.eventData(e).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",e,t,n,r)}});Pe($t.prototype,Vt);var en={N:"S",S:"N",E:"W",W:"E"},tn={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function nn(e,t,n){var r=new _(e.x,t.y);return n.containsPoint(r)&&(r=new _(t.x,e.y)),r}function rn(e,t){return e["W"===t||"E"===t?"width":"height"]}function on(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function sn(e){return new D(e.x,e.y,0,0)}function an(e){var t=Ce(e.padding||e.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function ln(e,t){return e.sourceBBox.clone().moveAndExpand(an(t))}function un(e,t){return e.targetBBox.clone().moveAndExpand(an(t))}function cn(e,t,n){var r=new _(e.x,t.y),i=new _(t.x,e.y),o=on(e,r),s=on(e,i),a=en[n],l=o===n||o!==a&&(s===a||s!==n)?r:i;return{points:[l],direction:on(l,t)}}function hn(e,t,n){var r=nn(e,t,n);return{points:[r],direction:on(r,t)}}function dn(e,t,n,r){var i,o={},s=[new _(e.x,t.y),new _(t.x,e.y)],a=s.filter(function(e){return!n.containsPoint(e)}),l=a.filter(function(t){return on(t,e)!==r});if(l.length>0)i=l.filter(function(t){return on(e,t)===r}).pop(),o.points=[i=i||l[0]],o.direction=on(i,t);else{i=Xe(s,a)[0];var u=new _(t).move(i,-rn(n,r)/2),c=nn(u,e,n);o.points=[c,u],o.direction=on(u,t)}return o}function pn(e,t,n,r){var i=hn(t,e,r),o=i.points[0];if(n.containsPoint(o)){var s=(i=hn(e,t,n)).points[0];if(r.containsPoint(s)){var a=new _(e).move(s,-rn(n,on(e,s))/2),l=new _(t).move(o,-rn(r,on(t,o))/2),u=new x(a,l).midpoint(),c=hn(e,u,n),h=cn(u,t,c.direction);i.points=[c.points[0],h.points[0]],i.direction=h.direction}}return i}function fn(e,t,n,r,i){var o,s,a,l={},u=n.union(r).inflate(1),c=u.center().distance(t)>u.center().distance(e),h=c?t:e,d=c?e:t;return i?(o=_.fromPolar(u.width+u.height,tn[i],h),o=u.pointNearestToPoint(o).move(o,-1)):o=u.pointNearestToPoint(h).move(h,1),s=nn(o,d,u),o.round().equals(s.round())?(s=_.fromPolar(u.width+u.height,P(o.theta(h))+Math.PI/2,d),a=nn(o,s=u.pointNearestToPoint(s).move(d,1).round(),u),l.points=c?[s,a,o]:[o,a,s]):l.points=c?[s,o]:[o,s],l.direction=on(c?o:s,t),l}function gn(e,t,n){var r,i=ln(n,t),o=un(n,t),s=function(e,t){return e.sourceAnchor?e.sourceAnchor:ln(e,t).center()}(n,t),a=function(e,t){return e.targetAnchor?e.targetAnchor:un(e,t).center()}(n,t);i=i.union(sn(s)),o=o.union(sn(a)),(e=Ze(e).map(_)).unshift(s),e.push(a);for(var l=[],u=0,c=e.length-1;u<c;u++){var h=null,d=e[u],p=e[u+1],f=!!on(d,p);if(0===u)u+1===c?i.intersect(o.clone().inflate(1))?h=fn(d,p,i,o):f||(h=pn(d,p,i,o)):i.containsPoint(p)?h=fn(d,p,i,sn(p).moveAndExpand(an(t))):f||(h=hn(d,p,i));else if(u+1===c){var g=f&&on(p,d)===r;o.containsPoint(d)||g?h=fn(d,p,sn(d).moveAndExpand(an(t)),o,r):f||(h=dn(d,p,o,r))}else f||(h=cn(d,p,r));h?(Array.prototype.push.apply(l,h.points),r=h.direction):r=on(d,p),u+1<c&&l.push(p)}return l}var mn={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var e=this.step,t=this.cost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:0,cost:t},{offsetX:0,offsetY:-e,cost:t}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var e=this.step;return{x:-e,y:-e,width:2*e,height:2*e}},fallbackRouter:function(e,t,n){if(!Ge(gn))throw new Error("Manhattan requires the orthogonal router as default fallback.");return gn(e,Pe({},mn,t),n)},fallbackRoute:function(e,t,n){return null},draggingRoute:null};function vn(e){this.map={},this.options=e,this.mapGridSize=100}function yn(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function bn(e,t){return t&&t.paddingBox?e.sourceBBox.clone().moveAndExpand(t.paddingBox):e.sourceBBox.clone()}function wn(e,t){return t&&t.paddingBox?e.targetBBox.clone().moveAndExpand(t.paddingBox):e.targetBBox.clone()}function Cn(e,t){return e.sourceAnchor?e.sourceAnchor:bn(e,t).center()}function In(e,t,n,r,i){var o=360/n,s=e.theta(function(e,t,n,r){var i=r.step;return new _(e.x+(t.x-e.x)/n.x*i,e.y+(t.y-e.y)/n.y*i)}(e,t,r,i)),a=T(s+o/2);return o*Math.floor(a/o)}function xn(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function An(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);return r?t+(n-r*t)/r:n}function _n(e,t){return e.round(t)}function Sn(e,t,n){return _n(function(e,t){var n=t.source,r=k(e.x-n.x,t.x)+n.x,i=k(e.y-n.y,t.y)+n.y;return new _(r,i)}(e.clone(),t),n)}function Dn(e){return e.clone().toString()}function Tn(e){return new _(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function kn(e,t,n,r,i,o,s){for(var a,l=[],u=Tn(i.difference(n)),c=Dn(n),h=e[c];h;){var d=Tn((a=t[c]).difference(h));d.equals(u)||(l.unshift(a),u=d),h=e[c=Dn(h)]}var p=t[c];return Tn(p.difference(r)).equals(u)||l.unshift(p),l}function Nn(e,t){for(var n=1/0,r=0,i=t.length;r<i;r++){var o=e.manhattanDistance(t[r]);o<n&&(n=o)}return n}function Pn(e,t,n,r,i){var o=i.precision,s=i.directionMap,a=e.difference(t.center()),l=lt(s)?Object.keys(s):[],u=Ze(n),c=l.reduce(function(n,i){if(u.includes(i)){for(var l,c=s[i],h=new _(e.x+c.x*(Math.abs(a.x)+t.width),e.y+c.y*(Math.abs(a.y)+t.height)),d=new x(e,h).intersect(t)||[],p=d.length,f=null,g=0;g<p;g++){var m=d[g],v=e.squaredDistance(m);(void 0===l||v>l)&&(l=v,f=m)}if(f){var y=Sn(f,r,o);t.containsPoint(y)&&(y=Sn(y.offset(c.x*r.x,c.y*r.y),r,o)),n.push(y)}}return n},[]);return t.containsPoint(e)||c.push(Sn(e,r,o)),c}function Mn(e,t,n,r){var i,o,s=r.precision;i=_n(e instanceof D?Cn(this,r).clone():e.clone(),s),o=_n(t instanceof D?function(e,t){return e.targetAnchor?e.targetAnchor:wn(e,t).center()}(this,r).clone():t.clone(),s);var a,l,u,c,h,d,p,f=(a=r.step,u=o,{source:(l=i).clone(),x:An(u.x-l.x,a),y:An(u.y-l.y,a)});if(d=e instanceof D?Pn(c=i,e,r.startDirections,f,r):[c=i],t instanceof D?(h=o,p=Pn(o,t,r.endDirections,f,r)):p=[h=o],d=d.filter(n.isPointAccessible,n),p=p.filter(n.isPointAccessible,n),d.length>0&&p.length>0){for(var g=new yn,m={},v={},y={},b=0,w=d.length;b<w;b++){var C=d[b],I=Dn(C);g.add(I,Nn(C,p)),m[I]=C,y[I]=0}var x,A,_=r.previousDirectionAngle,S=void 0===_,T=r.directions;!function(e,t,n){var r=n.step;Ze(n.directions).forEach(function(e){e.gridOffsetX=e.offsetX/r*t.x,e.gridOffsetY=e.offsetY/r*t.y})}(0,f,r);for(var k=T.length,N=Ze(p).reduce(function(e,t){var n=Dn(t);return e.push(n),e},[]),P=r.maximumLoops;!g.isEmpty()&&P>0;){var M,O=g.pop(),E=m[O],j=v[O],R=y[O],L=void 0===j,z=E.equals(c);M=L?S?z?null:In(c,E,k,f,r):_:In(j,E,k,f,r);var F=Be(d,p);if((!L||!F)&&N.indexOf(O)>=0)return r.previousDirectionAngle=M,kn(v,m,E,c,h);for(b=0;b<k;b++){var B=(x=T[b]).angle;if(A=xn(M,B),S&&z||!(A>r.maxAllowedDirectionChange)){var G=Sn(E.clone().offset(x.gridOffsetX,x.gridOffsetY),f,s),U=Dn(G);if(!g.isClose(U)&&n.isPointAccessible(G)){if(N.indexOf(U)>=0&&!G.equals(h)&&xn(B,In(G,h,k,f,r))>r.maxAllowedDirectionChange)continue;var Z=R+x.cost+(z?0:r.penalties[A]);(!g.isOpen(U)||Z<y[U])&&(m[U]=G,v[U]=E,y[U]=Z,g.add(U,Z+Nn(G,p)))}}}P--}}return r.fallbackRoute.call(this,c,h,r)}vn.prototype.build=function(e,t){var n=this.options,r=Ze(n.excludeEnds).reduce(function(n,r){var i=t.get(r);if(i){var o=e.getCell(i.id);o&&n.push(o)}return n},[]),i=[],o=e.getCell(t.get("source").id);o&&(i=Je(i,o.getAncestors().map(function(e){return e.id})));var s=e.getCell(t.get("target").id);s&&(i=Je(i,s.getAncestors().map(function(e){return e.id})));var a=this.mapGridSize;return e.getElements().reduce(function(e,t){var o=Ze(n.excludeTypes).includes(t.get("type")),s=r.find(function(e){return e.id===t.id}),l=i.includes(t.id);if(!(o||s||l))for(var u=t.getBBox().moveAndExpand(n.paddingBox),c=u.origin().snapToGrid(a),h=u.corner().snapToGrid(a),d=c.x;d<=h.x;d+=a)for(var p=c.y;p<=h.y;p+=a){var f=d+"@"+p;e[f]=e[f]||[],e[f].push(u)}return e},this.map),this},vn.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return Ze(this.map[t]).every(function(t){return!t.containsPoint(e)})},yn.prototype.add=function(e,t){this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=this.OPEN,this.values[e]=t;var n=je(this.items,e,(function(e){return this.values[e]}).bind(this));this.items.splice(n,0,e)},yn.prototype.remove=function(e){this.hash[e]=this.CLOSE},yn.prototype.isOpen=function(e){return this.hash[e]===this.OPEN},yn.prototype.isClose=function(e){return this.hash[e]===this.CLOSE},yn.prototype.isEmpty=function(){return 0===this.items.length},yn.prototype.pop=function(){var e=this.items.shift();return this.remove(e),e};var On=function(e,t,n){return function(e,t,n){!function(e){if(e.directions=$e(e,"directions"),e.penalties=$e(e,"penalties"),e.paddingBox=$e(e,"paddingBox"),e.padding=$e(e,"padding"),e.padding){var t=Ce(e.padding);e.paddingBox={x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}Ze(e.directions).forEach(function(e){var t=new _(0,0),n=new _(e.offsetX,e.offsetY);e.angle=T(t.theta(n))})}(t),n.options.perpendicular=!!t.perpendicular;for(var r,i,o=bn(n,t),s=wn(n,t),a=Cn(n,t),l=new vn(t).build(n.paper.model,n.model),u=Ze(e).map(_),c=[],h=a,d=0,p=u.length;d<=p;d++){var f=null;if(i=r||o,!(r=u[d])&&(r=s,(!n.model.get("source").id||!n.model.get("target").id)&&Ge(t.draggingRoute))){var g=i===o?a:i,m=r.origin();f=t.draggingRoute.call(n,g,m,t)}if(null===(f=f||Mn.call(n,i,r,l,t)))return t.fallbackRouter(e,t,n);var v=f[0];v&&v.equals(h)&&f.shift(),h=f[f.length-1]||h,Array.prototype.push.apply(c,f)}return c}(e,Pe({},mn,t),n)},En={maxAllowedDirectionChange:45,diagonalCost:function(){var e=this.step;return Math.ceil(Math.sqrt(e*e<<1))},directions:function(){var e=this.step,t=this.cost(),n=this.diagonalCost();return[{offsetX:e,offsetY:0,cost:t},{offsetX:e,offsetY:e,cost:n},{offsetX:0,offsetY:e,cost:t},{offsetX:-e,offsetY:e,cost:n},{offsetX:-e,offsetY:0,cost:t},{offsetX:-e,offsetY:-e,cost:n},{offsetX:0,offsetY:-e,cost:t},{offsetX:e,offsetY:-e,cost:n}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],o={x:t.x,y:e.y},s={x:e.x,y:t.y};if(r%180>90){var a=o;o=s,s=a}var l=r%90<45?o:s,u=new x(e,l),c=90*Math.ceil(r/90),h=_.fromPolar(u.squaredLength(),P(c+135),l),d=new x(t,h),p=u.intersection(d),f=p||t,g=360/n.directions.length,m=(p?f:e).theta(t),v=T(m+g/2),y=g*Math.floor(v/g);return n.previousDirectionAngle=y,f&&i.push(f.round()),i.push(t),i}},jn={normal:function(e,t,n){return e},oneSide:function(e,t,n){var r,i,o,s=t.side||"bottom",a=Ce(t.padding||40),l=n.sourceBBox,u=n.targetBBox,c=l.center(),h=u.center();switch(s){case"bottom":o=1,r="y",i="height";break;case"top":o=-1,r="y",i="height";break;case"left":o=-1,r="x",i="width";break;case"right":o=1,r="x",i="width";break;default:throw new Error("Router: invalid side")}return c[r]+=o*(l[i]/2+a[s]),h[r]+=o*(u[i]/2+a[s]),o*(c[r]-h[r])>0?h[r]=c[r]:c[r]=h[r],[c].concat(e,h)},orthogonal:gn,manhattan:On,metro:function(e,t,n){if(!Ge(On))throw new Error("Metro requires the manhattan router.");return On(e,Pe({},En,t),n)}},Rn=["arc","gap","cubic"],Ln=["smooth"],zn=1/3,Fn=2/3;function Bn(e,t,n){var r=[].concat(e,n,t);return r.reduce(function(e,t,n){var i=r[n+1];return null!=i&&(e[n]=E(t,i)),e},[])}function Gn(){for(var e=this._jumpOverUpdateList,t=0;t<e.length;t++)e[t].update()}function Un(e,t){return E(e,t).squaredLength()}function Zn(e,t,n,r){var i,o=new A;return i=A.createSegment("M",e[0].start),o.appendSegment(i),Ze(e).forEach(function(s,a){if(s.isJump){var l,u,c,h;if("arc"===n){l=-90,u=s.start.difference(s.end);var d=Number(u.x<0||0===u.x&&u.y<0);d&&(l+=180);var p,f=s.midpoint(),g=new x(f,s.end).rotate(f,l);c=(p=new x(s.start,f)).pointAt(2/3).rotate(s.start,l),h=g.pointAt(1/3).rotate(g.end,-l),i=A.createSegment("C",c,h,g.end),o.appendSegment(i),p=new x(f,s.end),c=g.pointAt(1/3).rotate(g.end,l),h=p.pointAt(1/3).rotate(s.end,-l),i=A.createSegment("C",c,h,s.end),o.appendSegment(i)}else if("gap"===n)i=A.createSegment("M",s.end),o.appendSegment(i);else if("cubic"===n){l=s.start.theta(s.end);var m=.6*t,v=1.35*t;u=s.start.difference(s.end),(d=Number(u.x<0||0===u.x&&u.y<0))&&(v*=-1),c=_(s.start.x+m,s.start.y+v).rotate(s.start,l),h=_(s.end.x-m,s.end.y+v).rotate(s.end,l),i=A.createSegment("C",c,h,s.end),o.appendSegment(i)}}else{var y=e[a+1];0==r||!y||y.isJump?(i=A.createSegment("L",s.end),o.appendSegment(i)):function(e,t,n,r,i){var o,s=n.distance(r)/2,a=n.distance(i)/2,l=-Math.min(e,s),u=-Math.min(e,a),c=n.clone().move(r,l).round(),h=n.clone().move(i,u).round(),d=new _(zn*c.x+Fn*n.x,Fn*n.y+zn*c.y),p=new _(zn*h.x+Fn*n.x,Fn*n.y+zn*h.y);o=A.createSegment("L",c),t.appendSegment(o),o=A.createSegment("C",d,p,h),t.appendSegment(o)}(r,o,s.end,s.start,y.end)}}),o}var Wn={jumpover:function(e,t,n,r){var i,o;null==(o=(i=this).paper._jumpOverUpdateList)&&(o=i.paper._jumpOverUpdateList=[],i.paper.on("cell:pointerup",Gn),i.paper.model.on("reset",function(){o=i.paper._jumpOverUpdateList=[]})),o.indexOf(i)<0&&(o.push(i),i.listenToOnce(i.model,"change:connector remove",function(){o.splice(o.indexOf(i),1)}));var s=r.raw,a=r.size||5,l=r.jump&&(""+r.jump).toLowerCase(),u=r.radius||0,c=r.ignoreConnectors||Ln;-1===Rn.indexOf(l)&&(l=Rn[0]);var h=this.paper,d=h.model.getLinks();if(1===d.length)return Zn(Bn(e,t,n),a,l,u);var p=this.model,f=d.indexOf(p),g=h.options.defaultConnector||{},m=d.filter(function(e,t){var n=e.get("connector")||g;return!(Ze(c).includes(n.name)||t>f&&"jumpover"===n.name)}),v=m.map(function(e){return h.findViewByModel(e)}),y=Bn(e,t,n),b=v.map(function(e){return null==e?[]:e===this?y:Bn(e.sourcePoint,e.targetPoint,e.route)},this),w=Zn(y.reduce(function(e,t){var n=m.reduce(function(e,n,r){if(n!==p){var i=(o=t,Ze(b[r]).reduce(function(e,t){var n=o.intersection(t);return n&&e.push(n),e},[]));e.push.apply(e,i)}var o;return e},[]).sort(function(e,n){return Un(t.start,e)-Un(t.start,n)});return n.length>0?e.push.apply(e,function(e,t,n){return t.reduce(function(r,i,o){if(!0===i.skip)return r;var s=r.pop()||e,a=j(i).move(s.start,-n),l=j(i).move(s.start,+n),u=t[o+1];if(null!=u){var c=l.distance(u);c<=n&&(l=u.move(s.start,c),u.skip=!0)}else if(a.distance(s.end)<2*n+1)return r.push(s),r;if(l.distance(s.start)<2*n+1)return r.push(s),r;var h=E(a,l);return h.isJump=!0,r.push(E(s.start,a),h,E(l,s.end)),r},[])}(t,n,a)):e.push(t),e},[]),a,l,u);return s?w:w.serialize()},normal:function(e,t,n,r){var i=r&&r.raw,o=[e].concat(n).concat([t]),s=new S(o),a=new A(s);return i?a:a.serialize()},rounded:function(e,t,n,r){r||(r={});var i,o=r.radius||10,s=r.raw,a=new A;i=A.createSegment("M",e),a.appendSegment(i);for(var l,u,c,h,d,p,f,g,m,v,y,b=0,w=n.length;b<w;b++)l=new _(n[b]),u=n[b-1]||e,c=n[b+1]||t,h=d||l.distance(u)/2,d=l.distance(c)/2,p=-Math.min(o,h),f=-Math.min(o,d),g=l.clone().move(u,p).round(),m=l.clone().move(c,f).round(),v=new _(1/3*g.x+2/3*l.x,2/3*l.y+1/3*g.y),y=new _(1/3*m.x+2/3*l.x,2/3*l.y+1/3*m.y),i=A.createSegment("L",g),a.appendSegment(i),i=A.createSegment("C",v,y,m),a.appendSegment(i);return i=A.createSegment("L",t),a.appendSegment(i),s?a:a.serialize()},smooth:function(e,t,n,r){var i,o=r&&r.raw;if(n&&0!==n.length){var s=[e].concat(n).concat([t]),a=C.throughPoints(s);i=new A(a)}else{var l;if(i=new A,l=A.createSegment("M",e),i.appendSegment(l),Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)){var u=(e.x+t.x)/2;l=A.createSegment("C",u,e.y,u,t.y,t.x,t.y),i.appendSegment(l)}else{var c=(e.y+t.y)/2;l=A.createSegment("C",e.x,c,t.x,c,t.x,t.y),i.appendSegment(l)}}return o?i:i.serialize()}},Vn=Qt.extend({className:function(){var e=Qt.prototype.className.apply(this).split(" ");return e.push("link"),e.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){Qt.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.metrics={}},presentationAttributes:{markup:["RENDER"],attrs:["UPDATE"],router:["UPDATE"],connector:["UPDATE"],smooth:["UPDATE"],manhattan:["UPDATE"],toolMarkup:["TOOLS"],labels:["LABELS"],labelMarkup:["LABELS"],vertices:["VERTICES","UPDATE"],vertexMarkup:["VERTICES"],source:["SOURCE","UPDATE"],target:["TARGET","UPDATE"]},initFlag:["RENDER","SOURCE","TARGET"],UPDATE_PRIORITY:1,confirmUpdate:function(e,t){if(t||(t={}),this.hasFlag(e,"SOURCE")){if(!this.updateEndProperties("source"))return e;e=this.removeFlag(e,"SOURCE")}if(this.hasFlag(e,"TARGET")){if(!this.updateEndProperties("target"))return e;e=this.removeFlag(e,"TARGET")}var n=this.paper,r=this.sourceView,i=this.targetView;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return e;if(this.hasFlag(e,"RENDER"))return this.render(),this.removeFlag(e,["RENDER","UPDATE","VERTICES","TOOLS","LABELS"]);this.hasFlag(e,"VERTICES")&&(this.renderVertexMarkers(),e=this.removeFlag(e,"VERTICES"));var o=this.model,s=o.attributes;return this.hasFlag(e,"UPDATE")&&(this.update(o,null,t),e=this.removeFlag(e,"UPDATE")),this.hasFlag(e,"LABELS")&&(this.onLabelsChange(o,s.labels,t),e=this.removeFlag(e,"LABELS")),this.hasFlag(e,"TOOLS")&&(this.renderTools().updateToolsPosition(),e=this.removeFlag(e,"TOOLS")),e},isLabelsRenderRequired:function(e){void 0===e&&(e={});var t=this.model.previous("labels");if(!t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1&&t[n[1]]){if(2===r)return"markup"in Object(e.propertyValue);if("markup"!==n[2])return!1}}return!0},onLabelsChange:function(e,t,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()},render:function(){return this.vel.empty(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var e=this.model,t=e.get("markup")||e.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(e){var t=this.parseDOMJSON(e,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(e){var t=Q(e);Array.isArray(t)||(t=[t]);for(var n=this._V,i=0,o=t.length;i<o;i++){var s=t[i],a=s.attr("class");a&&(a=te(a),n[r.camelCase(a)]=s)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(t)},_getLabelMarkup:function(e){if(e){if(Array.isArray(e))return this.parseDOMJSON(e,null);if("string"==typeof e)return this._getLabelStringMarkup(e);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(e){var t=Q(e),n=document.createDocumentFragment();if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n.appendChild(t[r].node);else n.appendChild(t.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(e){if(e){var t,n=e.fragment;if(!(e.fragment instanceof DocumentFragment&&e.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var r=n.childNodes;return(t=r.length>1||"G"!==r[0].nodeName.toUpperCase()?Q("g").append(n):Q(r[0])).addClass("label"),{node:t.node,selectors:e.selectors}}},renderLabels:function(){var e=this._V,t=e.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],s=o.length;if(0===s)return t&&t.remove(),this;t?t.empty():t=e.labels=Q("g").addClass("labels");for(var a=t.node,l=0;l<s;l++){var u,c,h=this._normalizeLabelMarkup(this._getLabelMarkup(o[l].markup));if(h)u=h.node,c=h.selectors;else{var d=this._normalizeLabelMarkup(this._getLabelMarkup(i._builtins.defaultLabel.markup)),p=i._getDefaultLabel(),f=this._normalizeLabelMarkup(this._getLabelMarkup(p.markup))||d;u=f.node,c=f.selectors}u.setAttribute("label-idx",l),a.appendChild(u),n[l]=u;var g=this.selector;if(c[g])throw new Error("dia.LinkView: ambiguous label root selector.");c[g]=u,r[l]=c}return a.parentNode||this.el.appendChild(a),this.updateLabels(),this},_mergeLabelAttrs:function(e,t,n,r){if(null===t)return null;if(void 0===t){if(null===n)return null;if(void 0===n){if(e)return;return r}return e?n:st({},r,n)}return e?st({},n,t):st({},r,n,t)},updateLabels:function(){if(!this._V.labels)return this;for(var e=this.model,t=e.get("labels")||[],n=this.can("labelMove"),r=e._builtins.defaultLabel.attrs,i=e._getDefaultLabel(),o=i.markup,s=i.attrs,a=0,l=t.length;a<l;a++){var u=this._labelCache[a];u.setAttribute("cursor",n?"move":"default");var c=this._labelSelectors[a],h=t[a],d=this._mergeLabelAttrs(h.markup||o,h.attrs,s,r);this.updateDOMSubtreeAttributes(u,d,{rootBBox:new D(h.size),selectors:c})}return this},renderTools:function(){if(!this._V.linkTools)return this;var e,t=r(this._V.linkTools.node).empty(),n=Se(this.model.get("toolMarkup")||this.model.toolMarkup),i=Q(n());return t.append(i.node),this._toolCache=i,this.options.doubleLinkTools&&(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(n=Se(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),e=Q(n())):e=i.clone(),t.append(e.node),this._tool2Cache=e),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var e=r(this._V.markerVertices.node).empty(),t=Se(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){e.append(Q(t(Pe({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var e=r(this._V.markerArrowheads.node);e.empty();var t=Se(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=Q(t({end:"source"})),this._V.targetArrowhead=Q(t({end:"target"})),e.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},update:function(e,t,n){return n||(n={}),this.cleanNodesCache(),this.updateConnection(n),this.updateDOMSubtreeAttributes(this.el,this.model.attr(),{selectors:this.selectors}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(n),this.options.perpendicular=null,this},removeRedundantLinearVertices:function(e){var t=this.model,n=t.vertices(),r=[this.sourceAnchor].concat(n,[this.targetAnchor]),i=r.length,o=new S(r);o.simplify({threshold:.001});var s=o.points.map(function(e){return e.toJSON()}),a=s.length;return i===a?0:(t.vertices(s.slice(1,a-1),e),i-a)},updateDefaultConnectionPath:function(){var e=this._V;e.connection&&e.connection.attr("d",this.getSerializedConnection()),e.connectionWrap&&e.connectionWrap.attr("d",this.getSerializedConnection()),e.markerSource&&e.markerTarget&&this._translateAndAutoOrientArrows(e.markerSource,e.markerTarget)},getEndView:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(e){switch(e){case"source":return new _(this.sourceAnchor);case"target":return new _(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(e){switch(e){case"source":var t=this.sourceView;if(!t)break;return this.sourceMagnet||t.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},updateConnection:function(e){var t,n,r=this.model;if((e=e||{}).translateBy&&r.isRelationshipEmbeddedIn(e.translateBy)){var i=e.tx||0,o=e.ty||0;t=new S(this.route).translate(i,o).points,this._translateConnectionPoints(i,o),(n=this.path).translate(i,o)}else{var s=r.vertices(),a=this.findAnchors(s),l=this.sourceAnchor=a.source,u=this.targetAnchor=a.target;t=this.findRoute(s,e);var c=this.findConnectionPoints(t,l,u),h=this.sourcePoint=c.source,d=this.targetPoint=c.target,p=this.findMarkerPoints(t,h,d);n=this.findPath(t,p.source||h,p.target||d)}this.route=t,this.path=n,this.metrics={}},findMarkerPoints:function(e,t,n){var r,i,o=e[0],s=e[e.length-1],a=this._markerCache;return this._V.markerSource&&(a.sourceBBox=a.sourceBBox||this._V.markerSource.getBBox(),r=_(t).move(o||n,a.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(a.targetBBox=a.targetBBox||this._V.markerTarget.getBBox(),i=_(n).move(s||t,a.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),a.sourcePoint=r||t.clone(),a.targetPoint=i||n.clone(),{source:r,target:i}},findAnchorsOrdered:function(e,t,n,r){var i,o,s,a,l=this.model,u=l.get(e),c=l.get(n),h=this.getEndView(e),d=this.getEndView(n),p=this.getEndMagnet(e),f=this.getEndMagnet(n);h?(s=t?new _(t):d?f:new _(c),i=this.getAnchor(u.anchor,h,p,s,e)):i=new _(u),d?(a=new _(r||i),o=this.getAnchor(c.anchor,d,f,a,n)):o=new _(c);var g={};return g[e]=i,g[n]=o,g},findAnchors:function(e){var t=this.model,n=e[0],r=e[e.length-1];return t.target().priority&&!t.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(e,t,n){var r,i,o,s,a=e[0],l=e[e.length-1],u=this.model,c=u.get("source"),h=u.get("target"),d=this.sourceView,p=this.targetView,f=this.paper.options;if(d&&!d.isNodeConnection(this.sourceMagnet)){r=this.sourceMagnet||d.el;var g=c.connectionPoint||f.defaultConnectionPoint,m=new x(a||n,t);o=this.getConnectionPoint(g,d,r,m,"source")}else o=t;if(p&&!p.isNodeConnection(this.targetMagnet)){i=this.targetMagnet||p.el;var v=h.connectionPoint||f.defaultConnectionPoint,y=new x(l||t,n);s=this.getConnectionPoint(v,p,i,y,"target")}else s=n;return{source:o,target:s}},getAnchor:function(e,t,n,r,i){var o,s=t.isNodeConnection(n),a=this.paper.options;if(e||(e=s?a.defaultLinkAnchor:a.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:a.defaultAnchor),!e)throw new Error("Anchor required.");if("function"==typeof e)o=e;else{var l=e.name;if("function"!=typeof(o=a[s?"linkAnchorNamespace":"anchorNamespace"][l]))throw new Error("Unknown anchor: "+l)}var u=o.call(this,t,n,r,e.args||{},i,this);return u?u.round(this.decimalsRounding):new _},getConnectionPoint:function(e,t,n,r,i){var o,s,a=r.end,l=this.paper.options;if("function"==typeof l.linkConnectionPoint&&(o=l.linkConnectionPoint(this,t,n===t.el?void 0:n,r.start,i)))return o;if(!e)return a;if("function"==typeof e)s=e;else{var u=e.name;if("function"!=typeof(s=l.connectionPointNamespace[u]))throw new Error("Unknown connection point: "+u)}return(o=s.call(this,r,t,n,e.args||{},i,this))?o.round(this.decimalsRounding):a},_translateConnectionPoints:function(e,t){var n=this._markerCache;n.sourcePoint.offset(e,t),n.targetPoint.offset(e,t),this.sourcePoint.offset(e,t),this.targetPoint.offset(e,t),this.sourceAnchor.offset(e,t),this.targetAnchor.offset(e,t)},_normalizeLabelPosition:function(e){return"number"==typeof e?{distance:e,offset:null,angle:0,args:null}:e},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var e=this.model,t=e.get("labels")||[];if(!t.length)return this;for(var n=e._builtins.defaultLabel.position,r=e._getDefaultLabel(),i=this._normalizeLabelPosition(r.position),o=st({},n,i),s=0,a=t.length;s<a;s++){var l=this._normalizeLabelPosition(t[s].position),u=st({},o,l),c=this._getLabelTransformationMatrix(u);this._labelCache[s].setAttribute("transform",Q.matrixToTransformString(c))}return this},updateToolsPosition:function(){if(!this._V.linkTools)return this;var e="",t=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(e="scale(.5)",t/=2);var r=this.getPointAtLength(t);this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+e),this.options.doubleLinkTools&&n>=this.options.longLinkLength?(r=this.getPointAtLength(n-(this.options.doubleLinkToolsOffset||t)),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+e),this._tool2Cache.attr("visibility","visible")):this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===r.css(this._V.markerArrowheads.node,"display"))return this;var e=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(e),this._V.targetArrowhead.scale(e),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(e){var t=this.paper,n=e+"View",r=this.model.get(e),i=r&&r.id;if(!i)return this[n]=null,this.updateEndMagnet(e),!0;var o=t.getModelById(i);if(!o)throw new Error("LinkView: invalid "+e+" cell.");var s=o.findView(t);return!!s&&(this[n]=s,this.updateEndMagnet(e),!0)},updateEndMagnet:function(e){var t=e+"Magnet",n=this.getEndView(e);if(n){var r=n.getMagnetFromLinkEnd(this.model.get(e));r===n.el&&(r=null),this[t]=r}else this[t]=null},_translateAndAutoOrientArrows:function(e,t){var n=Ze(this.route);e&&e.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),t&&t.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionAngle:function(e){return(this.model.label(e).position||{}).angle||0},_getLabelPositionArgs:function(e){return(this.model.label(e).position||{}).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(e,t){return null===e?null:void 0===e?null===t?null:t:st({},t,e)},addLabel:function(e,t,n,r){var i,o,s,a=0;"number"!=typeof e?(i=e.x,o=e.y,"number"==typeof t?(a=t,s=n):s=t):(i=e,o=t,"number"==typeof n?(a=n,s=r):s=n);var l=this._getDefaultLabelPositionArgs(),u=this._mergeLabelPositionArgs(s,l),c={position:this.getLabelPosition(i,o,a,u)};return this.model.insertLabel(-1,c,s),-1},addVertex:function(e,t,n){var r="number"!=typeof e,i=r?e.x:e,o=r?e.y:t,s=r?t:n,a={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,a,s),l},sendToken:function(e,t,n){var r,i,o;lt(t)?(r=t.duration,i="reverse"===t.direction,o=t.connection):(r=t,i=!1,o=null);var s={dur:(r=r||1e3)+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};i&&(s.keyPoints="1;0",s.keyTimes="0;1");var a,l=Q(e);if("string"==typeof o)a=this.findBySelector(o,this.el,this.selectors)[0];else{var u=this._V;a=u.connection?u.connection.node:this.el.querySelector("path")}if(!(a instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(s,a),setTimeout(function(e,t){return function(){e.remove(),"function"==typeof t&&t()}}(l,n),r)},findRoute:function(e){e||(e=[]);var t=jn,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n){if(!r)return e.map(_);n=r}var i=Ge(n)?n:t[n.name];if(!Ge(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');return i.call(this,e,n.args||{},this)||e.map(_)},findPath:function(e,t,n){var r=Wn,i=this.model.connector();i||(i=this.paper.options.defaultConnector||{});var o=Ge(i)?i:r[i.name];if(!Ge(o))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var s=Le(i.args||{});s.raw=!0;var a=o.call(this,t,n,e,s,this);return"string"==typeof a&&(a=new A(Q.normalizePathData(a))),a},getConnection:function(){var e=this.path;return e?e.clone():null},getSerializedConnection:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("data"))return t.data;var n=e.serialize();return t.data=n,n},getConnectionSubdivisions:function(){var e=this.path;if(!e)return null;var t=this.metrics;if(t.hasOwnProperty("segmentSubdivisions"))return t.segmentSubdivisions;var n=e.getSegmentSubdivisions();return t.segmentSubdivisions=n,n},getConnectionLength:function(){var e=this.path;if(!e)return 0;var t=this.metrics;if(t.hasOwnProperty("length"))return t.length;var n=e.length({segmentSubdivisions:this.getConnectionSubdivisions()});return t.length=n,n},getPointAtLength:function(e){var t=this.path;return t?t.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(e){var t=this.path;return t?(fe(e)&&(e=parseFloat(e)/100),t.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(e){var t=this.path;return t?t.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(e){var t=this.path;return t?t.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(e){var t=this.path;return t?t.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(e){var t=this.path;return t?t.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(e){var t=this.path;return t?t.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(e,t,n,r){var i,o={},s=0;"number"==typeof n?(s=n,i=r):i=n,i&&(o.args=i);var a,l,u=!(i&&i.absoluteDistance),c=i&&i.absoluteDistance&&i.reverseDistance,h=i&&i.absoluteOffset,d=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},f=new _(e,t),g=d.closestPointT(f,p),m=d.lengthAtT(g,p);if(u&&(m=m/this.getConnectionLength()||0),c&&(m=-1*(this.getConnectionLength()-m)||1),o.distance=m,h||(a=d.tangentAtT(g)),a)l=a.pointOffset(f);else{var v=d.pointAtT(g),y=f.difference(v);l={x:y.x,y:y.y}}return o.offset=l,o.angle=s,o},_getLabelTransformationMatrix:function(e){var t,n=0,r={};if("number"==typeof e)t=e;else{if("number"!=typeof e.distance)throw new Error("dia.LinkView: invalid label position distance.");r=e.args||{},t=e.distance,n=e.angle||0}var i=t>0&&t<=1,o=0,s={x:0,y:0};if(e.offset){var a=e.offset;"number"==typeof a&&(o=a),a.x&&(s.x=a.x),a.y&&(s.y=a.y)}var l,u=0!==s.x||0!==s.y||0===o,c=r.keepGradient,h=r.ensureLegibility,d=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},f=i?t*this.getConnectionLength():t,g=d.tangentAtLength(f,p),m=n;if(g){if(u)(l=g.start).offset(s);else{var v=g.clone();v.rotate(g.start,-90),v.setLength(o),l=v.end}c&&(m=g.angle()+n,h&&(m=T((m+90)%180-90)))}else l=d.start,u&&l.offset(s);return Q.createSVGMatrix().translate(l.x,l.y).rotate(m)},getLabelCoordinates:function(e){var t=this._getLabelTransformationMatrix(e);return new _(t.e,t.f)},getVertexIndex:function(e,t){for(var n=this.model.vertices(),r=this.getClosestPointLength(new _(e,t)),i=0,o=n.length;i<o&&!(r<this.getClosestPointLength(n[i]));i++);return i},notifyPointerdown:function(e,t,n){Qt.prototype.pointerdown.call(this,e,t,n),this.notify("link:pointerdown",e,t,n)},notifyPointermove:function(e,t,n){Qt.prototype.pointermove.call(this,e,t,n),this.notify("link:pointermove",e,t,n)},notifyPointerup:function(e,t,n){this.notify("link:pointerup",e,t,n),Qt.prototype.pointerup.call(this,e,t,n)},pointerdblclick:function(e,t,n){Qt.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",e,t,n)},pointerclick:function(e,t,n){Qt.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",e,t,n)},contextmenu:function(e,t,n){Qt.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",e,t,n)},pointerdown:function(e,t,n){switch(this.notifyPointerdown(e,t,n),e.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(e,t,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(e,t,n);case"marker-arrowhead":return void this.dragArrowheadStart(e,t,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(e,t,n);case"marker-source":case"marker-target":return}this.dragStart(e,t,n)},pointermove:function(e,t,n){var r=this._dragData;switch(r&&this.eventData(e,r),this.eventData(e).action){case"vertex-move":this.dragVertex(e,t,n);break;case"label-move":this.dragLabel(e,t,n);break;case"arrowhead-move":this.dragArrowhead(e,t,n);break;case"move":this.drag(e,t,n)}r&&Pe(r,this.eventData(e)),this.notifyPointermove(e,t,n)},pointerup:function(e,t,n){var r=this._dragData;switch(r&&(this.eventData(e,r),this._dragData=null),this.eventData(e).action){case"vertex-move":this.dragVertexEnd(e,t,n);break;case"label-move":this.dragLabelEnd(e,t,n);break;case"arrowhead-move":this.dragArrowheadEnd(e,t,n);break;case"move":this.dragEnd(e,t,n)}this.notifyPointerup(e,t,n),this.checkMouseleave(e)},mouseover:function(e){Qt.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",e)},mouseout:function(e){Qt.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",e)},mouseenter:function(e){Qt.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",e)},mouseleave:function(e){Qt.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",e)},mousewheel:function(e,t,n,r){Qt.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",e,t,n,r)},onevent:function(e,t,n,r){if(Q(e.target).findParentByClass("link-tool",this.el)){if(e.stopPropagation(),this.can("useLinkTools")){if("remove"===t)return void this.model.remove({ui:!0});this.notify(t,e,n,r)}this.notifyPointerdown(e,n,r)}else Qt.prototype.onevent.apply(this,arguments)},onlabel:function(e,t,n){this.notifyPointerdown(e,t,n),this.dragLabelStart(e,t,n),this.eventData(e).stopPropagation&&e.stopPropagation()},dragConnectionStart:function(e,t,n){if(this.can("vertexAdd")){var r=this.addVertex({x:t,y:n},{ui:!0});this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(e,t,n){if(this.can("labelMove")){var r=parseInt(e.currentTarget.getAttribute("label-idx"),10),i=this._getLabelPositionAngle(r),o=this._getLabelPositionArgs(r),s=this._getDefaultLabelPositionArgs(),a=this._mergeLabelPositionArgs(o,s);this.eventData(e,{action:"label-move",labelIdx:r,positionAngle:i,positionArgs:a,stopPropagation:!0})}else this.eventData(e,{stopPropagation:!0});this.paper.delegateDragEvents(this,e.data)},dragVertexStart:function(e,t,n){if(this.can("vertexMove")){var r=parseInt(e.target.getAttribute("idx"),10);this.eventData(e,{action:"vertex-move",vertexIdx:r})}},dragVertexRemoveStart:function(e,t,n){if(this.can("vertexRemove")){var r=parseInt(e.target.getAttribute("idx"),10);this.model.removeVertex(r)}},dragArrowheadStart:function(e,t,n){if(this.can("arrowheadMove")){var r=e.target.getAttribute("end"),i=this.startArrowheadMove(r,{ignoreBackwardsCompatibility:!0});this.eventData(e,i)}},dragStart:function(e,t,n){this.can("linkMove")&&this.eventData(e,{action:"move",dx:t,dy:n})},dragLabel:function(e,t,n){var r=this.eventData(e),i={position:this.getLabelPosition(t,n,r.positionAngle,r.positionArgs)};this.model.label(r.labelIdx,i)},dragVertex:function(e,t,n){var r=this.eventData(e);this.model.vertex(r.vertexIdx,{x:t,y:n},{ui:!0})},dragArrowhead:function(e,t,n){var r=this.eventData(e);this.paper.options.snapLinks?this._snapArrowhead(t,n,r):this._connectArrowhead(this.getEventTarget(e),t,n,r)},drag:function(e,t,n){var r=this.eventData(e);this.model.translate(t-r.dx,n-r.dy,{ui:!0}),this.eventData(e,{dx:t,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(e,t,n){var r=this.eventData(e),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,t,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,e)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(e){switch(e.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(e.arrowhead,e.initialEnd,{ui:!0})}},_finishEmbedding:function(e){this.paper.options.embeddingMode&&this.model.reparent()&&(e.z=null)},_notifyConnectEvent:function(e,t){var n=e.arrowhead,r=e.initialEnd,i=this.model.prop(n);if(i&&!Ut.endsEqual(r,i)){var o=this.paper;r.id&&this.notify("link:disconnect",t,o.findViewByModel(r.id),e.initialMagnet,n),i.id&&this.notify("link:connect",t,o.findViewByModel(i.id),e.magnetUnderPointer,n)}},_snapArrowhead:function(e,t,n){var r,i=this.paper.options.snapLinks.radius||50,o=this.paper.findViewsInArea({x:e-i,y:t-i,width:2*i,height:2*i}),s=n.closestView||null,a=n.closestMagnet||null;n.closestView=n.closestMagnet=null;var l,u=Number.MAX_VALUE,c=_(e,t),h=this.paper;o.forEach(function(e){"false"!==e.el.getAttribute("magnet")&&(r=e.model.getBBox().center().distance(c))<i&&r<u&&(a===e.el||h.options.validateConnection.apply(h,n.validateConnectionArgs(e,null)))&&(u=r,n.closestView=e,n.closestMagnet=e.el),e.$("[magnet]").each((function(t,o){var s=e.getNodeBBox(o);(r=c.distance({x:s.x+s.width/2,y:s.y+s.height/2}))<i&&r<u&&(a===o||h.options.validateConnection.apply(h,n.validateConnectionArgs(e,o)))&&(u=r,n.closestView=e,n.closestMagnet=o)}).bind(this))},this);var d=n.closestView,p=n.closestMagnet,f=n.arrowhead,g=a!==p;if(s&&g&&s.unhighlight(a,{connecting:!0,snapping:!0}),d){if(!g)return;d.highlight(p,{connecting:!0,snapping:!0}),l=d.getLinkEnd(p,e,t,this.model,f)}else l={x:e,y:t};this.model.set(f,l||{x:e,y:t},{ui:!0})},_snapArrowheadEnd:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(n,{connecting:!0,snapping:!0}),e.magnetUnderPointer=t.findMagnet(n)),e.closestView=e.closestMagnet=null},_connectArrowhead:function(e,t,n,r){r.eventTarget!==e&&(r.magnetUnderPointer&&r.viewUnderPointer.unhighlight(r.magnetUnderPointer,{connecting:!0}),r.viewUnderPointer=this.paper.findView(e),r.viewUnderPointer?(r.magnetUnderPointer=r.viewUnderPointer.findMagnet(e),r.magnetUnderPointer&&this.paper.options.validateConnection.apply(this.paper,r.validateConnectionArgs(r.viewUnderPointer,r.magnetUnderPointer))?r.magnetUnderPointer&&r.viewUnderPointer.highlight(r.magnetUnderPointer,{connecting:!0}):r.magnetUnderPointer=null):r.magnetUnderPointer=null),r.eventTarget=e,this.model.set(r.arrowhead,{x:t,y:n},{ui:!0})},_connectArrowheadEnd:function(e,t,n){var r=e.viewUnderPointer,i=e.magnetUnderPointer;if(i&&r){r.unhighlight(i,{connecting:!0});var o=e.arrowhead,s=r.getLinkEnd(i,t,n,this.model,o);this.model.set(o,s,{ui:!0})}},_beforeArrowheadMove:function(e){e.z=this.model.get("z"),this.model.toFront();var t=this.el.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(e)},_afterArrowheadMove:function(e){null!==e.z&&(this.model.set("z",e.z,{ui:!0}),e.z=null),this.el.style.pointerEvents=e.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(e)},_createValidateConnectionArgs:function(e){var t,n=[];n[4]=e,n[5]=this;var r=0,i=0;"source"===e?(r=2,t="target"):(i=2,t="source");var o=this.model.get(t);if(o.id){var s=n[r]=this.paper.findViewByModel(o.id),a=s.getMagnetFromLinkEnd(o);a===s.el&&(a=void 0),n[r+1]=a}return function(e,t){return n[i]=e,n[i+1]=e.el===t?void 0:t,n}},_markAvailableMagnets:function(e){function t(e,t){var n=e.paper;return n.options.validateConnection.apply(n,this.validateConnectionArgs(e,t))}var n=this.paper,r=n.model.getCells();e.marked={};for(var i=0,o=r.length;i<o;i++){var s=r[i].findView(n);if(s){var a=Array.prototype.slice.call(s.el.querySelectorAll("[magnet]"));"false"!==s.el.getAttribute("magnet")&&a.push(s.el);var l=a.filter(t.bind(e,s));if(l.length>0){for(var u=0,c=l.length;u<c;u++)s.highlight(l[u],{magnetAvailability:!0});s.highlight(null,{elementAvailability:!0}),e.marked[s.model.id]=l}}}},_unmarkAvailableMagnets:function(e){for(var t,n,r=Object.keys(e.marked),i=0,o=r.length;i<o;i++){n=e.marked[t=r[i]];var s=this.paper.findViewByModel(t);if(s){for(var a=0,l=n.length;a<l;a++)s.unhighlight(n[a],{magnetAvailability:!0});s.unhighlight(null,{elementAvailability:!0})}}e.marked=null},startArrowheadMove:function(e,t){t||(t={});var n={action:"arrowhead-move",arrowhead:e,whenNotAllowed:t.whenNotAllowed||"revert",initialMagnet:this[e+"Magnet"]||(this[e+"View"]?this[e+"View"].el:null),initialEnd:Le(this.model.get(e)),validateConnectionArgs:this._createValidateConnectionArgs(e)};return this._beforeArrowheadMove(n),!0!==t.ignoreBackwardsCompatibility&&(this._dragData=n),n}});Object.defineProperty(Vn.prototype,"sourceBBox",{enumerable:!0,get:function(){var e=this.sourceView;if(!e){var t=this.model.source();return new D(t.x,t.y)}var n=this.sourceMagnet;return e.isNodeConnection(n)?new D(this.sourceAnchor):e.getNodeBBox(n||e.el)}}),Object.defineProperty(Vn.prototype,"targetBBox",{enumerable:!0,get:function(){var e=this.targetView;if(!e){var t=this.model.target();return new D(t.x,t.y)}var n=this.targetMagnet;return e.isNodeConnection(n)?new D(this.targetAnchor):e.getNodeBBox(n||e.el)}});var Yn={stroke:{defaultOptions:{padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},_views:{},getHighlighterId:function(e,t){return e.id+JSON.stringify(t)},removeHighlighter:function(e){this._views[e]&&(this._views[e].remove(),this._views[e]=null)},highlight:function(e,t,n){var r=this.getHighlighterId(t,n);if(!this._views[r]){var i,o=Me(n||{},this.defaultOptions),s=Q(t);try{var a=s.convertToPathData()}catch(C){i=s.bbox(!0),a=Q.rectToPath(Pe({},o,i))}var l=Q("path").attr({d:a,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"}).attr(o.attrs);if(e.isNodeConnection(t))l.attr("d",e.getSerializedConnection());else{var u=s.getTransformToElement(e.el),c=o.padding;if(c){i||(i=s.bbox(!0));var h=i.x+i.width/2,d=i.y+i.height/2;i=Q.transformRect(i,u);var p=Math.max(i.width,1),f=Math.max(i.height,1),g=(p+c)/p,m=(f+c)/f,v=Q.createSVGMatrix({a:g,b:0,c:0,d:m,e:h-g*h,f:d-m*d});u=u.multiply(v)}l.transform(u)}var y=this._views[r]=new Kt({svgElement:!0,className:"highlight-stroke",el:l.node}),b=this.removeHighlighter.bind(this,r),w=e.model;y.listenTo(w,"remove",b),y.listenTo(w.graph,"reset",b),e.vel.append(l)}},unhighlight:function(e,t,n){this.removeHighlighter(this.getHighlighterId(t,n))}},opacity:{highlight:function(e,t){Q(t).addClass(ee("highlight-opacity"))},unhighlight:function(e,t){Q(t).removeClass(ee("highlight-opacity"))}},addClass:{className:ee("highlighted"),highlight:function(e,t,n){var r=(n||{}).className||this.className;Q(t).addClass(r)},unhighlight:function(e,t,n){var r=(n||{}).className||this.className;Q(t).removeClass(r)}}};function Hn(e){return function(t,n,r,i){if(r instanceof Element){var o,s=this.paper.findView(r);return o=s?s.isNodeConnection(r)?qn(s,"fixedAt"in i?i.fixedAt:"50%"):s.getNodeBBox(r).center():new _,e.call(this,t,n,o,i)}return e.apply(this,arguments)}}function qn(e,t){var n=parseFloat(t);return fe(t)?e.getPointAtRatio(n/100):e.getPointAtLength(n)}var Xn=Hn(function(e,t,n,r){var i=e.getConnection(),o=e.getConnectionSubdivisions(),s=new x(n.clone().offset(0,1e6),n.clone().offset(0,-1e6)),a=new x(n.clone().offset(1e6,0),n.clone().offset(-1e6,0)),l=s.intersect(i,{segmentSubdivisions:o}),u=a.intersect(i,{segmentSubdivisions:o}),c=[];return l&&Array.prototype.push.apply(c,l),u&&Array.prototype.push.apply(c,u),c.length>0?n.chooseClosest(c):"fallbackAt"in r?qn(e,r.fallbackAt):Kn(e,t,n,r)}),Kn=Hn(function(e,t,n,r){return e.getClosestPoint(n)||new _}),Jn={resolveRef:Hn,connectionRatio:function(e,t,n,r){return e.getPointAtRatio("ratio"in r?r.ratio:.5)},connectionLength:function(e,t,n,r){return e.getPointAtLength("length"in r?r.length:20)},connectionPerpendicular:Xn,connectionClosest:Kn};function Qn(e,t,n){if(!isFinite(n))return e;var r=e.distance(t);return 0===n&&r>0?e:e.move(t,-Math.min(n,r-1))}function $n(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}function er(e,t,n,r){var i=t.getNodeBBox(n);r.stroke&&i.inflate($n(n)/2);var o=e.intersect(i);return Qn(o?e.start.chooseClosest(o):e.end,e.start,r.offset)}var tr={anchor:function(e,t,n,r){return Qn(e.end,e.start,r.offset)},bbox:er,rectangle:function(e,t,n,r){var i=t.model.angle();if(0===i)return er(e,t,n,r);var o=t.getNodeUnrotatedBBox(n);r.stroke&&o.inflate($n(n)/2);var s=o.center(),a=e.clone().rotate(s,i),l=a.setLength(1e6).intersect(o);return Qn(l?a.start.chooseClosest(l).rotate(s,-i):e.end,e.start,r.offset)},boundary:function(e,t,n,r){var i,o,s=r.selector,a=e.end;if(i="string"==typeof s?t.findBySelector(s)[0]:Array.isArray(s)?ie(n,s):function(e){if(!e)return null;var t=e;do{var n=t.tagName;if("string"!=typeof n)return null;if("G"===(n=n.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}(n),!Q.isSVGGraphicsElement(i)){if(i===n||!Q.isSVGGraphicsElement(n))return a;i=n}var l,u=t.getNodeShape(i),c=t.getNodeMatrix(i),h=t.getRootTranslateMatrix(),d=t.getRootRotateMatrix(),p=h.multiply(d).multiply(c),f=p.inverse(),g=Q.transformLine(e,f),m=g.start.clone(),v=t.getNodeData(i);if(!1===r.insideout&&(v.shapeBBox||(v.shapeBBox=u.bbox()),v.shapeBBox.containsPoint(m)))return a;if(u instanceof A){var y=r.precision||2;v.segmentSubdivisons||(v.segmentSubdivisons=u.getSegmentSubdivisions({precision:y})),l={precision:y,segmentSubdivisions:v.segmentSubdivisons}}!0===r.extrapolate&&g.setLength(1e6),(o=g.intersect(u,l))?Q.isArray(o)&&(o=m.chooseClosest(o)):!0===r.sticky&&(o=u instanceof D?u.pointNearestToPoint(m):u instanceof I?u.intersectionWithLineFromCenterToPoint(m):u.closestPoint(m,l));var b=o?Q.transformPoint(o,p):a,w=r.offset||0;return r.stroke&&(w+=$n(i)/2),Qn(b,e.start,w)}};function nr(e){return function(t,n,r,i){var o=!!i.rotate,s=o?t.getNodeUnrotatedBBox(n):t.getNodeBBox(n),a=s[e](),l=i.dx;if(l){var u=fe(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=s.width),a.x+=l)}var c=i.dy;if(c){var h=fe(c);c=parseFloat(c),isFinite(c)&&(h&&(c/=100,c*=s.height),a.y+=c)}return o?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}var rr=nr("center"),ir=nr("topMiddle"),or=nr("bottomMiddle"),sr=nr("leftMiddle"),ar=nr("rightMiddle"),lr=nr("origin"),ur=nr("topRight"),cr=nr("bottomLeft"),hr=nr("corner"),dr=Hn(function(e,t,n,r){var i=e.model.angle(),o=e.getNodeBBox(t),s=o.center(),a=o.origin(),l=o.corner(),u=r.padding;if(isFinite(u)||(u=0),a.y+u<=n.y&&n.y<=l.y-u){var c=n.y-s.y;s.x+=0===i||180===i?0:1*c/Math.tan(P(i)),s.y+=c}else if(a.x+u<=n.x&&n.x<=l.x-u){var h=n.x-s.x;s.y+=90===i||270===i?0:h*Math.tan(P(i)),s.x+=h}return s}),pr=Hn(function(e,t,n,r){var i,o,s,a=!!r.rotate;a?(i=e.getNodeUnrotatedBBox(t),s=e.model.getBBox().center(),o=e.model.angle()):i=e.getNodeBBox(t);var l,u=r.padding;switch(isFinite(u)&&i.inflate(u),a&&n.rotate(s,o),i.sideNearestToPoint(n)){case"left":l=i.leftMiddle();break;case"right":l=i.rightMiddle();break;case"top":l=i.topMiddle();break;case"bottom":l=i.bottomMiddle()}return a?l.rotate(s,-o):l}),fr={center:rr,top:ir,bottom:or,left:sr,right:ar,topLeft:lr,topRight:ur,bottomLeft:cr,bottomRight:hr,perpendicular:dr,midSide:pr,modelCenter:function(e,t,n,r,i){return e.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)}},gr={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},mr=Kt.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:$t,linkView:Vn,snapLinks:!1,multiLinks:!0,guard:function(e,t){return!1},highlighting:{default:{name:"stroke",options:{padding:3}},magnetAvailability:{name:"addClass",options:{className:"available-magnet"}},elementAvailability:{name:"addClass",options:{className:"available-cell"}}},preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Ut,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(e,t,n){return"passive"!==t.getAttribute("magnet")},validateConnection:function(e,t,n,r,i,o){return("target"===i?n:e)instanceof $t},embeddingMode:!1,validateEmbedding:function(e,t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:gr.EXACT,frozen:!1,onViewUpdate:function(e,t,n,r){t&1<<30||n.mounting||r.requestConnectedLinksUpdate(e,n)},onViewPostponed:function(e,t){return this.forcePostponedViewUpdate(e,t)},viewport:null,cellViewNamespace:null,highlighterNamespace:Yn,anchorNamespace:fr,linkAnchorNamespace:Jn,connectionPointNamespace:tr},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",mousewheel:"mousewheel",DOMMouseScroll:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_highlights:null,_zPivots:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],MIN_SCALE:1e-6,init:function(){var e=this.options,t=this.el;e.cellViewNamespace||(e.cellViewNamespace="undefined"!=typeof joint&&Qe(joint,"shapes")?joint.shapes:null);var n=this.model=e.model||new qt;this.setGrid(e.drawGrid),this.cloneOptions(),this.render(),this.setDimensions(),this.startListening(),this._views={},this._zPivots={},this.$document=r(t.ownerDocument),this._highlights={},this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1}},startListening:function(){var e=this.model;this.listenTo(e,"add",this.onCellAdded).listenTo(e,"remove",this.onCellRemoved).listenTo(e,"change",this.onCellChange).listenTo(e,"reset",this.onGraphReset).listenTo(e,"sort",this.onGraphSort).listenTo(e,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(e,t,n){var r=n.position;this.isAsync()||!ut(r)?this.renderView(e,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(e,n),0===r&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(e,t,n){var r=this.findViewByModel(e);r&&this.requestViewUpdate(r,1<<29,r.UPDATE_PRIORITY,n)},onCellChange:function(e,t){if(e!==this.model.attributes.cells&&e.hasChanged("z")&&this.options.sorting===gr.APPROX){var n=this.findViewByModel(e);n&&this.requestViewUpdate(n,1<<30,n.UPDATE_PRIORITY,t)}},onGraphReset:function(e,t){this.removeZPivots(),this.resetViews(e.models,t)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(e){if(!this.isFrozen()){var t=e&&e.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(t)&&!n.hasActiveBatch(r)&&this.updateViews(e)}var i=this.SORT_DELAYING_BATCHES;i.includes(t)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){var e=this.options;e.origin=Pe({},e.origin),e.defaultConnector=Pe({},e.defaultConnector),e.highlighting=Oe({},e.highlighting,this.constructor.prototype.options.highlighting),!e.cellViewNamespace&&"undefined"!=typeof joint&&Qe(joint,"shapes")&&(e.cellViewNamespace=joint.shapes)},children:function(){var e=Q.namespace;return[{namespaceURI:e.xhtml,tagName:"div",className:ee("paper-background"),selector:"background"},{namespaceURI:e.xhtml,tagName:"div",className:ee("paper-grid"),selector:"grid"},{namespaceURI:e.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":e.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:ee("layers"),selector:"layers",children:[{tagName:"g",className:ee("cells-layer viewport"),selector:"cells"},{tagName:"g",className:ee("tools-layer"),selector:"tools"}]}]}]},render:function(){this.renderChildren();var e=this.childNodes,t=this.options,n=e.svg,i=e.cells,o=e.defs,s=e.tools,a=e.layers,l=e.background,u=e.grid;return this.svg=n,this.defs=o,this.tools=s,this.cells=i,this.layers=a,this.$background=r(l),this.$grid=r(u),Q.ensureId(n),this.viewport=i,t.background&&this.drawBackground(t.background),t.drawGrid&&this.drawGrid(),this},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(e){var t=this.layers;if(void 0===e){var n=t.getAttribute("transform");return(this._viewportTransformString||null)===n?e=this._viewportMatrix:(e=t.getCTM(),this._viewportMatrix=e,this._viewportTransformString=n),Q.createSVGMatrix(e)}e=Q.createSVGMatrix(e);var r=Q.matrixToTransformString(e);return t.setAttribute("transform",r),this._viewportMatrix=e,this._viewportTransformString=t.getAttribute("transform"),this},clientMatrix:function(){return Q.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(e,t){if(e instanceof Qt)for(var n=e.model,r=this.model.getConnectedLinks(n),i=0,o=r.length;i<o;i++){var s=r[i],a=this.findViewByModel(s);if(a){var l=["UPDATE"];s.getTargetCell()===n&&l.push("TARGET"),s.getSourceCell()===n&&l.push("SOURCE"),this.scheduleViewUpdate(a,a.getFlag(l),a.UPDATE_PRIORITY,t)}}},forcePostponedViewUpdate:function(e,t){if(!(e&&e instanceof Qt))return!1;var n=e.model;if(n.isElement())return!1;if(0==(t&e.getFlag(["SOURCE","TARGET"]))){var r=0,i=this.findViewByModel(n.getSourceCell());i&&!this.isViewMounted(i)&&(r=this.dumpView(i),e.updateEndMagnet("source"));var o=0,s=this.findViewByModel(n.getTargetCell());if(s&&!this.isViewMounted(s)&&(o=this.dumpView(s),e.updateEndMagnet("target")),0===r&&0===o)return!!this.dumpView(e)}return!1},requestViewUpdate:function(e,t,n,r){r||(r={}),this.scheduleViewUpdate(e,t,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&!1!==r.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES))){var o=this.updateViews(r);i&&this.trigger("render:done",o,r)}},scheduleViewUpdate:function(e,t,n,r){var i=this._updates,o=i.priorities[n];o||(o=i.priorities[n]={});var s=o[e.cid]||0;if((s&t)!==t){s||i.count++,t&1<<29&&s&1<<30?o[e.cid]^=1<<30:t&1<<30&&s&1<<29&&(o[e.cid]^=1<<29),o[e.cid]|=t;var a=this.options.onViewUpdate;"function"==typeof a&&a.call(this,e,t,r||{},this)}},dumpViewUpdate:function(e){if(!e)return 0;var t=e.cid,n=this._updates.priorities[e.UPDATE_PRIORITY],r=this.registerMountedView(e)|n[t];return delete n[t],r},dumpView:function(e,t){var n=this.dumpViewUpdate(e);return n?this.updateView(e,n,t):0},updateView:function(e,t,n){if(!e)return 0;if(e instanceof Qt){if(t&1<<29)return this.removeView(e.model),0;t&1<<30&&(this.insertView(e),t^=1<<30)}return t?e.confirmUpdate(t,n||{}):0},requireView:function(e,t){var n=this.findViewByModel(e);return n?(this.dumpView(n,t),n):null},registerUnmountedView:function(e){var t=e.cid,n=this._updates;if(t in n.unmounted)return 0;var r=n.unmounted[t]|=1<<30;return n.unmountedCids.push(t),delete n.mounted[t],r},registerMountedView:function(e){var t=e.cid,n=this._updates;if(t in n.mounted)return 0;n.mounted[t]=!0,n.mountedCids.push(t);var r=n.unmounted[t]||0;return delete n.unmounted[t],r},isViewMounted:function(e){return!!e&&e.cid in this._updates.mounted},dumpViews:function(e){var t=Me({},e,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(e){var t,n=0,r=0,i=2;do{r++,n+=(t=this.updateViewsBatch(e)).updated,i=Math.min(t.priority,i)}while(!t.empty);return{updated:n,batches:r,priority:i}},updateViewsAsync:function(e,t){e||(e={}),t||(t={processed:0,priority:2});var n=this._updates,r=n.id;if(r){pe(r);var i=this.updateViewsBatch(e),o=Me({},e,{mountBatchSize:1e3-i.mounted,unmountBatchSize:1e3-i.unmounted}),s=this.checkViewport(o),a=s.unmounted,l=s.mounted,u=t.processed,c=n.count;i.updated>0&&(i.processed=u+=i.updated+i.unmounted,t.priority=Math.min(i.priority,t.priority),i.empty&&0===l?(i.unmounted+=a,i.mounted+=l,i.priority=t.priority,this.trigger("render:done",i,e),t.processed=0,n.count=0):t.processed=u);var h=e.progress;if(c&&"function"==typeof h&&h.call(this,i.empty,u,c,i,this),n.id!==r)return}n.id=de(this.updateViewsAsync,this,e,t)},updateViewsBatch:function(e){e||(e={});var t=e.batchSize||1/0,n=this._updates,r=0,i=0,o=0,s=0,a=2,l=!0,u=this.options,c=n.priorities,h="viewport"in e?e.viewport:u.viewport;"function"!=typeof h&&(h=null);var d=u.onViewPostponed;"function"!=typeof d&&(d=null);e:for(var p=0,f=c.length;p<f;p++){var g=c[p];for(var m in g){if(r>=t){l=!1;break e}var v=Xt[m];if(v){var y=g[m];if(0==(y&1<<29)){var b=m in n.unmounted;if(h&&!h.call(this,v,b,this)){b||(this.registerUnmountedView(v),v.unmount()),n.unmounted[m]|=y,delete g[m],o++;continue}b&&(y|=1<<30,s++),y|=this.registerMountedView(v)}var w=this.updateView(v,y,e);w>0&&(g[m]=w,!d||!d.call(this,v,w,this)||g[m])?(i++,l=!1):(a>p&&(a=p),r++,delete g[m])}else delete g[m]}}return{priority:a,updated:r,postponed:i,unmounted:o,mounted:s,empty:l}},getUnmountedViews:function(){for(var e=Object.keys(this._updates.unmounted),t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=Xt[e[r]];return n},getMountedViews:function(){for(var e=Object.keys(this._updates.mounted),t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=Xt[e[r]];return n},checkUnmountedViews:function(e,t){t||(t={});var n=0;"function"!=typeof e&&(e=null);for(var r=this._updates,i=r.unmountedCids,o=r.unmounted,s=0,a=(Math.min(i.length,"mountBatchSize"in t?t.mountBatchSize:1/0));s<a;s++){var l=i[s];if(l in o){var u=Xt[l];if(u)if(!e||e.call(this,u,!1,this)){n++;var c=this.registerMountedView(u);c&&this.scheduleViewUpdate(u,c,u.UPDATE_PRIORITY,{mounting:!0})}else i.push(l)}}return i.splice(0,s),n},checkMountedViews:function(e,t){t||(t={});var n=0;if("function"!=typeof e)return n;for(var r=this._updates,i=r.mountedCids,o=r.mounted,s=0,a=(Math.min(i.length,"unmountBatchSize"in t?t.unmountBatchSize:1/0));s<a;s++){var l=i[s];if(l in o){var u=Xt[l];u&&(e.call(this,u,!0,this)?i.push(l):(n++,this.registerUnmountedView(u)&&u.unmount()))}}return i.splice(0,s),n},checkViewport:function(e){var t=Me({},e,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in t?t.viewport:this.options.viewport,r=this.checkMountedViews(n,t);return r>0&&(t.mountBatchSize=Math.min(this._updates.unmountedCids.length-r,t.mountBatchSize)),{mounted:this.checkUnmountedViews(n,t),unmounted:r}},freeze:function(e){e||(e={});var t=this._updates,n=e.key,r=this.options.frozen,i=t.freezeKey;if(n&&n!==i){if(r&&i)return;t.freezeKey=n,t.keyFrozen=r}this.options.frozen=!0;var o=t.id;t.id=null,this.isAsync()&&o&&pe(o)},unfreeze:function(e){e||(e={});var t=this._updates,n=e.key,r=t.freezeKey;n&&r&&n!==r||(t.freezeKey=null,n&&n===r&&t.keyFrozen||(this.isAsync()?(this.freeze(),this.updateViewsAsync(e)):this.updateViews(e),this.options.frozen=t.keyFrozen=!1,t.sort&&(this.sortViews(),t.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===gr.EXACT},onRemove:function(){this.freeze(),this.removeViews()},getComputedSize:function(){var e=this.options,t=e.width,n=e.height;return ut(t)||(t=this.el.clientWidth),ut(n)||(n=this.el.clientHeight),{width:t,height:n}},setDimensions:function(e,t){var n=this.options,r=void 0===e?n.width:e,i=void 0===t?n.height:t;this.options.width=r,this.options.height=i,ut(r)&&(r=Math.round(r)),ut(i)&&(i=Math.round(i)),this.$el.css({width:null===r?"":r,height:null===i?"":i});var o=this.getComputedSize();this.trigger("resize",o.width,o.height)},setOrigin:function(e,t){return this.translate(e||0,t||0,{absolute:!0})},fitToContent:function(e,t,n,r){lt(e)?(e=(r=e).gridWidth||1,t=r.gridHeight||1,n=r.padding||0):(r||(r={}),e=e||1,t=t||1,n=n||0),n=Ce(n);var i="contentArea"in r?new D(r.contentArea):this.getContentArea(r),o=this.scale(),s=this.translate(),a=o.sx,l=o.sy;i.x*=a,i.y*=l,i.width*=a,i.height*=l;var u=Math.max(Math.ceil((i.width+i.x)/e),1)*e,c=Math.max(Math.ceil((i.height+i.y)/t),1)*t,h=0,d=0;("negative"==r.allowNewOrigin&&i.x<0||"positive"==r.allowNewOrigin&&i.x>=0||"any"==r.allowNewOrigin)&&(h=Math.ceil(-i.x/e)*e,u+=h+=n.left),("negative"==r.allowNewOrigin&&i.y<0||"positive"==r.allowNewOrigin&&i.y>=0||"any"==r.allowNewOrigin)&&(d=Math.ceil(-i.y/t)*t,c+=d+=n.top),u+=n.right,c+=n.bottom,u=Math.max(u,r.minWidth||0),c=Math.max(c,r.minHeight||0),u=Math.min(u,r.maxWidth||Number.MAX_VALUE),c=Math.min(c,r.maxHeight||Number.MAX_VALUE);var p=this.getComputedSize(),f=u!=p.width||c!=p.height;return(h!=s.tx||d!=s.ty)&&this.translate(h,d),f&&this.setDimensions(u,c),new D(-h/a,-d/l,u/a,c/l)},scaleContentToFit:function(e){var t,n;if(e||(e={}),"contentArea"in e){var r=e.contentArea;t=this.localToPaperRect(r),n=new _(r)}else t=this.getContentBBox(e),n=this.paperToLocalPoint(t);if(t.width&&t.height){Me(e,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE});var i,o=e.padding,s=e.minScaleX||e.minScale,a=e.maxScaleX||e.maxScale,l=e.minScaleY||e.minScale,u=e.maxScaleY||e.maxScale;if(e.fittingBBox)i=e.fittingBBox;else{var c=this.translate(),h=this.getComputedSize();i={x:c.tx,y:c.ty,width:h.width,height:h.height}}i=new D(i).inflate(-o);var d=this.scale(),p=i.width/t.width*d.sx,f=i.height/t.height*d.sy;if(e.preserveAspectRatio&&(p=f=Math.min(p,f)),e.scaleGrid){var g=e.scaleGrid;p=g*Math.floor(p/g),f=g*Math.floor(f/g)}p=Math.min(a,Math.max(s,p)),f=Math.min(u,Math.max(l,f));var m=this.options.origin,v=i.x-n.x*p-m.x,y=i.y-n.y*f-m.y;this.scale(p,f),this.translate(v,y)}},getContentArea:function(e){return e&&e.useModelGeometry?this.model.getBBox()||new D:Q(this.cells).getBBox()},getContentBBox:function(e){return this.localToPaperRect(this.getContentArea(e))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(){return Ge(this.options.restrictTranslate)?this.options.restrictTranslate.apply(this,arguments):!0===this.options.restrictTranslate?this.getArea():this.options.restrictTranslate||null},createViewForModel:function(e){var n,r,i=this.options.cellViewNamespace,o=e.get("type")+"View",s=ie(i,o,".");return e.isLink()?(n=this.options.linkView,r=Vn):(n=this.options.elementView,r=$t),new(n.prototype instanceof t.View?s||n:n.call(this,e)||s||r)({model:e,interactive:this.options.interactive})},removeView:function(e){var t=e.id,n=this._views,r=this._updates,i=n[t];if(i){var o=i.cid,s=r.mounted,a=r.unmounted;i.remove(),delete n[t],delete s[o],delete a[o]}return i},renderView:function(e,t){var n,r,i=e.id,o=this._views;return i in o?(n=o[i],r=1<<30):((n=o[e.id]=this.createViewForModel(e)).paper=this,r=this.registerUnmountedView(n)|n.getFlag(n.initFlag)),this.requestViewUpdate(n,r,n.UPDATE_PRIORITY,t),n},onImageDragStart:function(){return!1},resetViews:function(e,t){t||(t={}),e||(e=[]),this._resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var n=0,r=e.length;n<r;n++)this.renderView(e[n],t);this.unfreeze({key:"reset"}),this.sortViews()},removeViews:function(){Ee(this._views,"remove"),this._views={}},sortViews:function(){this.isExactSorting()&&(this.isFrozen()?this._updates.sort=!0:this.sortViewsExact())},sortViewsExact:function(){var e=r(this.cells).children("[model-id]"),t=this.model.get("cells");we(e,function(e,n){var r=t.get(e.getAttribute("model-id")),i=t.get(n.getAttribute("model-id")),o=r.attributes.z||0,s=i.attributes.z||0;return o===s?0:o<s?-1:1})},insertView:function(e){var t=this.cells;switch(this.options.sorting){case gr.APPROX:var n=e.model.get("z"),r=this.addZPivot(n);t.insertBefore(e.el,r);break;case gr.EXACT:default:t.appendChild(e.el)}},addZPivot:function(e){(e=+e)||(e=0);var t=this._zPivots,n=t[e];if(n)return n;n=t[e]=document.createComment("z-index:"+(e+1));var r=-1/0;for(var i in t)(i=+i)<e&&i>r&&(r=i);var o=this.cells;return o.insertBefore(n,r!==-1/0?t[r].nextSibling:o.firstChild),n},removeZPivots:function(){var e=this._zPivots,t=this.viewport;for(var n in e)t.removeChild(e[n]);this._zPivots={}},scale:function(e,t,n,r){if(void 0===e)return Q.matrixToScale(this.matrix());void 0===t&&(t=e),void 0===n&&(n=0,r=0);var i=this.translate();(n||r||i.tx||i.ty)&&this.translate(i.tx-n*(e-1),i.ty-r*(t-1)),e=Math.max(e||0,this.MIN_SCALE),t=Math.max(t||0,this.MIN_SCALE);var o=this.matrix();return o.a=e,o.d=t,this.matrix(o),this.trigger("scale",e,t,n,r),this},rotate:function(e,t,n){if(void 0===e)return Q.matrixToRotate(this.matrix());if(void 0===t){var r=this.cells.getBBox();t=r.width/2,n=r.height/2}var i=this.matrix().translate(t,n).rotate(e).translate(-t,-n);return this.matrix(i),this},translate:function(e,t){if(void 0===e)return Q.matrixToTranslate(this.matrix());var n=this.matrix();n.e=e||0,n.f=t||0,this.matrix(n);var r=this.translate(),i=this.options.origin;return i.x=r.tx,i.y=r.ty,this.trigger("translate",r.tx,r.ty),this.options.drawGrid&&this.drawGrid(),this},findView:function(e){var t=ct(e)?this.cells.querySelector(e):e instanceof r?e[0]:e,n=this.findAttribute("model-id",t);if(n)return this._views[n]},findViewByModel:function(e){var t=ct(e)||ut(e)?e:e&&e.id;return this._views[t]},findViewsFromPoint:function(e){return e=new _(e),this.model.getElements().map(this.findViewByModel,this).filter(function(t){return t&&t.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Me(t||{},{strict:!1}),e=new D(e);var n=this.model.getElements().map(this.findViewByModel,this),r=t.strict?"containsRect":"intersect";return n.filter(function(t){return t&&e[r](t.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(e){for(var t,n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];"string"==typeof e&&(t=this).trigger.apply(t,["tools:event",e].concat(n))},getModelById:function(e){return this.model.getCell(e)},snapToGrid:function(e,t){return this.clientToLocalPoint(e,t).snapToGrid(this.options.gridSize)},localToPaperPoint:function(e,t){var n=new _(e,t);return Q.transformPoint(n,this.matrix())},localToPaperRect:function(e,t,n,r){var i=new D(e,t,n,r);return Q.transformRect(i,this.matrix())},paperToLocalPoint:function(e,t){var n=new _(e,t);return Q.transformPoint(n,this.matrix().inverse())},paperToLocalRect:function(e,t,n,r){var i=new D(e,t,n,r);return Q.transformRect(i,this.matrix().inverse())},localToClientPoint:function(e,t){var n=new _(e,t);return Q.transformPoint(n,this.clientMatrix())},localToClientRect:function(e,t,n,r){var i=new D(e,t,n,r);return Q.transformRect(i,this.clientMatrix())},clientToLocalPoint:function(e,t){var n=new _(e,t);return Q.transformPoint(n,this.clientMatrix().inverse())},clientToLocalRect:function(e,t,n,r){var i=new D(e,t,n,r);return Q.transformRect(i,this.clientMatrix().inverse())},localToPagePoint:function(e,t){return this.localToPaperPoint(e,t).offset(this.pageOffset())},localToPageRect:function(e,t,n,r){return this.localToPaperRect(e,t,n,r).offset(this.pageOffset())},pageToLocalPoint:function(e,t){var n=new _(e,t).difference(this.pageOffset());return this.paperToLocalPoint(n)},pageToLocalRect:function(e,t,n,r){var i=this.pageOffset(),o=new D(e,t,n,r);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var e=this.svg.getBoundingClientRect();return new _(e.left,e.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(e){if(!(e instanceof Vn))throw new Error("Must provide a linkView.");var t=e.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,t)||!n.linkPinning&&!i.linkPinning.call(this,r,t)||"function"==typeof n.allowLink&&!n.allowLink.call(this,e,this))},getDefaultLink:function(e,t){return Ge(this.options.defaultLink)?this.options.defaultLink.call(this,e,t):this.options.defaultLink.clone()},resolveHighlighter:function(e){var t=(e=e||{}).highlighter,n=this.options;if(void 0===t){var r=["embedding","connecting","magnetAvailability","elementAvailability"].find(function(t){return!!e[t]});t=r&&n.highlighting[r]||n.highlighting.default}if(!t)return!1;ct(t)&&(t={name:t});var i=t.name,o=n.highlighterNamespace[i];if(!o)throw new Error('Unknown highlighter ("'+i+'")');if("function"!=typeof o.highlight)throw new Error('Highlighter ("'+i+'") is missing required highlight() method');if("function"!=typeof o.unhighlight)throw new Error('Highlighter ("'+i+'") is missing required unhighlight() method');return{highlighter:o,options:t.options||{},name:i}},onCellHighlight:function(e,t,n){if(n=this.resolveHighlighter(n)){t.id||(t.id=Q.uniqueId());var r=n.name+t.id+JSON.stringify(n.options);if(!this._highlights[r]){var i=n.highlighter;i.highlight(e,t,Pe({},n.options)),this._highlights[r]={cellView:e,magnetEl:t,opt:n.options,highlighter:i}}}},onCellUnhighlight:function(e,t,n){if(n=this.resolveHighlighter(n)){var r=n.name+t.id+JSON.stringify(n.options),i=this._highlights[r];i&&(i.highlighter.unhighlight(i.cellView,i.magnetEl,i.opt),this._highlights[r]=null)}},pointerdblclick:function(e){e.preventDefault(),e=he(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerdblclick(e,n.x,n.y):this.trigger("blank:pointerdblclick",e,n.x,n.y)}},pointerclick:function(e){if(this.eventData(e).mousemoved<=this.options.clickThreshold){e=he(e);var t=this.findView(e.target);if(this.guard(e,t))return;var n=this.snapToGrid(e.clientX,e.clientY);t?t.pointerclick(e,n.x,n.y):this.trigger("blank:pointerclick",e,n.x,n.y)}},contextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),e=he(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?t.contextmenu(e,n.x,n.y):this.trigger("blank:contextmenu",e,n.x,n.y)}},pointerdown:function(e){e=he(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.snapToGrid(e.clientX,e.clientY);t?(e.preventDefault(),t.pointerdown(e,n.x,n.y)):(this.options.preventDefaultBlankAction&&e.preventDefault(),this.trigger("blank:pointerdown",e,n.x,n.y)),this.delegateDragEvents(t,e.data)}},pointermove:function(e){var t=this.eventData(e);if(t.mousemoved||(t.mousemoved=0),!(++t.mousemoved<=this.options.moveThreshold)){e=he(e);var n=this.snapToGrid(e.clientX,e.clientY),r=t.sourceView;r?r.pointermove(e,n.x,n.y):this.trigger("blank:pointermove",e,n.x,n.y),this.eventData(e,t)}},pointerup:function(e){this.undelegateDocumentEvents();var t=he(e),n=this.snapToGrid(t.clientX,t.clientY),i=this.eventData(e).sourceView;i?i.pointerup(t,n.x,n.y):this.trigger("blank:pointerup",t,n.x,n.y),t.isPropagationStopped()||this.pointerclick(r.Event(e,{type:"click",data:e.data})),e.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(e){e=he(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseover(e);else{if(this.el===e.target)return;this.trigger("blank:mouseover",e)}},mouseout:function(e){e=he(e);var t=this.findView(e.target);if(!this.guard(e,t))if(t)t.mouseout(e);else{if(this.el===e.target)return;this.trigger("blank:mouseout",e)}},mouseenter:function(e){e=he(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.findView(e.relatedTarget);if(t){if(n===t)return;t.mouseenter(e)}else{if(n)return;this.trigger("paper:mouseenter",e)}}},mouseleave:function(e){e=he(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=this.findView(e.relatedTarget);if(t){if(n===t)return;t.mouseleave(e)}else{if(n)return;this.trigger("paper:mouseleave",e)}}},mousewheel:function(e){e=he(e);var t=this.findView(e.target);if(!this.guard(e,t)){var n=e.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),i=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail));t?t.mousewheel(e,r.x,r.y,i):this.trigger("blank:mousewheel",e,r.x,r.y,i)}},onevent:function(e){var t=e.currentTarget,n=t.getAttribute("event");if(n){var r=this.findView(t);if(r){if(e=he(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);r.onevent(e,n,i.x,i.y)}}},magnetEvent:function(e,t){var n=e.currentTarget;if(n.getAttribute("magnet")){var r=this.findView(n);if(r){if(e=he(e),this.guard(e,r))return;var i=this.snapToGrid(e.clientX,e.clientY);t.call(this,r,e,n,i.x,i.y)}}},onmagnet:function(e){this.magnetEvent(e,function(e,t,n,r,i){e.onmagnet(t,r,i)})},magnetpointerdblclick:function(e){this.magnetEvent(e,function(e,t,n,r,i){e.magnetpointerdblclick(t,n,r,i)})},magnetcontextmenu:function(e){this.options.preventContextMenu&&e.preventDefault(),this.magnetEvent(e,function(e,t,n,r,i){e.magnetcontextmenu(t,n,r,i)})},onlabel:function(e){var t=this.findView(e.currentTarget);if(t){if(e=he(e),this.guard(e,t))return;var n=this.snapToGrid(e.clientX,e.clientY);t.onlabel(e,n.x,n.y)}},getPointerArgs:function(e){var t=he(e),n=this.snapToGrid(t.clientX,t.clientY);return[t,n.x,n.y]},delegateDragEvents:function(e,t){t||(t={}),this.eventData({data:t},{sourceView:e||null,mousemoved:0}),this.delegateDocumentEvents(null,t),this.undelegateEvents()},guard:function(e,t){return"mousedown"===e.type&&2===e.button||!(!this.options.guard||!this.options.guard(e,t))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(t&&t.model&&t.model instanceof Dt||this.svg===e.target||this.el===e.target||r.contains(this.svg,e.target)))},setGridSize:function(e){return this.options.gridSize=e,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:Q("svg",{width:"100%",height:"100%"},Q("defs")),patterns:{},add:function(e,t){Q(this.root.node.childNodes[0]).append(t),this.patterns[e]=t,this.root.append(Q("rect",{width:"100%",height:"100%",fill:"url(#"+e+")"}))},get:function(e){return this.patterns[e]},exist:function(e){return void 0!==this.patterns[e]}}),this._gridCache},setGrid:function(e){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(e)?e:[e||{}]).forEach(function(e){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(e))},this),this},_resolveDrawGridOption:function(e){var t=this.constructor.gridPatterns;if(ct(e)&&Array.isArray(t[e]))return t[e].map(function(e){return Pe({},e)});var n=e||{args:[{}]},r=Array.isArray(n),i=n.name;if(r||i||n.markup||(i="dot"),i&&Array.isArray(t[i])){var o=t[i].map(function(e){return Pe({},e)}),s=Array.isArray(n.args)?n.args:[n.args||{}];Me(s[0],et(e,"args"));for(var a=0;a<s.length;a++)o[a]&&Pe(o[a],s[a]);return o}return r?n:[n]},drawGrid:function(e){var t=this.options.gridSize;if(t<=1)return this.clearGrid();var n=Array.isArray(e)?e:[e],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(e,o){var s="pattern_"+o,a=st(e,n[o],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});a.width=t*(r.a||1)*(a.scaleFactor||1),a.height=t*(r.d||1)*(a.scaleFactor||1),i.exist(s)||i.add(s,Q("pattern",{id:s,patternUnits:"userSpaceOnUse"},Q(a.markup)));var l=i.get(s);Ge(a.update)&&a.update(l.node.childNodes[0],a);var u=a.ox%a.width;u<0&&(u+=a.width);var c=a.oy%a.height;c<0&&(c+=a.height),l.attr({x:u,y:c,width:a.width,height:a.height})});var o=(new XMLSerializer).serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(e){var t=(e=e||{}).position||"center",n=e.size||"auto auto",r=this.scale(),i=this.translate();lt(t)&&(t=i.tx+r.sx*(t.x||0)+"px "+(i.ty+r.sy*(t.y||0))+"px"),lt(n)&&(n=(n=new D(n).scale(r.sx,r.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:t})},drawBackgroundImage:function(e,t){if(e instanceof HTMLImageElement){var n,r=(t=t||{}).size,i=t.repeat||"no-repeat",o=t.opacity||1,s=Math.abs(t.quality)||1,a=this.constructor.backgroundPatterns[it(i)];if(Ge(a)){e.width*=s,e.height*=s;var l=a(e,t);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),i="repeat",lt(r)?(r.width*=l.width/e.width,r.height*=l.height/e.height):void 0===r&&(t.size={width:l.width/s,height:l.height/s})}else n=e.src,void 0===r&&(t.size={width:e.width,height:e.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(t)}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(e){this.$el.css("backgroundColor",e||"")},drawBackground:function(e){if(this.updateBackgroundColor((e=e||{}).color),e.image){e=this._background=ze(e);var t=document.createElement("img");t.onload=this.drawBackgroundImage.bind(this,t,e),t.src=e.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(e){this.options.interactive=e,Ee(this._views,"setInteractivity",e)},isDefined:function(e){return!!this.svg.getElementById(e)},defineFilter:function(e){if(!lt(e))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var t=e.id,n=e.name;if(t||(t=n+this.svg.id+re(JSON.stringify(e))),!this.isDefined(t)){var r=Ae[n]&&Ae[n](e.args||{});if(!r)throw new Error("Non-existing filter "+n);var i=Pe({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},e.attrs,{id:t});Q(r,i).appendTo(this.defs)}return t},defineGradient:function(e){if(!lt(e))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");var t=e.id,n=e.type,r=e.stops;if(t||(t=n+this.svg.id+re(JSON.stringify(e))),!this.isDefined(t)){var i=Se('<stop offset="${offset}" stop-color="${color}" stop-opacity="${opacity}"/>'),o=["<"+n+">",Ze(r).map(function(e){return i({offset:e.offset,color:e.color,opacity:Number.isFinite(e.opacity)?e.opacity:1})}).join(""),"</"+n+">"].join(""),s=Pe({id:t},e.attrs);Q(o,s).appendTo(this.defs)}return t},defineMarker:function(e){if(!lt(e))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");var t=e.id;if(t||(t=this.svg.id+re(JSON.stringify(e))),!this.isDefined(t)){var n=et(e,"type","userSpaceOnUse");Q("marker",{id:t,orient:"auto",overflow:"visible",markerUnits:e.markerUnits||"userSpaceOnUse"},[Q(e.type||"path",n)]).appendTo(this.defs)}return t}},{sorting:gr,backgroundPatterns:{flipXy:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},flipX:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},flipY:function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},watermark:function(e,t){t=t||{};var n=e.width,r=e.height,i=document.createElement("canvas");i.width=3*n,i.height=3*r;for(var o=i.getContext("2d"),s=ut(t.watermarkAngle)?-t.watermarkAngle:-20,a=P(s),l=i.width/4,u=i.height/4,c=0;c<4;c++)for(var h=0;h<4;h++)(c+h)%2>0&&(o.setTransform(1,0,0,1,(2*c-1)*l,(2*h-1)*u),o.rotate(a),o.drawImage(e,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){Q(e).attr({width:t.thickness*t.sx,height:t.thickness*t.sy,fill:t.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;Q(e).attr({width:n,height:n,fill:t.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Q(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Q(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(e,t){var n,r=t.width,i=t.height,o=t.thickness;n=r-o>=0&&i-o>=0?["M",r,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0",Q(e).attr({d:n,stroke:t.color,"stroke-width":t.thickness})}}]}}),vr=Kt.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var e=this.name;e&&this.vel.attr("data-tool-name",e)},configure:function(e,t){return this.relatedView=e,this.paper=e.paper,this.parentView=t,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(e){e&&e.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var e=this.options.focusOpacity;isFinite(e)&&(this.el.style.opacity=e),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(e){var t=this.paper,n=this.relatedView;return!t||!n||t.guard(e,n)}}),yr=Kt.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,options:{tools:null,relatedView:null,name:null,component:!1},configure:function(e){var t=(e=Pe(this.options,e)).tools;if(!Array.isArray(t))return this;var n=e.relatedView;if(!(n instanceof Qt))return this;for(var r=this.tools=[],i=0,o=t.length;i<o;i++){var s=t[i];s instanceof vr&&(s.configure(n,this),s.render(),this.vel.append(s.el),r.push(s))}return this},getName:function(){return this.options.name},update:function(e){e||(e={});var t=this.tools;if(t){for(var n=0,r=t.length;n<r;n++){var i=t[n];e.tool!==i.cid&&i.isVisible()&&i.update()}return this}},focusTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];e===i?i.show():i.hide()}return this},blurTool:function(e){var t=this.tools;if(!t)return this;for(var n=0,r=t.length;n<r;n++){var i=t[n];i===e||i.isVisible()||(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var e=this.tools;if(!e)return this;for(var t=0,n=e.length;t<n;t++)e[t].remove();this.tools=null},mount:function(){var e=this.options,t=e.relatedView;return t&&(e.component?t.el:t.paper.tools).appendChild(this.el),this}}),br={ElementView:$t,Graph:qt,Cell:Dt,CellView:Qt,Element:Yt,attributes:St,Link:Ut,LinkView:Vn,Paper:mr,ToolView:vr,ToolsView:yr},wr={exportElement:function(e){return e.size()},exportLink:function(e){var t=e.get("labelSize")||{};return{minLen:e.get("minLen")||1,weight:e.get("weight")||1,labelpos:e.get("labelPosition")||"c",labeloffset:e.get("labelOffset")||0,width:t.width||0,height:t.height||0}},importElement:function(e,t,n){var r=this.getCell(t),i=n.node(t);e.setPosition?e.setPosition(r,i):r.set("position",{x:i.x-i.width/2,y:i.y-i.height/2})},importLink:function(e,t,n){var r=this.getCell(t.name),i=n.edge(t),o=i.points||[],s=new S(o);if(e.setVertices||e.setLinkVertices)if(Ge(e.setVertices))e.setVertices(r,o);else{s.simplify({threshold:.001});var a=s.points.map(function(e){return e.toJSON()});r.set("vertices",a.slice(1,a.length-1))}if(e.setLabels&&"x"in i&&"y"in i){var l={x:i.x,y:i.y};if(Ge(e.setLabels))e.setLabels(r,l,o);else{var u=s.closestPointLength(l),c=s.pointAtLength(u),h=u/s.length(),d=new _(l).difference(c).toJSON();r.label(0,{position:{distance:h,offset:d}})}}},layout:function(e,t){var n;n=e instanceof qt?e:(new qt).resetCells(e,{dry:!0,sort:!1}),e=null;var r=(t=Me(t||{},{resizeClusters:!0,clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink})).dagre||("undefined"!=typeof dagre?dagre:void 0);if(void 0===r)throw new Error('The the "dagre" utility is a mandatory dependency.');var i=wr.toGraphLib(n,{graphlib:t.graphlib,directed:!0,multigraph:!0,compound:!0,setNodeLabel:t.exportElement,setEdgeLabel:t.exportLink,setEdgeName:function(e){return e.id}}),o={},s=t.marginX||0,a=t.marginY||0;if(t.rankDir&&(o.rankdir=t.rankDir),t.align&&(o.align=t.align),t.nodeSep&&(o.nodesep=t.nodeSep),t.edgeSep&&(o.edgesep=t.edgeSep),t.rankSep&&(o.ranksep=t.rankSep),t.ranker&&(o.ranker=t.ranker),s&&(o.marginx=s),a&&(o.marginy=a),i.setGraph(o),r.layout(i,{debugTiming:!!t.debugTiming}),n.startBatch("layout"),wr.fromGraphLib(i,{importNode:this.importElement.bind(n,t),importEdge:this.importLink.bind(n,t)}),t.resizeClusters){var l=i.nodes().filter(function(e){return i.children(e).length>0}).map(n.getCell.bind(n)).sort(function(e,t){return t.getAncestors().length-e.getAncestors().length});Ee(l,"fitEmbeds",{padding:t.clusterPadding})}n.stopBatch("layout");var u=i.graph();return new D(s,a,Math.abs(u.width-2*s),Math.abs(u.height-2*a))},fromGraphLib:function(e,t){var n=(t=t||{}).importNode||ht,r=t.importEdge||ht,i=this instanceof qt?this:new qt;return e.nodes().forEach(function(r){n.call(i,r,e,i,t)}),e.edges().forEach(function(n){r.call(i,n,e,i,t)}),i},toGraphLib:function(e,t){var n=(t=t||{}).graphlib||("undefined"!=typeof graphlib?graphlib:void 0);if(void 0===n)throw new Error('The the "graphlib" utility is a mandatory dependency.');for(var r=tt(t,"directed","compound","multigraph"),i=new n.Graph(r),o=t.setNodeLabel||ht,s=t.setEdgeLabel||ht,a=t.setEdgeName||ht,l=e.get("cells"),u=0,c=l.length;u<c;u++){var h=l.at(u);if(h.isLink()){var d=h.get("source"),p=h.get("target");if(!d.id||!p.id)break;i.setEdge(d.id,p.id,s(h),a(h))}else if(i.setNode(h.id,o(h)),i.isCompound()&&h.has("parent")){var f=h.get("parent");l.has(f)&&i.setParent(h.id,f)}}return i}};qt.prototype.toGraphLib=function(e){return wr.toGraphLib(this,e)},qt.prototype.fromGraphLib=function(e,t){return wr.fromGraphLib.call(this,e,t)};var Cr={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(e,t){return this._tests[e]=t},test:function(e){var t=this._tests[e];if(!t)throw new Error('Test not defined ("'+e+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[e];if(void 0!==n)return n;try{n=t()}catch(r){n=!1}return this._results[e]=n,n}},Ir=Yt.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),xr=Ir.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),Ar=$t.extend({presentationAttributes:$t.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var e=$t.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"SCALE")&&(this.resize(),e=this.removeFlag(e,"SCALE")),e}}),_r=Ir.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),Sr=Ir.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),Dr=Ir.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),Tr=Ir.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),kr=Ir.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),Nr=Ir.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),Pr=Ir.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),Mr=Pr.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),Or=Cr.test("svgforeignobject"),Er=Ir.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',Or?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),Ir.prototype.initialize.apply(this,arguments)},updateSize:function(e,t){this.attr({".fobj":Pe({},t),div:{style:Pe({},t)}})},updateContent:function(e,t){this.attr(Or?{".content":{html:ve(t)}}:{".content":{text:t}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),jr=$t.extend({presentationAttributes:Or?$t.prototype.presentationAttributes:$t.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var e=$t.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(e,"CONTENT")&&(this.updateContent(this.model),e=this.removeFlag(e,"CONTENT")),e},update:function(e,t){var n=this.model;if(Or)$t.prototype.update.call(this,n,t);else{var r=et(t||n.get("attrs"),".content");$t.prototype.update.call(this,n,r),t&&!Qe(t,".content")||this.updateContent(n,t)}},updateContent:function(e,t){var n=st({},(t||e.get("attrs"))[".content"]);n=et(n,"text");var r=me(e.get("content"),e.get("size"),n,{svgDocument:this.paper.svg}),i=oe({},".content",n,"/");i[".content"].text=r,$t.prototype.update.call(this,e,i)}}),Rr={Generic:Ir,Rect:xr,TextView:Ar,Text:_r,Circle:Sr,Ellipse:Dr,Polygon:Tr,Polyline:kr,Image:Nr,Path:Pr,Rhombus:Mr,TextBlock:Er,TextBlockView:jr},Lr=Yt.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),zr=Yt.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Fr=Yt.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),Br=Yt.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),Gr=Yt.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),Ur=Yt.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),Zr=Yt.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Wr=Yt.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Vr=Yt.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Yr=Yt.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Hr=Yt.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),qr=Yt.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(e,t){if(void 0===e)return this.attr("body/lateralArea");var n=fe(e);return this.attr({body:{lateralArea:e},top:n?{refCy:e,refRy:e,cy:null,ry:null}:{refCy:null,refRy:null,cy:e,ry:e}},t)}},{attributes:{lateralArea:{set:function(e,t){var n=fe(e);n&&(e=parseFloat(e)/100);var r=t.x,i=t.y,o=t.width,s=t.height,a=n?s*e:e,l=Q.KAPPA,u=l*(o/2),c=l*(n?s*e:e),h=r+o/2,d=r+o,p=i+a,f=p-a,g=i+s-a,m=i+s;return{d:["M",r,p,"L",r,g,"C",r,g+c,h-u,m,h,m,"C",h+u,m,d,g+c,d,g,"L",d,p,"C",d,p-c,h+u,f,h,f,"C",h-u,f,r,p-c,r,p,"Z"].join(" ")}}}}}),Xr=Cr.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},Kr={Rectangle:Lr,Circle:zr,Ellipse:Fr,Path:Br,Polygon:Gr,Polyline:Ur,Image:Zr,BorderedImage:Wr,EmbeddedImage:Vr,InscribedImage:Yr,HeaderedRectangle:Hr,Cylinder:qr,TextBlock:Yt.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},Xr]},{attributes:{text:{set:function(e,t,n,r){if(!(n instanceof HTMLElement)){var i=r.style||{},o={text:e,width:-5,height:"100%"},s=Pe({textVerticalAnchor:"middle"},i);return St.textWrap.set.call(this,o,t,n,s),{fill:i.color||null}}n.textContent=e},position:function(e,t,n){if(n instanceof SVGElement)return t.center()}}}}),Link:Ut.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),DoubleLink:Ut.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),ShadowLink:Ut.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]})},Jr=Ir.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){Ir.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(e,t,n){var r=Re(this.get("inPorts")),i=Xe(Re(this.get("outPorts")),r),o=this.createPortItems("in",r),s=this.createPortItems("out",i);this.prop("ports/items",o.concat(s),Pe({rewrite:!0},n))},createPortItem:function(e,t){return{id:t,group:e,attrs:{".port-label":{text:t}}}},createPortItems:function(e,t){return Ze(t).map(this.createPortItem.bind(this,e))},_addGroupPort:function(e,t,n){var r=this.get(t);return this.set(t,Array.isArray(r)?r.concat(e):[e],n)},addOutPort:function(e,t){return this._addGroupPort(e,"outPorts",t)},addInPort:function(e,t){return this._addGroupPort(e,"inPorts",t)},_removeGroupPort:function(e,t,n){return this.set(t,qe(this.get(t),e),n)},removeOutPort:function(e,t){return this._removeGroupPort(e,"outPorts",t)},removeInPort:function(e,t){return this._removeGroupPort(e,"inPorts",t)},_changeGroup:function(e,t,n){return this.prop("ports/groups/"+e,lt(t)?t:{},n)},changeInGroup:function(e,t){return this._changeGroup("in",e,t)},changeOutGroup:function(e,t){return this._changeGroup("out",e,t)}}),Qr=Jr.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),$r=Jr.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),ei={Model:Jr,Atomic:Qr,Coupled:$r,Link:Ut.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}})},ti=Ir.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),ni=ti.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),ri=ni.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),ii=ni.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),oi=ti.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),si=ti.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),ai=oi.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e){return e}}),li=oi.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e){return!e}}),ui=si.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(e,t){return e||t}}),ci=si.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return e&&t}}),hi=si.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return!(e||t)}}),di=si.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return!(e&&t)}}),pi=si.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(e,t){return(!e||t)&&(e||!t)}}),fi=si.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(e,t){return(!e||!t)&&(e||t)}}),gi={Gate:ti,IO:ni,Input:ri,Output:ii,Gate11:oi,Gate21:si,Repeater:ai,Not:li,Or:ui,And:ci,Nor:hi,Nand:di,Xor:pi,Xnor:fi,Wire:Ut.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")})},mi={KingWhite:Ir.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),KingBlack:Ir.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),QueenWhite:Ir.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),QueenBlack:Ir.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),RookWhite:Ir.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),RookBlack:Ir.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),BishopWhite:Ir.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),BishopBlack:Ir.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),KnightWhite:Ir.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),KnightBlack:Ir.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),PawnWhite:Ir.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),PawnBlack:Ir.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'})},vi=Yt.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),yi=vi.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),bi=Yt.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),wi=bi.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Ci=Yt.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),Ii=Ci.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),xi=Ci.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),Ai=Ci.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),_i=Ci.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),Si={Entity:vi,WeakEntity:yi,Relationship:bi,IdentifyingRelationship:wi,Attribute:Ci,Multivalued:Ii,Derived:xi,Key:Ai,Normal:_i,ISA:Yt.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),Line:Ut.define("erd.Line",{},{cardinality:function(e){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:e}}}])}})},Di={State:Sr.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),StartState:Yt.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),EndState:Yt.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Arrow:Ut.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0})},Ti={Member:Yt.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),Arrow:Ut.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1})},ki={Place:Ir.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),PlaceView:$t.extend({presentationAttributes:$t.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:$t.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=(e=$t.prototype.confirmUpdate).call.apply(e,[this].concat(t));return this.hasFlag(r,"TOKENS")&&(this.renderTokens(),this.update(),r=this.removeFlag(r,"TOKENS")),r},renderTokens:function(){var e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(t){e.removeClass(t)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(Q("circle"));break;case 2:e.addClass("two"),e.append([Q("circle"),Q("circle")]);break;case 3:e.addClass("three"),e.append([Q("circle"),Q("circle"),Q("circle")]);break;default:e.addClass("alot"),e.append(Q("text").text(t+""))}}}),Transition:Ir.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),Link:Ut.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}})},Ni=Ir.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),Ir.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var e=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],n=0;t.forEach(function(t){var r=Array.isArray(t.text)?t.text:[t.text],i=20*r.length+20;e[".uml-class-"+t.type+"-text"].text=r.join("\n"),e[".uml-class-"+t.type+"-rect"].height=i,e[".uml-class-"+t.type+"-rect"].transform="translate(0,"+n+")",n+=i})}}),Pi=$t.extend({initialize:function(){$t.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),Mi=Ni.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),Oi=Pi,Ei=Ni.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),ji={basic:Rr,standard:Kr,devs:ei,logic:gi,chess:mi,erd:Si,fsa:Di,org:Ti,pn:ki,uml:{Class:Ni,ClassView:Pi,Abstract:Mi,AbstractView:Oi,Interface:Ei,InterfaceView:Pi,Generalization:Ut.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),Implementation:Ut.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),Aggregation:Ut.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),Composition:Ut.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),Association:Ut.define("uml.Association"),State:Ir.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),Ir.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var e="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",e,{silent:!0})}}),StartState:Sr.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),EndState:Ir.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Transition:Ut.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}})}};function Ri(e,t){return 0===t?"0%":Math.round(e/t*100)+"%"}function Li(e){return function(t,n,r,i){return(n.isNodeConnection(r)?function(e,t,n,r,i){var o=n.getConnection();if(!o)return t;var s=o.closestPointLength(i);if(e){var a=o.length();t.anchor={name:"connectionRatio",args:{ratio:s/a}}}else t.anchor={name:"connectionLength",args:{length:s}};return t}:function(e,t,n,r,i){var o=n.model.angle(),s=n.getNodeUnrotatedBBox(r),a=n.model.getBBox().center();i.rotate(a,o);var l=i.x-s.x,u=i.y-s.y;return e&&(l=Ri(l,s.width),u=Ri(u,s.height)),t.anchor={name:"topLeft",args:{dx:l,dy:u,rotate:!0}},t})(e,t,n,r,i)}}var zi=ht,Fi=Li(!1),Bi=Li(!0),Gi={useDefaults:zi,pinAbsolute:Fi,pinRelative:Bi};function Ui(e,t,n){return Bi.call(this.paper,{},t,n,e,this.model).anchor}function Zi(e,t){var n=e.model;return t?n.getBBox():n.isLink()?e.getConnection().bbox():e.getNodeUnrotatedBBox(e.el)}var Wi=Kt.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(e,t){this.vel.attr({cx:e,cy:t})},onPointerDown:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data),this.trigger("will-change",this,e))},onPointerMove:function(e){this.trigger("changing",this,e)},onDoubleClick:function(e){this.trigger("remove",this,e)},onPointerUp:function(e){this.trigger("changed",this,e),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}}),Vi=vr.extend({name:"vertices",options:{handleClass:Wi,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){return this.relatedView.model.vertices().length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},renderHandles:function(){for(var e=this,t=this.relatedView.model.vertices(),n=0,r=t.length;n<r;n++){var i=t[n],o=new this.options.handleClass({index:n,paper:this.paper,guard:function(t){return e.guard(t)}});o.render(),o.position(i.x,i.y),this.simulateRelatedView(o.el),o.vel.appendTo(this.el),this.handles.push(o),this.startHandleListening(o)}},updateHandles:function(){for(var e=this.relatedView.model.vertices(),t=0,n=e.length;t<n;t++){var r=e[t],i=this.handles[t];if(!i)return;i.position(r.x,r.y)}},updatePath:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(e){var t=this.relatedView;t.can("vertexMove")&&(this.listenTo(e,"will-change",this.onHandleWillChange),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"changed",this.onHandleChanged)),t.can("vertexRemove")&&this.listenTo(e,"remove",this.onHandleRemove)},getNeighborPoints:function(e){var t=this.relatedView,n=t.model.vertices(),r=e<n.length-1?n[e+1]:t.targetAnchor;return{prev:new _(e>0?n[e-1]:t.sourceAnchor),next:new _(r)}},onHandleWillChange:function(e,t){this.focus();var n=this.relatedView,r=this.options;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),r.stopPropagation||n.notifyPointerdown.apply(n,n.paper.getPointerArgs(t))},onHandleChanging:function(e,t){var n=this.options,r=this.relatedView,i=e.options.index,o=r.paper.getPointerArgs(t),s=o[0],a=o[1],l=o[2],u={x:a,y:l};this.snapVertex(u,i),r.model.vertex(i,u,{ui:!0,tool:this.cid}),e.position(u.x,u.y),n.stopPropagation||r.notifyPointermove(s,a,l)},onHandleChanged:function(e,t){var n=this.options,r=this.relatedView;if(n.vertexAdding&&this.updatePath(),n.redundancyRemoval){r.removeRedundantLinearVertices({ui:!0,tool:this.cid})&&this.render(),this.blur(),r.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(t).vertexAdded&&r.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var i=r.paper.getPointerArgs(t),o=i[0];n.stopPropagation||r.notifyPointerup(o,i[1],i[2]),r.checkMouseleave(o)}},snapVertex:function(e,t){var n=this.options.snapRadius;if(n>0){var r=this.getNeighborPoints(t),i=r.prev,o=r.next;Math.abs(e.x-i.x)<n?e.x=i.x:Math.abs(e.x-o.x)<n&&(e.x=o.x),Math.abs(e.y-i.y)<n?e.y=r.prev.y:Math.abs(e.y-o.y)<n&&(e.y=o.y)}},onHandleRemove:function(e,t){var n=this.relatedView;n.model.removeVertex(e.options.index,{ui:!0}),this.options.vertexAdding&&this.updatePath(),n.checkMouseleave(he(t))},onPathPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=he(e),n=this.paper.snapToGrid(t.clientX,t.clientY).toJSON(),r=this.relatedView;r.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var i=r.getVertexIndex(n.x,n.y);this.snapVertex(n,i),r.model.insertVertex(i,n,{ui:!0,tool:this.cid}),this.render();var o=this.handles[i];this.eventData(t,{vertexAdded:!0}),o.onPointerDown(t)}},onRemove:function(){this.resetHandles()}},{VertexHandle:Wi}),Yi=Kt.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(e,t,n,r){var i=Q.createSVGMatrix().translate(e,t).rotate(n),o=this.childNodes.handle;o.setAttribute("transform",Q.matrixToTransformString(i)),o.setAttribute("cursor",n%180==0?"row-resize":"col-resize");var s=r.getClosestPoint(new _(e,t)),a=this.childNodes.line;a.setAttribute("x1",e),a.setAttribute("y1",t),a.setAttribute("x2",s.x),a.setAttribute("y2",s.y)},onPointerDown:function(e){this.options.guard(e)||(this.trigger("change:start",this,e),e.stopPropagation(),e.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,e.data))},onPointerMove:function(e){this.trigger("changing",this,e)},onPointerUp:function(e){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,e)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}}),Hi=vr.extend({name:"segments",precision:.5,options:{handleClass:Yi,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:Ui,snapRadius:10,snapHandle:!0},handles:null,onRender:function(){this.resetHandles();var e=this.relatedView,t=e.model.vertices();t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var n=0,r=t.length;n<r-1;n++){var i=this.renderHandle(t[n],t[n+1]);this.simulateRelatedView(i.el),this.handles.push(i),i.options.index=n}return this},renderHandle:function(e,t){var n=this,r=new this.options.handleClass({paper:this.paper,guard:function(e){return n.guard(e)}});return r.render(),this.updateHandle(r,e,t),r.vel.appendTo(this.el),this.startHandleListening(r),r},update:function(){return this.render(),this},startHandleListening:function(e){this.listenTo(e,"change:start",this.onHandleChangeStart),this.listenTo(e,"changing",this.onHandleChanging),this.listenTo(e,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var e=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(e))for(var t=0,n=e.length;t<n;t++)e[t].remove()},shiftHandleIndexes:function(e){for(var t=this.handles,n=0,r=t.length;n<r;n++)t[n].options.index+=e},resetAnchor:function(e,t){var n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(e,t,n){var r=e.options.index,i=this.relatedView.model.vertices(),o=e.options.axis,s=i[r-2]||n.sourceAnchor,a=i[r+1]||n.targetAnchor,l=this.options.snapRadius;return Math.abs(t[o]-s[o])<l?t[o]=s[o]:Math.abs(t[o]-a[o])<l&&(t[o]=a[o]),t},onHandleChanging:function(e,t){var n=this.eventData(t),r=this.relatedView,i=r.paper,o=e.options.index-1,s=he(t),a=i.snapToGrid(s.clientX,s.clientY),l=this.snapHandle(e,a.clone(),n),u=e.options.axis,c=this.options.snapHandle?0:a[u]-l[u],h=r.model,d=ze(h.vertices()),p=d[o],f=d[o+1],g=this.options.anchor;"function"!=typeof g&&(g=null);var m=r.sourceView,v=r.sourceBBox,y=!1,b=!1;if(p?0===o?v.containsPoint(p)?(d.shift(),this.shiftHandleIndexes(-1),y=!0):(p[u]=l[u],b=!0):p[u]=l[u]:((p=r.sourceAnchor.toJSON())[u]=l[u],v.containsPoint(p)?(p[u]=l[u],y=!0):(d.unshift(p),this.shiftHandleIndexes(1),b=!0)),g&&m){if(y){var w=n.sourceAnchor.clone();w[u]=l[u];var C=g.call(r,w,m,r.sourceMagnet||m.el,"source",r);this.resetAnchor("source",C)}b&&this.resetAnchor("source",n.sourceAnchorDef)}var I=r.targetView,x=r.targetBBox,A=!1,_=!1;if(f?o===d.length-2?x.containsPoint(f)?(d.pop(),A=!0):(f[u]=l[u],_=!0):f[u]=l[u]:((f=r.targetAnchor.toJSON())[u]=l[u],x.containsPoint(f)?A=!0:(d.push(f),_=!0)),g&&I){if(A){var S=n.targetAnchor.clone();S[u]=l[u];var D=g.call(r,S,I,r.targetMagnet||I.el,"target",r);this.resetAnchor("target",D)}_&&this.resetAnchor("target",n.targetAnchorDef)}h.vertices(d,{ui:!0,tool:this.cid}),this.updateHandle(e,p,f,c)},onHandleChangeStart:function(e,t){var n=e.options.index,r=this.handles;if(Array.isArray(r)){for(var i=0,o=r.length;i<o;i++)i!==n&&r[i].hide();this.focus();var s=this.relatedView,a=s.model;this.eventData(t,{sourceAnchor:s.sourceAnchor.clone(),targetAnchor:s.targetAnchor.clone(),sourceAnchorDef:Le(a.prop(["source","anchor"])),targetAnchorDef:Le(a.prop(["target","anchor"]))}),s.model.startBatch("segment-move",{ui:!0,tool:this.cid})}},onHandleChangeEnd:function(e,t){var n=this.relatedView;this.options.redundancyRemoval&&n.removeRedundantLinearVertices({ui:!0,tool:this.cid}),this.render(),this.blur(),n.model.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.checkMouseleave(he(t))},updateHandle:function(e,t,n,r){var i=Math.abs(t.x-n.x)<this.precision,o=Math.abs(t.y-n.y)<this.precision;if(i||o){var s=new x(t,n);if(s.length()<this.options.segmentLengthThreshold)e.hide();else{var a=s.midpoint(),l=i?"x":"y";a[l]+=r||0;var u=s.vector().vectorAngle(new _(1,0));e.position(a.x,a.y,u,this.relatedView),e.show(),e.options.axis=l}}else e.hide()},onRemove:function(){this.resetHandles()}},{SegmentHandle:Yi}),qi=vr.extend({tagName:"path",xAxisVector:new _(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},onRender:function(){this.update()},update:function(){var e,t,n=this.ratio,r=this.relatedView,i=r.getTangentAtRatio(n);if(i?(e=i.start,t=i.vector().vectorAngle(this.xAxisVector)||0):(e=r.getPointAtRatio(n),t=0),!e)return this;var o=Q.createSVGMatrix().translate(e.x,e.y).rotate(t);return this.vel.transform(o,{absolute:!0}),this},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.relatedView;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.can("arrowheadMove")&&(t.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),t.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"}},onPointerMove:function(e){var t=he(e),n=this.paper.snapToGrid(t.clientX,t.clientY);this.relatedView.pointermove(t,n.x,n.y)},onPointerUp:function(e){this.undelegateDocumentEvents();var t=this.relatedView,n=t.paper,r=he(e),i=n.snapToGrid(r.clientX,r.clientY);t.pointerup(r,i.x,i.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",t.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),Xi=qi.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),Ki=qi.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),Ji=vr.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){var e=this.vel,t=this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix();e.transform(t,{absolute:!0})},getElementMatrix:function(){var e=this.relatedView,t=this.options,n=t.x;void 0===n&&(n=0);var r=t.y;void 0===r&&(r=0);var i=t.offset;void 0===i&&(i={});var o=t.rotate,s=Zi(e,t.useModelGeometry),a=e.model.angle();o||(s=s.bbox(a));var l=i.x;void 0===l&&(l=0);var u=i.y;void 0===u&&(u=0),fe(n)&&(n=parseFloat(n)/100*s.width),fe(r)&&(r=parseFloat(r)/100*s.height);var c=Q.createSVGMatrix().translate(s.x+s.width/2,s.y+s.height/2);return o&&(c=c.rotate(a)),c.translate(n+l-s.width/2,r+u-s.height/2)},getLinkMatrix:function(){var e=this.relatedView,t=this.options,n=t.offset;void 0===n&&(n=0);var r=t.distance;void 0===r&&(r=0);var i,o,s,a=t.rotate;(i=fe(r)?e.getTangentAtRatio(parseFloat(r)/100):e.getTangentAtLength(r))?(o=i.start,s=i.vector().vectorAngle(new _(1,0))||0):(o=e.getConnection().start,s=0);var l=Q.createSVGMatrix().translate(o.x,o.y).rotate(s).translate(0,n);return a||(l=l.rotate(-s)),l},onPointerDown:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.action;"function"==typeof t&&t.call(this.relatedView,e,this.relatedView,this)}}}),Qi=Ji.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(e,t,n){t.model.remove({ui:!0,tool:n.cid})}}}),$i=vr.extend({name:"boundary",tagName:"rect",options:{padding:10,useModelGeometry:!1},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){var e=this.relatedView,t=this.options,n=this.vel,r=t.useModelGeometry,i=t.rotate,o=Ce(t.padding),s=Zi(e,r).moveAndExpand({x:-o.left,y:-o.top,width:o.left+o.right,height:o.top+o.bottom}),a=e.model;if(a.isElement()){var l=a.angle();if(l)if(i){var u=a.getBBox().center();n.rotate(l,u.x,u.y,{absolute:!0})}else s=s.bbox(l)}return n.attr(s.toJSON()),this}}),eo=vr.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:function(e,t,n,r,i,o){var s=o.options.snapRadius,a="source"===r,l=this.model.vertex(a?0:-1)||this.getEndAnchor(a?"target":"source");return l&&(Math.abs(l.x-e.x)<s&&(e.x=l.x),Math.abs(l.y-e.y)<s&&(e.y=l.y)),e},anchor:Ui,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){return this.relatedView.getEndView(this.type)?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var e=this.childNodes;if(e){var t=e.anchor;if(t){var n=this.relatedView,r=this.type,i=n.getEndAnchor(r),o=this.options,s=n.model.prop([r,"anchor"]);t.setAttribute("transform","translate("+i.x+","+i.y+")");var a=s?o.customAnchorAttributes:o.defaultAnchorAttributes;for(var l in a)t.setAttribute(l,a[l])}}},updateArea:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var n,r,i,o=this.relatedView,s=this.type,a=o.getEndView(s),l=a.model,u=o.getEndMagnet(s),c=this.options.areaPadding;isFinite(c)||(c=0),a.isNodeConnection(u)?(r=0,i=(n=a.getBBox()).center()):(n=a.getNodeUnrotatedBBox(u),r=l.angle(),i=n.center(),r&&i.rotate(l.getBBox().center(),-r)),n.inflate(c),t.setAttribute("x",-n.width/2),t.setAttribute("y",-n.height/2),t.setAttribute("width",n.width),t.setAttribute("height",n.height),t.setAttribute("transform","translate("+i.x+","+i.y+") rotate("+r+")")}}},toggleArea:function(e){this.childNodes.area.style.display=e?"":"none"},onPointerDown:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid}))},resetAnchor:function(e){var t=this.type,n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(e){var t,n=this.relatedView,r=this.type,i=n.getEndView(r),o=i.model,s=n.getEndMagnet(r),a=he(e),l=this.paper.clientToLocalPoint(a.clientX,a.clientY),u=this.options.snap;if("function"==typeof u&&(l=u.call(n,l,i,s,r,n,this),l=new _(l)),this.options.restrictArea)if(i.isNodeConnection(s)){var c=i.getClosestPoint(l);c&&(l=c)}else{var h=i.getNodeUnrotatedBBox(s),d=o.angle(),p=o.getBBox().center(),f=l.clone().rotate(p,d);h.containsPoint(f)||(l=h.pointNearestToPoint(f).rotate(p,-d))}var g=this.options.anchor;"function"==typeof g&&(t=g.call(n,l,i,s,r,n)),this.resetAnchor(t),this.update()},onPointerUp:function(e){this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var t=this.relatedView;this.options.redundancyRemoval&&t.removeRedundantLinearVertices({ui:!0,tool:this.cid}),t.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){this.resetAnchor(),this.update()}}),to={Vertices:Vi,Segments:Hi,SourceArrowhead:Ki,TargetArrowhead:Xi,SourceAnchor:eo.extend({name:"source-anchor",type:"source"}),TargetAnchor:eo.extend({name:"target-anchor",type:"target"}),Button:Ji,Remove:Qi,Boundary:$i},no={Button:Ji,Remove:Qi,Boundary:$i},ro=Q,io={DirectedGraph:wr,PortLabel:Gt,Port:jt};e.V=Q,e.Vectorizer=ro,e.anchors=fr,e.config=$,e.connectionPoints=tr,e.connectionStrategies=Gi,e.connectors=Wn,e.dia=br,e.elementTools=no,e.env=Cr,e.format={},e.g=J,e.highlighters=Yn,e.layout=io,e.linkAnchors=Jn,e.linkTools=to,e.mvc=Jt,e.routers=jn,e.setTheme=function(e,t){Ee(Xt,"setTheme",e,t=t||{}),Kt.prototype.defaultTheme=e},e.shapes=ji,e.ui={},e.util=Nt,e.version="3.1.1",Object.defineProperty(e,"__esModule",{value:!0})})(t,n("q1z7"),n("LvDl"),n("EVdn")),"undefined"!=typeof joint&&(joint,joint,joint)},f7Fo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Gkij");var i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.ContentModified=-32801,e.MessageWriteError=1,e.MessageReadError=2}(i=t.ErrorCodes||(t.ErrorCodes={}));class o extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=o;class s{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=s,t.RequestType0=class extends s{constructor(e){super(e,0),this._=void 0}},t.RequestType=class extends s{constructor(e){super(e,1),this._=void 0}},t.RequestType1=class extends s{constructor(e){super(e,1),this._=void 0}},t.RequestType2=class extends s{constructor(e){super(e,2),this._=void 0}},t.RequestType3=class extends s{constructor(e){super(e,3),this._=void 0}},t.RequestType4=class extends s{constructor(e){super(e,4),this._=void 0}},t.RequestType5=class extends s{constructor(e){super(e,5),this._=void 0}},t.RequestType6=class extends s{constructor(e){super(e,6),this._=void 0}},t.RequestType7=class extends s{constructor(e){super(e,7),this._=void 0}},t.RequestType8=class extends s{constructor(e){super(e,8),this._=void 0}},t.RequestType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.NotificationType=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType0=class extends s{constructor(e){super(e,0),this._=void 0}},t.NotificationType1=class extends s{constructor(e){super(e,1),this._=void 0}},t.NotificationType2=class extends s{constructor(e){super(e,2),this._=void 0}},t.NotificationType3=class extends s{constructor(e){super(e,3),this._=void 0}},t.NotificationType4=class extends s{constructor(e){super(e,4),this._=void 0}},t.NotificationType5=class extends s{constructor(e){super(e,5),this._=void 0}},t.NotificationType6=class extends s{constructor(e){super(e,6),this._=void 0}},t.NotificationType7=class extends s{constructor(e){super(e,7),this._=void 0}},t.NotificationType8=class extends s{constructor(e){super(e,8),this._=void 0}},t.NotificationType9=class extends s{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},t.isNotificationMessage=function(e){return e&&r.string(e.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},fIkx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,o=n.length;i<o;i++)try{t.push(n[i].apply(r[i],e))}catch(s){console.error(s)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=((e,t,n)=>{let o;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),o={dispose:()=>{this._callbacks.remove(e,t),o.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(o),o})),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=i,i._noop=function(){}},grCS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(e=>{this.onSuccess=e}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e})),(t>=0||void 0===this.timeout)&&(this.timeout=setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0)},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}}},hde3:function(e,t,n){"use strict";n.r(t),(function(e){n.d(t,"setUriThrowOnMissingScheme",function(){return c});var r,i=n("mrSG");if("object"==typeof e)r="win32"===e.platform;else if("object"==typeof navigator){var o=navigator.userAgent;r=o.indexOf("Windows")>=0}var s=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//,u=!0;function c(e){var t=u;return u=e,t}var h="",d="/",p=/^(([^:\/?#]+?):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,f=function(){function e(e,t,n,r,i,o){void 0===o&&(o=!1),"object"==typeof e?(this.scheme=e.scheme||h,this.authority=e.authority||h,this.path=e.path||h,this.query=e.query||h,this.fragment=e.fragment||h):(this.scheme=function(e,t){return t||u?e||h:(e||(e="file"),e)}(e,o),this.authority=t||h,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==d&&(t=d+t):t=d}return t}(this.scheme,n||h),this.query=r||h,this.fragment=i||h,function(e,t){if(!e.scheme&&(t||u))throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');if(e.scheme&&!s.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!a.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,o))}return e.isUri=function(t){return t instanceof e||!!t&&"string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"function"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString},Object.defineProperty(e.prototype,"fsPath",{get:function(){return C(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=h),void 0===n?n=this.authority:null===n&&(n=h),void 0===r?r=this.path:null===r&&(r=h),void 0===i?i=this.query:null===i&&(i=h),void 0===o?o=this.fragment:null===o&&(o=h),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new v(t,n,r,i,o)},e.parse=function(e,t){void 0===t&&(t=!1);var n=p.exec(e);return n?new v(n[2]||h,decodeURIComponent(n[4]||h),decodeURIComponent(n[5]||h),decodeURIComponent(n[7]||h),decodeURIComponent(n[9]||h),t):new v(h,h,h,h,h)},e.file=function(e){var t=h;if(r&&(e=e.replace(/\\/g,d)),e[0]===d&&e[1]===d){var n=e.indexOf(d,2);-1===n?(t=e.substring(2),e=d):(t=e.substring(2,n),e=e.substring(n)||d)}return new v("file",t,e,h,h)},e.from=function(e){return new v(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),I(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new v(t);return n._formatted=t.external,n._fsPath=t._sep===m?t.fsPath:null,n}return t},e}();t.default=f;var g,m=r?1:void 0,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return Object(i.c)(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=C(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?I(this,!0):(this._formatted||(this._formatted=I(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=m),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(f),y=((g={})[58]="%3A",g[47]="%2F",g[63]="%3F",g[35]="%23",g[91]="%5B",g[93]="%5D",g[64]="%40",g[33]="%21",g[36]="%24",g[38]="%26",g[39]="%27",g[40]="%28",g[41]="%29",g[42]="%2A",g[43]="%2B",g[44]="%2C",g[59]="%3B",g[61]="%3D",g[32]="%20",g);function b(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var s=y[o];void 0!==s?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=s):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function w(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=y[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function C(e){var t;return t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path,r&&(t=t.replace(/\//g,"\\")),t}function I(e,t){var n=t?w:b,r="",i=e.scheme,o=e.authority,s=e.path,a=e.query,l=e.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=d,r+=d),o){var u=o.indexOf("@");if(-1!==u){var c=o.substr(0,u);o=o.substr(u+1),-1===(u=c.indexOf(":"))?r+=n(c,!1):(r+=n(c.substr(0,u),!1),r+=":",r+=n(c.substr(u+1),!1)),r+="@"}-1===(u=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,u),!1),r+=o.substr(u))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(h=s.charCodeAt(1))>=65&&h<=90&&(s="/"+String.fromCharCode(h+32)+":"+s.substr(3));else if(s.length>=2&&58===s.charCodeAt(1)){var h;(h=s.charCodeAt(0))>=65&&h<=90&&(s=String.fromCharCode(h+32)+":"+s.substr(2))}r+=n(s,!0)}return a&&(r+="?",r+=n(a,!1)),l&&(r+="#",r+=t?l:b(l,!1)),r}}).call(this,n("8oxB"))},i6mb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Z5Ki");t.Disposable=r.Disposable,t.DisposableCollection=class{constructor(){this.disposables=[]}dispose(){for(;0!==this.disposables.length;)this.disposables.pop().dispose()}push(e){const t=this.disposables;return t.push(e),{dispose(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}}},iLxQ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},in9m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Gz0x");t.ConsoleWindow=class{constructor(){this.channels=new Map}showMessage(e,t,...n){return e===r.MessageType.Error&&console.error(t),e===r.MessageType.Warning&&console.warn(t),e===r.MessageType.Info&&console.info(t),e===r.MessageType.Log&&console.log(t),Promise.resolve(void 0)}createOutputChannel(e){const t=this.channels.get(e);if(t)return t;const n={append(t){console.log(e+": "+t)},appendLine(t){console.log(e+": "+t)},show(){},dispose(){}};return this.channels.set(e,n),n}}},isby:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Array.isArray||function(e){return e&&"number"==typeof e.length}},k5Vz:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("fIkx"),i=n("Gkij");(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)};class o{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=o,t.StreamMessageWriter=class extends o{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(t){let n=JSON.stringify(t),r=["Content-Length: ",e.byteLength(n,this.encoding).toString(),"\r\n","\r\n"];try{this.writable.write(r.join(""),"ascii"),this.writable.write(n,this.encoding),this.errorCount=0}catch(i){this.errorCount++,this.fireError(i,t,this.errorCount)}}},t.IPCMessageWriter=class extends o{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.SocketMessageWriter=class extends o{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(t){let n=JSON.stringify(t),r=["Content-Length: ",e.byteLength(n,this.encoding).toString(),"\r\n","\r\n"];try{this.sending=!0,this.socket.write(r.join(""),"ascii",e=>{e&&this.handleError(e,t);try{this.socket.write(n,this.encoding,e=>{this.sending=!1,e?this.handleError(e,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(e){this.handleError(e,t)}})}catch(i){this.handleError(i,t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}}).call(this,n("tjlA").Buffer)},"kVK+":function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+e[t+h],h+=d,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=f,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+p]=255&s,p+=f,s/=256,u-=8);e[n+p-f]|=128*g}},kjvz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("BOov"),i=n("owkM"),o=n("Gz0x");var s,a,l;!function(e){e.is=function(e){return!!e&&"data"in e}}(s=t.ProtocolDocumentLink||(t.ProtocolDocumentLink={})),function(e){e.is=function(e){return!!e&&"data"in e}}(a=t.ProtocolCodeLens||(t.ProtocolCodeLens={})),function(e){e.is=function(e){return!!e&&"data"in e}}(l=t.ProtocolCompletionItem||(t.ProtocolCompletionItem={})),t.MonacoToProtocolConverter=class{asPosition(e,t){return{line:null==e?void 0:e-1,character:null==t?void 0:t-1}}asRange(e){if(void 0!==e)return null===e?null:{start:this.asPosition(e.startLineNumber,e.startColumn),end:this.asPosition(e.endLineNumber,e.endColumn)}}asTextDocumentIdentifier(e){return{uri:e.uri.toString()}}asTextDocumentPositionParams(e,t){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column)}}asCompletionParams(e,t,n){return Object.assign(this.asTextDocumentPositionParams(e,t),{context:this.asCompletionContext(n)})}asCompletionContext(e){return{triggerKind:this.asTriggerKind(e.triggerKind),triggerCharacter:e.triggerCharacter}}asTriggerKind(e){switch(e){case monaco.languages.CompletionTriggerKind.TriggerCharacter:return o.CompletionTriggerKind.TriggerCharacter;case monaco.languages.CompletionTriggerKind.TriggerForIncompleteCompletions:return o.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return o.CompletionTriggerKind.Invoked}}asCompletionItem(e){const t={label:e.label},n=l.is(e)?e:void 0;return e.detail&&(t.detail=e.detail),e.documentation&&(t.documentation=n&&n.documentationFormat?this.asDocumentation(n.documentationFormat,e.documentation):e.documentation),e.filterText&&(t.filterText=e.filterText),this.fillPrimaryInsertText(t,e),i.number(e.kind)&&(t.kind=this.asCompletionItemKind(e.kind,n&&n.originalItemKind)),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=this.asTextEdits(e.additionalTextEdits)),e.command&&(t.command=this.asCommand(e.command)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=this.asCommand(e.command)),n&&(void 0!==n.data&&(t.data=n.data),!0!==n.deprecated&&!1!==n.deprecated||(t.deprecated=n.deprecated)),t}asCompletionItemKind(e,t){if(void 0!==t)return t;switch(e){case monaco.languages.CompletionItemKind.Method:return o.CompletionItemKind.Method;case monaco.languages.CompletionItemKind.Function:return o.CompletionItemKind.Function;case monaco.languages.CompletionItemKind.Constructor:return o.CompletionItemKind.Constructor;case monaco.languages.CompletionItemKind.Field:return o.CompletionItemKind.Field;case monaco.languages.CompletionItemKind.Variable:return o.CompletionItemKind.Variable;case monaco.languages.CompletionItemKind.Class:return o.CompletionItemKind.Class;case monaco.languages.CompletionItemKind.Struct:return o.CompletionItemKind.Struct;case monaco.languages.CompletionItemKind.Interface:return o.CompletionItemKind.Interface;case monaco.languages.CompletionItemKind.Module:return o.CompletionItemKind.Module;case monaco.languages.CompletionItemKind.Property:return o.CompletionItemKind.Property;case monaco.languages.CompletionItemKind.Event:return o.CompletionItemKind.Event;case monaco.languages.CompletionItemKind.Operator:return o.CompletionItemKind.Operator;case monaco.languages.CompletionItemKind.Unit:return o.CompletionItemKind.Unit;case monaco.languages.CompletionItemKind.Value:return o.CompletionItemKind.Value;case monaco.languages.CompletionItemKind.Constant:return o.CompletionItemKind.Constant;case monaco.languages.CompletionItemKind.Enum:return o.CompletionItemKind.Enum;case monaco.languages.CompletionItemKind.EnumMember:return o.CompletionItemKind.EnumMember;case monaco.languages.CompletionItemKind.Keyword:return o.CompletionItemKind.Keyword;case monaco.languages.CompletionItemKind.Text:return o.CompletionItemKind.Text;case monaco.languages.CompletionItemKind.Color:return o.CompletionItemKind.Color;case monaco.languages.CompletionItemKind.File:return o.CompletionItemKind.File;case monaco.languages.CompletionItemKind.Reference:return o.CompletionItemKind.Reference;case monaco.languages.CompletionItemKind.Customcolor:return o.CompletionItemKind.Color;case monaco.languages.CompletionItemKind.Folder:return o.CompletionItemKind.Folder;case monaco.languages.CompletionItemKind.TypeParameter:return o.CompletionItemKind.TypeParameter;case monaco.languages.CompletionItemKind.Snippet:return o.CompletionItemKind.Snippet;default:return e+1}}asDocumentation(e,t){switch(e){case o.MarkupKind.PlainText:return{kind:e,value:t};case o.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}fillPrimaryInsertText(e,t){let n,r,i=o.InsertTextFormat.PlainText;void 0!==t.insertTextRules&&0==(t.insertTextRules&monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet)&&(i=o.InsertTextFormat.Snippet,n=t.insertText),e.insertTextFormat=i,n=t.insertText,t.range&&(r=this.asRange(t.range)),e.insertTextFormat=i,t.fromEdit&&n&&r?e.textEdit={newText:n,range:r}:e.insertText=n}asTextEdit(e){return{range:this.asRange(e.range),newText:e.text||""}}asTextEdits(e){if(e)return e.map(e=>this.asTextEdit(e))}asReferenceParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),context:{includeDeclaration:n.includeDeclaration}}}asDocumentSymbolParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asCodeLensParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asDiagnosticSeverity(e){switch(e){case monaco.MarkerSeverity.Error:return o.DiagnosticSeverity.Error;case monaco.MarkerSeverity.Warning:return o.DiagnosticSeverity.Warning;case monaco.MarkerSeverity.Info:return o.DiagnosticSeverity.Information;case monaco.MarkerSeverity.Hint:return o.DiagnosticSeverity.Hint}}asDiagnostic(e){const t=this.asRange(new monaco.Range(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)),n=this.asDiagnosticSeverity(e.severity);return o.Diagnostic.create(t,e.message,n,e.code,e.source)}asDiagnostics(e){return null==e?e:e.map(e=>this.asDiagnostic(e))}asCodeActionContext(e){if(null==e)return e;const t=this.asDiagnostics(e.markers);return o.CodeActionContext.create(t,i.string(e.only)?[e.only]:void 0)}asCodeActionParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),range:this.asRange(t),context:this.asCodeActionContext(n)}}asCommand(e){if(e)return o.Command.create(e.title,e.id,...e.arguments||[])}asCodeLens(e){let t=o.CodeLens.create(this.asRange(e.range));return e.command&&(t.command=this.asCommand(e.command)),a.is(e)&&e.data&&(t.data=e.data),t}asFormattingOptions(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}}asDocumentFormattingParams(e,t){return{textDocument:this.asTextDocumentIdentifier(e),options:this.asFormattingOptions(t)}}asDocumentRangeFormattingParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),range:this.asRange(t),options:this.asFormattingOptions(n)}}asDocumentOnTypeFormattingParams(e,t,n,r){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),ch:n,options:this.asFormattingOptions(r)}}asRenameParams(e,t,n){return{textDocument:this.asTextDocumentIdentifier(e),position:this.asPosition(t.lineNumber,t.column),newName:n}}asDocumentLinkParams(e){return{textDocument:this.asTextDocumentIdentifier(e)}}asDocumentLink(e){let t=o.DocumentLink.create(this.asRange(e.range));return e.url&&(t.target="string"==typeof e.url?e.url:e.url.toString()),s.is(e)&&e.data&&(t.data=e.data),t}},t.ProtocolToMonacoConverter=class{asResourceEdits(e,t,n){return{resource:e,edits:this.asTextEdits(t),modelVersionId:n}}asWorkspaceEdit(e){if(!e)return;const t=[];if(e.documentChanges)e.documentChanges.forEach(e=>{if(r.CreateFile.is(e))t.push({newUri:monaco.Uri.parse(e.uri),options:e.options});else if(r.RenameFile.is(e))t.push({oldUri:monaco.Uri.parse(e.oldUri),newUri:monaco.Uri.parse(e.newUri),options:e.options});else if(r.DeleteFile.is(e))t.push({oldUri:monaco.Uri.parse(e.uri),options:e.options});else if(r.TextDocumentEdit.is(e)){const n=monaco.Uri.parse(e.textDocument.uri);t.push(this.asResourceEdits(n,e.edits,"number"==typeof e.textDocument.version?e.textDocument.version:void 0))}else console.error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`)});else if(e.changes)for(const n of Object.keys(e.changes)){const r=monaco.Uri.parse(n);t.push(this.asResourceEdits(r,e.changes[n]))}return{edits:t}}asTextEdit(e){if(e)return{range:this.asRange(e.range),text:e.newText}}asTextEdits(e){if(e)return e.map(e=>this.asTextEdit(e))}asCodeLens(e){if(!e)return;let t={range:this.asRange(e.range)};return e.command&&(t.command=this.asCommand(e.command)),null!=e.data&&(t.data=e.data),t}asCodeLenses(e){if(e)return e.map(e=>this.asCodeLens(e))}asCodeActions(e){return e.map(e=>this.asCodeAction(e))}asCodeAction(e){return o.CodeAction.is(e)?{title:e.title,command:this.asCommand(e.command),edit:this.asWorkspaceEdit(e.edit),diagnostics:this.asDiagnostics(e.diagnostics),kind:e.kind}:{command:{id:e.command,title:e.title,arguments:e.arguments},title:e.title}}asCommand(e){if(e)return{id:e.command,title:e.title,arguments:e.arguments}}asDocumentSymbol(e){const t=e.children&&e.children.map(e=>this.asDocumentSymbol(e));return{name:e.name,detail:e.detail||"",kind:this.asSymbolKind(e.kind),range:this.asRange(e.range),selectionRange:this.asRange(e.selectionRange),children:t}}asDocumentSymbols(e){return o.DocumentSymbol.is(e[0])?e.map(e=>this.asDocumentSymbol(e)):this.asSymbolInformations(e)}asSymbolInformations(e,t){if(e)return e.map(e=>this.asSymbolInformation(e,t))}asSymbolInformation(e,t){const n=this.asLocation(t?Object.assign({},e.location,{uri:t.toString()}):e.location);return{name:e.name,detail:"",containerName:e.containerName,kind:this.asSymbolKind(e.kind),range:n.range,selectionRange:n.range}}asSymbolKind(e){return e<=o.SymbolKind.TypeParameter?e-1:monaco.languages.SymbolKind.Property}asDocumentHighlights(e){if(e)return e.map(e=>this.asDocumentHighlight(e))}asDocumentHighlight(e){return{range:this.asRange(e.range),kind:i.number(e.kind)?this.asDocumentHighlightKind(e.kind):void 0}}asDocumentHighlightKind(e){switch(e){case o.DocumentHighlightKind.Text:return monaco.languages.DocumentHighlightKind.Text;case o.DocumentHighlightKind.Read:return monaco.languages.DocumentHighlightKind.Read;case o.DocumentHighlightKind.Write:return monaco.languages.DocumentHighlightKind.Write}return monaco.languages.DocumentHighlightKind.Text}asReferences(e){if(e)return e.map(e=>this.asLocation(e))}asDefinitionResult(e){if(e)return i.array(e)?e.map(e=>this.asLocation(e)):this.asLocation(e)}asLocation(e){if(e)return{uri:monaco.Uri.parse(e.uri),range:this.asRange(e.range)}}asSignatureHelp(e){if(!e)return;let t={};return t.activeSignature=i.number(e.activeSignature)?e.activeSignature:0,t.activeParameter=i.number(e.activeParameter)?e.activeParameter:0,t.signatures=e.signatures?this.asSignatureInformations(e.signatures):[],t}asSignatureInformations(e){return e.map(e=>this.asSignatureInformation(e))}asSignatureInformation(e){let t={label:e.label};return e.documentation&&(t.documentation=this.asDocumentation(e.documentation)),t.parameters=e.parameters?this.asParameterInformations(e.parameters):[],t}asParameterInformations(e){return e.map(e=>this.asParameterInformation(e))}asParameterInformation(e){let t={label:e.label};return e.documentation&&(t.documentation=this.asDocumentation(e.documentation)),t}asHover(e){if(e)return{contents:this.asHoverContent(e.contents),range:this.asRange(e.range)}}asHoverContent(e){return Array.isArray(e)?e.map(e=>this.asMarkdownString(e)):[this.asMarkdownString(e)]}asDocumentation(e){return i.string(e)?e:e.kind===o.MarkupKind.PlainText?e.value:this.asMarkdownString(e)}asMarkdownString(e){if(o.MarkupContent.is(e))return{value:e.value};if(i.string(e))return{value:e};const{language:t,value:n}=e;return{value:"```"+t+"\n"+n+"\n```"}}asSeverity(e){return 1===e?monaco.MarkerSeverity.Error:2===e?monaco.MarkerSeverity.Warning:3===e?monaco.MarkerSeverity.Info:monaco.MarkerSeverity.Hint}asDiagnostics(e){if(e)return e.map(e=>this.asDiagnostic(e))}asDiagnostic(e){return{code:"number"==typeof e.code?e.code.toString():e.code,severity:this.asSeverity(e.severity),message:e.message,source:e.source,startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,relatedInformation:this.asRelatedInformations(e.relatedInformation)}}asRelatedInformations(e){if(e)return e.map(e=>this.asRelatedInformation(e))}asRelatedInformation(e){return{resource:monaco.Uri.parse(e.location.uri),startLineNumber:e.location.range.start.line+1,startColumn:e.location.range.start.character+1,endLineNumber:e.location.range.end.line+1,endColumn:e.location.range.end.character+1,message:e.message}}asCompletionResult(e,t){return e?Array.isArray(e)?{incomplete:!1,suggestions:e.map(e=>this.asCompletionItem(e,t))}:{incomplete:e.isIncomplete,suggestions:e.items.map(e=>this.asCompletionItem(e,t))}:{incomplete:!1,suggestions:[]}}asCompletionItem(e,t){const n={label:e.label};e.detail&&(n.detail=e.detail),e.documentation&&(n.documentation=this.asDocumentation(e.documentation),n.documentationFormat=i.string(e.documentation)?void 0:e.documentation.kind),e.filterText&&(n.filterText=e.filterText);const r=this.asCompletionInsertText(e,t);if(n.insertText=r.insertText,n.range=r.range,n.fromEdit=r.fromEdit,r.isSnippet&&(n.insertTextRules=monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet),i.number(e.kind)){let[t,r]=this.asCompletionItemKind(e.kind);n.kind=t,r&&(n.originalItemKind=r)}return e.sortText&&(n.sortText=e.sortText),e.additionalTextEdits&&(n.additionalTextEdits=this.asTextEdits(e.additionalTextEdits)),i.stringArray(e.commitCharacters)&&(n.commitCharacters=e.commitCharacters.slice()),e.command&&(n.command=this.asCommand(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(n.deprecated=e.deprecated),!0!==e.preselect&&!1!==e.preselect||(n.preselect=e.preselect),void 0!==e.data&&(n.data=e.data),!0!==e.deprecated&&!1!==e.deprecated||(n.deprecated=e.deprecated),n}asCompletionItemKind(e){if(o.CompletionItemKind.Text<=e&&e<=o.CompletionItemKind.TypeParameter)switch(e){case o.CompletionItemKind.Text:return[monaco.languages.CompletionItemKind.Text,void 0];case o.CompletionItemKind.Method:return[monaco.languages.CompletionItemKind.Method,void 0];case o.CompletionItemKind.Function:return[monaco.languages.CompletionItemKind.Function,void 0];case o.CompletionItemKind.Constructor:return[monaco.languages.CompletionItemKind.Constructor,void 0];case o.CompletionItemKind.Field:return[monaco.languages.CompletionItemKind.Field,void 0];case o.CompletionItemKind.Variable:return[monaco.languages.CompletionItemKind.Variable,void 0];case o.CompletionItemKind.Class:return[monaco.languages.CompletionItemKind.Class,void 0];case o.CompletionItemKind.Interface:return[monaco.languages.CompletionItemKind.Interface,void 0];case o.CompletionItemKind.Module:return[monaco.languages.CompletionItemKind.Module,void 0];case o.CompletionItemKind.Property:return[monaco.languages.CompletionItemKind.Property,void 0];case o.CompletionItemKind.Unit:return[monaco.languages.CompletionItemKind.Unit,void 0];case o.CompletionItemKind.Value:return[monaco.languages.CompletionItemKind.Value,void 0];case o.CompletionItemKind.Enum:return[monaco.languages.CompletionItemKind.Enum,void 0];case o.CompletionItemKind.Keyword:return[monaco.languages.CompletionItemKind.Keyword,void 0];case o.CompletionItemKind.Snippet:return[monaco.languages.CompletionItemKind.Snippet,void 0];case o.CompletionItemKind.Color:return[monaco.languages.CompletionItemKind.Color,void 0];case o.CompletionItemKind.File:return[monaco.languages.CompletionItemKind.File,void 0];case o.CompletionItemKind.Reference:return[monaco.languages.CompletionItemKind.Reference,void 0];case o.CompletionItemKind.Folder:return[monaco.languages.CompletionItemKind.Folder,void 0];case o.CompletionItemKind.EnumMember:return[monaco.languages.CompletionItemKind.EnumMember,void 0];case o.CompletionItemKind.Constant:return[monaco.languages.CompletionItemKind.Constant,void 0];case o.CompletionItemKind.Struct:return[monaco.languages.CompletionItemKind.Struct,void 0];case o.CompletionItemKind.Event:return[monaco.languages.CompletionItemKind.Event,void 0];case o.CompletionItemKind.Operator:return[monaco.languages.CompletionItemKind.Operator,void 0];case o.CompletionItemKind.TypeParameter:return[monaco.languages.CompletionItemKind.TypeParameter,void 0];default:return[e-1,void 0]}return[o.CompletionItemKind.Text,e]}asCompletionInsertText(e,t){const n=e.insertTextFormat===o.InsertTextFormat.Snippet;if(e.textEdit){const t=this.asRange(e.textEdit.range);return{isSnippet:n,insertText:e.textEdit.newText,range:t,fromEdit:!0}}return e.insertText?{isSnippet:n,insertText:e.insertText,fromEdit:!1,range:t}:{insertText:e.label,range:t,fromEdit:!1,isSnippet:!1}}asDocumentLinks(e){return{links:e.map(e=>this.asDocumentLink(e))}}asDocumentLink(e){return{range:this.asRange(e.range),url:e.target,data:e.data}}asRange(e){if(void 0===e)return;if(null===e)return null;const t=this.asPosition(e.start),n=this.asPosition(e.end);return t instanceof monaco.Position&&n instanceof monaco.Position?new monaco.Range(t.lineNumber,t.column,n.lineNumber,n.column):{startLineNumber:t&&void 0!==t.lineNumber?t.lineNumber:void 0,startColumn:t&&void 0!==t.column?t.column:void 0,endLineNumber:n&&void 0!==n.lineNumber?n.lineNumber:void 0,endColumn:n&&void 0!==n.column?n.column:void 0}}asPosition(e){if(void 0===e)return;if(null===e)return null;const{line:t,character:n}=e,r=void 0===t?void 0:t+1,i=void 0===n?void 0:n+1;return void 0!==r&&void 0!==i?new monaco.Position(r,i):{lineNumber:r,column:i}}asColorInformations(e){return e.map(e=>this.asColorInformation(e))}asColorInformation(e){return{range:this.asRange(e.range),color:e.color}}asColorPresentations(e){return e.map(e=>this.asColorPresentation(e))}asColorPresentation(e){return{label:e.label,textEdit:this.asTextEdit(e.textEdit),additionalTextEdits:this.asTextEdits(e.additionalTextEdits)}}asFoldingRanges(e){return e?e.map(e=>this.asFoldingRange(e)):e}asFoldingRange(e){return{start:e.startLine+1,end:e.endLine+1,kind:this.asFoldingRangeKind(e.kind)}}asFoldingRangeKind(e){if(e)switch(e){case o.FoldingRangeKind.Comment:return monaco.languages.FoldingRangeKind.Comment;case o.FoldingRangeKind.Imports:return monaco.languages.FoldingRangeKind.Imports;case o.FoldingRangeKind.Region:return monaco.languages.FoldingRangeKind.Region}}}},kmEW:function(e,t,n){"use strict";var r,i,o,s,a,l,u,c,h,d,p,f,g,m,v,y,b,w,C,I;n.r(t),n.d(t,"Position",function(){return r}),n.d(t,"Range",function(){return i}),n.d(t,"Location",function(){return o}),n.d(t,"LocationLink",function(){return s}),n.d(t,"Color",function(){return a}),n.d(t,"ColorInformation",function(){return l}),n.d(t,"ColorPresentation",function(){return u}),n.d(t,"FoldingRangeKind",function(){return c}),n.d(t,"FoldingRange",function(){return h}),n.d(t,"DiagnosticRelatedInformation",function(){return d}),n.d(t,"DiagnosticSeverity",function(){return p}),n.d(t,"DiagnosticTag",function(){return f}),n.d(t,"Diagnostic",function(){return g}),n.d(t,"Command",function(){return m}),n.d(t,"TextEdit",function(){return v}),n.d(t,"TextDocumentEdit",function(){return y}),n.d(t,"CreateFile",function(){return b}),n.d(t,"RenameFile",function(){return w}),n.d(t,"DeleteFile",function(){return C}),n.d(t,"WorkspaceEdit",function(){return I}),n.d(t,"WorkspaceChange",function(){return J}),n.d(t,"TextDocumentIdentifier",function(){return x}),n.d(t,"VersionedTextDocumentIdentifier",function(){return A}),n.d(t,"TextDocumentItem",function(){return _}),n.d(t,"MarkupKind",function(){return S}),n.d(t,"MarkupContent",function(){return D}),n.d(t,"CompletionItemKind",function(){return T}),n.d(t,"InsertTextFormat",function(){return k}),n.d(t,"CompletionItemTag",function(){return N}),n.d(t,"CompletionItem",function(){return P}),n.d(t,"CompletionList",function(){return M}),n.d(t,"MarkedString",function(){return O}),n.d(t,"Hover",function(){return E}),n.d(t,"ParameterInformation",function(){return j}),n.d(t,"SignatureInformation",function(){return R}),n.d(t,"DocumentHighlightKind",function(){return L}),n.d(t,"DocumentHighlight",function(){return z}),n.d(t,"SymbolKind",function(){return F}),n.d(t,"SymbolTag",function(){return B}),n.d(t,"SymbolInformation",function(){return G}),n.d(t,"DocumentSymbol",function(){return U}),n.d(t,"CodeActionKind",function(){return Z}),n.d(t,"CodeActionContext",function(){return W}),n.d(t,"CodeAction",function(){return V}),n.d(t,"CodeLens",function(){return Y}),n.d(t,"FormattingOptions",function(){return H}),n.d(t,"DocumentLink",function(){return q}),n.d(t,"SelectionRange",function(){return X}),n.d(t,"EOL",function(){return $}),n.d(t,"TextDocument",function(){return Q}),function(e){e.create=function(e,t){return{line:e,character:t}},e.is=function(e){var t=e;return ee.objectLiteral(t)&&ee.number(t.line)&&ee.number(t.character)}}(r||(r={})),function(e){e.create=function(e,t,n,i){if(ee.number(e)&&ee.number(t)&&ee.number(n)&&ee.number(i))return{start:r.create(e,t),end:r.create(n,i)};if(r.is(e)&&r.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments["+e+", "+t+", "+n+", "+i+"]")},e.is=function(e){var t=e;return ee.objectLiteral(t)&&r.is(t.start)&&r.is(t.end)}}(i||(i={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return ee.defined(t)&&i.is(t.range)&&(ee.string(t.uri)||ee.undefined(t.uri))}}(o||(o={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return ee.defined(t)&&i.is(t.targetRange)&&ee.string(t.targetUri)&&(i.is(t.targetSelectionRange)||ee.undefined(t.targetSelectionRange))&&(i.is(t.originSelectionRange)||ee.undefined(t.originSelectionRange))}}(s||(s={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return ee.number(t.red)&&ee.number(t.green)&&ee.number(t.blue)&&ee.number(t.alpha)}}(a||(a={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return i.is(t.range)&&a.is(t.color)}}(l||(l={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return ee.string(t.label)&&(ee.undefined(t.textEdit)||v.is(t))&&(ee.undefined(t.additionalTextEdits)||ee.typedArray(t.additionalTextEdits,v.is))}}(u||(u={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(c||(c={})),function(e){e.create=function(e,t,n,r,i){var o={startLine:e,endLine:t};return ee.defined(n)&&(o.startCharacter=n),ee.defined(r)&&(o.endCharacter=r),ee.defined(i)&&(o.kind=i),o},e.is=function(e){var t=e;return ee.number(t.startLine)&&ee.number(t.startLine)&&(ee.undefined(t.startCharacter)||ee.number(t.startCharacter))&&(ee.undefined(t.endCharacter)||ee.number(t.endCharacter))&&(ee.undefined(t.kind)||ee.string(t.kind))}}(h||(h={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return ee.defined(t)&&o.is(t.location)&&ee.string(t.message)}}(d||(d={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(p||(p={})),function(e){e.Unnecessary=1,e.Deprecated=2}(f||(f={})),function(e){e.create=function(e,t,n,r,i,o){var s={range:e,message:t};return ee.defined(n)&&(s.severity=n),ee.defined(r)&&(s.code=r),ee.defined(i)&&(s.source=i),ee.defined(o)&&(s.relatedInformation=o),s},e.is=function(e){var t=e;return ee.defined(t)&&i.is(t.range)&&ee.string(t.message)&&(ee.number(t.severity)||ee.undefined(t.severity))&&(ee.number(t.code)||ee.string(t.code)||ee.undefined(t.code))&&(ee.string(t.source)||ee.undefined(t.source))&&(ee.undefined(t.relatedInformation)||ee.typedArray(t.relatedInformation,d.is))}}(g||(g={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:e,command:t};return ee.defined(n)&&n.length>0&&(i.arguments=n),i},e.is=function(e){var t=e;return ee.defined(t)&&ee.string(t.title)&&ee.string(t.command)}}(m||(m={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return ee.objectLiteral(t)&&ee.string(t.newText)&&i.is(t.range)}}(v||(v={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return ee.defined(t)&&A.is(t.textDocument)&&Array.isArray(t.edits)}}(y||(y={})),function(e){e.create=function(e,t){var n={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"create"===t.kind&&ee.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||ee.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ee.boolean(t.options.ignoreIfExists)))}}(b||(b={})),function(e){e.create=function(e,t,n){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&ee.string(t.oldUri)&&ee.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||ee.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||ee.boolean(t.options.ignoreIfExists)))}}(w||(w={})),function(e){e.create=function(e,t){var n={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(n.options=t),n},e.is=function(e){var t=e;return t&&"delete"===t.kind&&ee.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||ee.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||ee.boolean(t.options.ignoreIfNotExists)))}}(C||(C={})),function(e){e.is=function(e){return e&&(void 0!==e.changes||void 0!==e.documentChanges)&&(void 0===e.documentChanges||e.documentChanges.every(function(e){return ee.string(e.kind)?b.is(e)||w.is(e)||C.is(e):y.is(e)}))}}(I||(I={}));var x,A,_,S,D,T,k,N,P,M,O,E,j,R,L,z,F,B,G,U,Z,W,V,Y,H,q,X,K=function(){function e(e){this.edits=e}return e.prototype.insert=function(e,t){this.edits.push(v.insert(e,t))},e.prototype.replace=function(e,t){this.edits.push(v.replace(e,t))},e.prototype.delete=function(e){this.edits.push(v.del(e))},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e}(),J=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),e&&(this._workspaceEdit=e,e.documentChanges?e.documentChanges.forEach(function(e){if(y.is(e)){var n=new K(e.edits);t._textEditChanges[e.textDocument.uri]=n}}):e.changes&&Object.keys(e.changes).forEach(function(n){var r=new K(e.changes[n]);t._textEditChanges[n]=r}))}return Object.defineProperty(e.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),e.prototype.getTextEditChange=function(e){if(A.is(e)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t=e;return(n=this._textEditChanges[t.uri])||(this._workspaceEdit.documentChanges.push({textDocument:t,edits:r=[]}),n=new K(r),this._textEditChanges[t.uri]=n),n}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var n,r;return(n=this._textEditChanges[e])||(this._workspaceEdit.changes[e]=r=[],n=new K(r),this._textEditChanges[e]=n),n},e.prototype.createFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(b.create(e,t))},e.prototype.renameFile=function(e,t,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(w.create(e,t,n))},e.prototype.deleteFile=function(e,t){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(C.create(e,t))},e.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return ee.defined(t)&&ee.string(t.uri)}}(x||(x={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return ee.defined(t)&&ee.string(t.uri)&&(null===t.version||ee.number(t.version))}}(A||(A={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return ee.defined(t)&&ee.string(t.uri)&&ee.string(t.languageId)&&ee.number(t.version)&&ee.string(t.text)}}(_||(_={})),function(e){e.PlainText="plaintext",e.Markdown="markdown"}(S||(S={})),function(e){e.is=function(t){return t===e.PlainText||t===e.Markdown}}(S||(S={})),function(e){e.is=function(e){var t=e;return ee.objectLiteral(e)&&S.is(t.kind)&&ee.string(t.value)}}(D||(D={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(T||(T={})),function(e){e.PlainText=1,e.Snippet=2}(k||(k={})),function(e){e.Deprecated=1}(N||(N={})),function(e){e.create=function(e){return{label:e}}}(P||(P={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(M||(M={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return ee.string(t)||ee.objectLiteral(t)&&ee.string(t.language)&&ee.string(t.value)}}(O||(O={})),function(e){e.is=function(e){var t=e;return!!t&&ee.objectLiteral(t)&&(D.is(t.contents)||O.is(t.contents)||ee.typedArray(t.contents,O.is))&&(void 0===e.range||i.is(e.range))}}(E||(E={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(j||(j={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:e};return ee.defined(t)&&(i.documentation=t),i.parameters=ee.defined(n)?n:[],i}}(R||(R={})),function(e){e.Text=1,e.Read=2,e.Write=3}(L||(L={})),function(e){e.create=function(e,t){var n={range:e};return ee.number(t)&&(n.kind=t),n}}(z||(z={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(F||(F={})),function(e){e.Deprecated=1}(B||(B={})),function(e){e.create=function(e,t,n,r,i){var o={name:e,kind:t,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(G||(G={})),function(e){e.create=function(e,t,n,r,i,o){var s={name:e,detail:t,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},e.is=function(e){var t=e;return t&&ee.string(t.name)&&ee.number(t.kind)&&i.is(t.range)&&i.is(t.selectionRange)&&(void 0===t.detail||ee.string(t.detail))&&(void 0===t.deprecated||ee.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))}}(U||(U={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(Z||(Z={})),function(e){e.create=function(e,t){var n={diagnostics:e};return null!=t&&(n.only=t),n},e.is=function(e){var t=e;return ee.defined(t)&&ee.typedArray(t.diagnostics,g.is)&&(void 0===t.only||ee.typedArray(t.only,ee.string))}}(W||(W={})),function(e){e.create=function(e,t,n){var r={title:e};return m.is(t)?r.command=t:r.edit=t,void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&ee.string(t.title)&&(void 0===t.diagnostics||ee.typedArray(t.diagnostics,g.is))&&(void 0===t.kind||ee.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||m.is(t.command))&&(void 0===t.isPreferred||ee.boolean(t.isPreferred))&&(void 0===t.edit||I.is(t.edit))}}(V||(V={})),function(e){e.create=function(e,t){var n={range:e};return ee.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return ee.defined(t)&&i.is(t.range)&&(ee.undefined(t.command)||m.is(t.command))}}(Y||(Y={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return ee.defined(t)&&ee.number(t.tabSize)&&ee.boolean(t.insertSpaces)}}(H||(H={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return ee.defined(t)&&i.is(t.range)&&(ee.undefined(t.target)||ee.string(t.target))}}(q||(q={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return void 0!==n&&i.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(X||(X={}));var Q,$=["\n","\r\n","\r"];!function(e){e.create=function(e,t,n,r){return new te(e,t,n,r)},e.is=function(e){var t=e;return!!(ee.defined(t)&&ee.string(t.uri)&&(ee.undefined(t.languageId)||ee.string(t.languageId))&&ee.number(t.lineCount)&&ee.func(t.getText)&&ee.func(t.positionAt)&&ee.func(t.offsetAt))},e.applyEdits=function(e,t){for(var n=e.getText(),r=function e(t,n){if(t.length<=1)return t;var r=t.length/2|0,i=t.slice(0,r),o=t.slice(r);e(i,n),e(o,n);for(var s=0,a=0,l=0;s<i.length&&a<o.length;){var u=n(i[s],o[a]);t[l++]=u<=0?i[s++]:o[a++]}for(;s<i.length;)t[l++]=i[s++];for(;a<o.length;)t[l++]=o[a++];return t}(t,function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n}),i=n.length,o=r.length-1;o>=0;o--){var s=r[o],a=e.offsetAt(s.range.start),l=e.offsetAt(s.range.end);if(!(l<=i))throw new Error("Overlapping edit");n=n.substring(0,a)+s.newText+n.substring(l,n.length),i=a}return n}}(Q||(Q={}));var ee,te=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var i=t.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,i=t.length;if(0===i)return r.create(0,e);for(;n<i;){var o=Math.floor((n+i)/2);t[o]>e?i=o:n=o+1}var s=n-1;return r.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line];return Math.max(Math.min(n+e.character,e.line+1<t.length?t[e.line+1]:this._content.length),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(ee||(ee={}))},knaz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov"),o=n("V7FC");function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.FoldingRangeFeature=class extends o.TextDocumentFeature{constructor(e){super(e,i.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=s(s(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.foldingRangeProvider);n&&r&&this.register(this.messages,{id:n,registerOptions:r})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>{const o={textDocument:t.code2ProtocolConverter.asTextDocumentIdentifier(e)};return t.sendRequest(i.FoldingRangeRequest.type,o,r).then(this.asFoldingRanges.bind(this),e=>(t.logFailedRequest(i.FoldingRangeRequest.type,e),Promise.resolve(null)))},o=t.clientOptions.middleware;return r.languages.registerFoldingRangeProvider(e.documentSelector,{provideFoldingRanges:(e,t,r)=>o.provideFoldingRanges?o.provideFoldingRanges(e,t,r,n):n(e,0,r)})}asFoldingRangeKind(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return r.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return r.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return r.FoldingRangeKind.Region}}asFoldingRanges(e){return Array.isArray(e)?e.map(e=>new r.FoldingRange(e.startLine,e.endLine,this.asFoldingRangeKind(e.kind))):[]}}},mChF:function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",function(){return r})},mrSG:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return h});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function a(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}},n3WK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov"),o=n("FW9y"),s=n("Y3ih"),a=n("VKwO"),l=n("EwVN");var u;!function(e){e.is=function(e){let t=e;return t&&o.string(t.language)&&o.string(t.value)}}(u||(u={})),t.createConverter=function(e){const t=e||(e=>r.Uri.parse(e));function n(e){return t(e)}function c(e){return e.map(h)}function h(e){let t=new r.Diagnostic(g(e.range),e.message,m(e.severity));return(o.number(e.code)||o.string(e.code))&&(t.code=e.code),e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(d)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=p(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function d(e){return new r.DiagnosticRelatedInformation(_(e.location),e.message)}function p(e){switch(e){case i.DiagnosticTag.Unnecessary:return r.DiagnosticTag.Unnecessary;case i.DiagnosticTag.Deprecated:return r.DiagnosticTag.Deprecated;default:return}}function f(e){if(e)return new r.Position(e.line,e.character)}function g(e){if(e)return new r.Range(f(e.start),f(e.end))}function m(e){if(null==e)return r.DiagnosticSeverity.Error;switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}return r.DiagnosticSeverity.Error}function v(e){if(o.string(e))return e;switch(e.kind){case i.MarkupKind.Markdown:return new r.MarkdownString(e.value);case i.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function y(e){let t=new s.default(e.label);e.detail&&(t.detail=e.detail),e.documentation&&(t.documentation=v(e.documentation),t.documentationFormat=o.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(t.filterText=e.filterText);let n=function(e){return e.textEdit?e.insertTextFormat===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.textEdit.newText),range:g(e.textEdit.range),fromEdit:!0}:{text:e.textEdit.newText,range:g(e.textEdit.range),fromEdit:!0}:e.insertText?e.insertTextFormat===i.InsertTextFormat.Snippet?{text:new r.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e);if(n&&(t.insertText=n.text,t.range=n.range,t.fromEdit=n.fromEdit),o.number(e.kind)){let[n,o]=i.CompletionItemKind.Text<=(a=e.kind)&&a<=i.CompletionItemKind.TypeParameter?[a-1,void 0]:[r.CompletionItemKind.Text,a];t.kind=n,o&&(t.originalItemKind=o)}var a;return e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=w(e.additionalTextEdits)),o.stringArray(e.commitCharacters)&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=O(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(t.deprecated=e.deprecated),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),void 0!==e.data&&(t.data=e.data),t}function b(e){if(e)return new r.TextEdit(g(e.range),e.newText)}function w(e){if(e)return e.map(b)}function C(e){return e.map(I)}function I(e){let t=new r.SignatureInformation(e.label);return e.documentation&&(t.documentation=v(e.documentation)),e.parameters&&(t.parameters=x(e.parameters)),t}function x(e){return e.map(A)}function A(e){let t=new r.ParameterInformation(e.label);return e.documentation&&(t.documentation=v(e.documentation)),t}function _(e){if(e)return new r.Location(t(e.uri),g(e.range))}function S(e){if(!e)return;let n={targetUri:t(e.targetUri),targetRange:g(e.targetSelectionRange),originSelectionRange:g(e.originSelectionRange),targetSelectionRange:g(e.targetSelectionRange)};if(!n.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return n}function D(e){if(e)return o.array(e)?0===e.length?[]:i.LocationLink.is(e[0])?e.map(e=>S(e)):e.map(e=>_(e)):i.LocationLink.is(e)?[S(e)]:_(e)}function T(e){let t=new r.DocumentHighlight(g(e.range));return o.number(e.kind)&&(t.kind=k(e.kind)),t}function k(e){switch(e){case i.DocumentHighlightKind.Text:return r.DocumentHighlightKind.Text;case i.DocumentHighlightKind.Read:return r.DocumentHighlightKind.Read;case i.DocumentHighlightKind.Write:return r.DocumentHighlightKind.Write}return r.DocumentHighlightKind.Text}function N(e){return e<=i.SymbolKind.TypeParameter?e-1:r.SymbolKind.Property}function P(e,n){let i=new r.SymbolInformation(e.name,N(e.kind),g(e.location.range),e.location.uri?t(e.location.uri):n);return e.containerName&&(i.containerName=e.containerName),i}function M(e){let t=new r.DocumentSymbol(e.name,e.detail||"",N(e.kind),g(e.range),g(e.selectionRange));if(void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(M(t));t.children=n}return t}function O(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const E=new Map;function j(e){if(null==e)return;let t=E.get(e);if(t)return t;let n=e.split(".");t=r.CodeActionKind.Empty;for(let r of n)t=t.append(r);return t}function R(e){if(!e)return;let t=new a.default(g(e.range));return e.command&&(t.command=O(e.command)),null!=e.data&&(t.data=e.data),t}function L(e){if(!e)return;let n=new r.WorkspaceEdit;return e.documentChanges?e.documentChanges.forEach(e=>{i.CreateFile.is(e)?n.createFile(t(e.uri),e.options):i.RenameFile.is(e)?n.renameFile(t(e.oldUri),t(e.newUri),e.options):i.DeleteFile.is(e)?n.deleteFile(t(e.uri),e.options):i.TextDocumentEdit.is(e)?n.set(t(e.textDocument.uri),w(e.edits)):console.error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`)}):e.changes&&Object.keys(e.changes).forEach(r=>{n.set(t(r),w(e.changes[r]))}),n}function z(e){let t=g(e.range),r=e.target?n(e.target):void 0,i=new l.default(t,r);return null!=e.data&&(i.data=e.data),i}function F(e){return new r.Color(e.red,e.green,e.blue,e.alpha)}function B(e){return new r.ColorInformation(g(e.range),F(e.color))}function G(e){let t=new r.ColorPresentation(e.label);return t.additionalTextEdits=w(e.additionalTextEdits),e.textEdit&&(t.textEdit=b(e.textEdit)),t}function U(e){if(e)switch(e){case i.FoldingRangeKind.Comment:return r.FoldingRangeKind.Comment;case i.FoldingRangeKind.Imports:return r.FoldingRangeKind.Imports;case i.FoldingRangeKind.Region:return r.FoldingRangeKind.Region}}function Z(e){return new r.FoldingRange(e.startLine,e.endLine,U(e.kind))}function W(e){return new r.SelectionRange(g(e.range),e.parent?W(e.parent):void 0)}return E.set(i.CodeActionKind.Empty,r.CodeActionKind.Empty),E.set(i.CodeActionKind.QuickFix,r.CodeActionKind.QuickFix),E.set(i.CodeActionKind.Refactor,r.CodeActionKind.Refactor),E.set(i.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorExtract),E.set(i.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorInline),E.set(i.CodeActionKind.RefactorRewrite,r.CodeActionKind.RefactorRewrite),E.set(i.CodeActionKind.Source,r.CodeActionKind.Source),E.set(i.CodeActionKind.SourceOrganizeImports,r.CodeActionKind.SourceOrganizeImports),{asUri:n,asDiagnostics:c,asDiagnostic:h,asRange:g,asPosition:f,asDiagnosticSeverity:m,asDiagnosticTag:p,asHover:function(e){if(e)return new r.Hover(function(e){if(o.string(e))return new r.MarkdownString(e);if(u.is(e))return(new r.MarkdownString).appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=new r.MarkdownString;u.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}{let t;switch(e.kind){case i.MarkupKind.Markdown:return new r.MarkdownString(e.value);case i.MarkupKind.PlainText:return(t=new r.MarkdownString).appendText(e.value),t;default:return(t=new r.MarkdownString).appendText(`Unsupported Markup content received. Kind is: ${e.kind}`),t}}}(e.contents),g(e.range))},asCompletionResult:function(e){if(!e)return;if(Array.isArray(e))return e.map(y);let t=e;return new r.CompletionList(t.items.map(y),t.isIncomplete)},asCompletionItem:y,asTextEdit:b,asTextEdits:w,asSignatureHelp:function(e){if(!e)return;let t=new r.SignatureHelp;return t.activeSignature=o.number(e.activeSignature)?e.activeSignature:0,t.activeParameter=o.number(e.activeParameter)?e.activeParameter:0,e.signatures&&(t.signatures=C(e.signatures)),t},asSignatureInformations:C,asSignatureInformation:I,asParameterInformations:x,asParameterInformation:A,asDeclarationResult:function(e){if(e)return D(e)},asDefinitionResult:function(e){if(e)return D(e)},asLocation:_,asReferences:function(e){if(e)return e.map(e=>_(e))},asDocumentHighlights:function(e){if(e)return e.map(T)},asDocumentHighlight:T,asDocumentHighlightKind:k,asSymbolKind:N,asSymbolInformations:function(e,t){if(e)return e.map(e=>P(e,t))},asSymbolInformation:P,asDocumentSymbols:function(e){if(null!=e)return e.map(M)},asDocumentSymbol:M,asCommand:O,asCommands:function(e){if(e)return e.map(O)},asCodeAction:function(e){if(null==e)return;let t=new r.CodeAction(e.title);return void 0!==e.kind&&(t.kind=j(e.kind)),e.diagnostics&&(t.diagnostics=c(e.diagnostics)),e.edit&&(t.edit=L(e.edit)),e.command&&(t.command=O(e.command)),t},asCodeActionKind:j,asCodeActionKinds:function(e){if(null!=e)return e.map(e=>j(e))},asCodeLens:R,asCodeLenses:function(e){if(e)return e.map(e=>R(e))},asWorkspaceEdit:L,asDocumentLink:z,asDocumentLinks:function(e){if(e)return e.map(z)},asFoldingRangeKind:U,asFoldingRange:Z,asFoldingRanges:function(e){if(Array.isArray(e))return e.map(Z)},asColor:F,asColorInformation:B,asColorInformations:function(e){if(Array.isArray(e))return e.map(B)},asColorPresentation:G,asColorPresentations:function(e){if(Array.isArray(e))return e.map(G)},asSelectionRange:W,asSelectionRanges:function(e){if(!Array.isArray(e))return[];let t=[];for(let n of e)t.push(W(n));return t}}}},nDsZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uWpP");t.WebSocketMessageReader=class extends r.AbstractMessageReader{constructor(e){super(),this.socket=e,this.state="initial",this.events=[],this.socket.onMessage(e=>this.readMessage(e)),this.socket.onError(e=>this.fireError(e)),this.socket.onClose((e,t)=>{1e3!==e&&this.fireError({name:""+e,message:`Error during socket reconnect: code = ${e}, reason = ${t}`}),this.fireClose()})}listen(e){if("initial"===this.state)for(this.state="listening",this.callback=e;0!==this.events.length;){const e=this.events.pop();e.message?this.readMessage(e.message):e.error?this.fireError(e.error):this.fireClose()}}readMessage(e){if("initial"===this.state)this.events.splice(0,0,{message:e});else if("listening"===this.state){const t=JSON.parse(e);this.callback(t)}}fireError(e){"initial"===this.state?this.events.splice(0,0,{error:e}):"listening"===this.state&&super.fireError(e)}fireClose(){"initial"===this.state?this.events.splice(0,0,{}):"listening"===this.state&&super.fireClose(),this.state="closed"}}},nkY7:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,"a",function(){return r})},nwKM:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n("oL6p")),r(n("Gz0x")),r(n("aSIW")),r(n("U5rG")),r(n("U+XB")),r(n("in9m")),r(n("LkUo")),r(n("zxs+")),r(n("1Y8E")),r(n("kjvz"))},oL6p:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Gz0x");t.Disposable=r.Disposable,t.DisposableCollection=class{constructor(){this.disposables=[]}dispose(){for(;0!==this.disposables.length;)this.disposables.pop().dispose()}push(e){const t=this.disposables;return t.push(e),{dispose(){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}}},owkM:function(e,t,n){"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every(e=>r(e))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},p0ib:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("6blF"),i=n("nkY7"),o=n("Zn8D"),s=n("IUTb");function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,l=e[e.length-1];return Object(i.a)(l)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof l&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(n)(Object(s.a)(e,a))}},p7eD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class i extends r{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}function o(){return new i}i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],t.empty=new r("00000000-0000-0000-0000-000000000000"),t.v4=o;const s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function a(e){return s.test(e)}t.isUUID=a,t.parse=function(e){if(!a(e))throw new Error("invalid uuid");return new r(e)},t.generateUuid=function(){return o().asHex()}},psW0:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),s=n("rPjj"),a=n("67Y/"),l=n("0/uQ");function u(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(r){return r.pipe(u(function(n,r){return Object(l.a)(e(n,r)).pipe(Object(a.a)(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new c(e,n))})}var c=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.project,this.concurrent))},e}(),h=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.c(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new s.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.a)},pugT:function(e,t,n){"use strict";var r,i=n("isby"),o=n("McSo"),s=n("2Bdj"),a={e:{}};function l(){try{return r.apply(this,arguments)}catch(e){return a.e=e,a}}function u(e){return r=e,l}function c(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}c.prototype=Object.create(Error.prototype);var h=c;n.d(t,"a",function(){return d});var d=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,r=this._parents,l=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,f=r?r.length:0;n;)n.remove(this),n=++d<f&&r[d]||null;if(Object(s.a)(l)&&u(l).call(this)===a&&(t=!0,e=e||(a.e instanceof h?p(a.e.errors):[a.e])),Object(i.a)(c))for(d=-1,f=c.length;++d<f;){var g=c[d];if(Object(o.a)(g)&&u(g.unsubscribe).call(g)===a){t=!0,e=e||[];var m=a.e;m instanceof h?e=e.concat(p(m.errors)):e.push(m)}}if(t)throw new h(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function p(e){return e.reduce(function(e,t){return e.concat(t instanceof h?t.errors:t)},[])}},q1z7:function(e,t,n){(function(r){var i,o,s;s="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r,i=[n("F/us"),n("EVdn"),t],void 0===(o=(function(e,t,n){s.Backbone=function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.0",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s,a=t.Events={},l=/\s+/,u=function(e,t,r,i,o){var s,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(s=n.keys(r);a<s.length;a++)t=u(e,t,s[a],r[s[a]],o)}else if(r&&l.test(r))for(s=r.split(l);a<s.length;a++)t=e(t,s[a],i,o);else t=e(t,r,i,o);return t};a.on=function(e,t,n){return this._events=u(c,this._events||{},e,t,{context:n,ctx:this,listening:s}),s&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1),this},a.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=s=o[i];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=o[i]=new m(this,e));var l=h(e,t,r,this);if(s=void 0,l)throw l;return a.interop&&a.on(t,r),this};var c=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return e},h=function(e,t,n,r){try{e.on(t,n,r)}catch(i){return i}};a.off=function(e,t,n){return this._events?(this._events=u(d,this._events,e,t,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(t,r,this),a.interop&&a.off(t,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var d=function(e,t,r,i){if(e){var o,s=i.context,a=i.listeners,l=0;if(t||s||r){for(o=t?[t]:n.keys(e);l<o.length;l++){var u=e[t=o[l]];if(!u)break;for(var c=[],h=0;h<u.length;h++){var d=u[h];if(r&&r!==d.callback&&r!==d.callback._callback||s&&s!==d.context)c.push(d);else{var p=d.listening;p&&p.off(t,r)}}c.length?e[t]=c:delete e[t]}return e}for(o=n.keys(a);l<o.length;l++)a[o[l]].cleanup()}};a.once=function(e,t,n){var r=u(p,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(r,t,n)},a.listenToOnce=function(e,t,n){var r=u(p,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,r)};var p=function(e,t,r,i){if(r){var o=e[t]=n.once(function(){i(t,o),r.apply(this,arguments)});o._callback=r}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return u(f,this._events,e,void 0,n),this};var f=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&g(i,r),o&&g(o,[t].concat(r))}return e},g=function(e,t){var n,r=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},m=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};m.prototype.on=a.on,m.prototype.off=function(e,t){var n;this.interop?(this._events=u(d,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},m.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(t,a);var v=t.Model=function(e,t){var r=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,h=this._previousAttributes;for(var d in i)n.isEqual(u[d],t=i[d])||a.push(d),n.isEqual(h[d],t)?delete c[d]:c[d]=t,o?delete u[d]:u[d]=t;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=r);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,u[a[p]],r)}if(l)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in e){var s=e[o];n.isEqual(r[o],s)||(i[o]=s,t=!0)}return!!t&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},W(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,l=this.attributes;r.success=function(e){s.attributes=l;var t=r.parse?s.parse(e,r):e;if(o&&(t=n.extend({},i,t)),t&&!s.set(t,r))return!1;a&&a.call(r.context,s,e,r),s.trigger("sync",s,e,r)},W(this,r),i&&o&&(this.attributes=n.extend({},l,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var c=this.sync(u,this,r);return this.attributes=l,c},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(W(this,e),s=this.sync("delete",this,e)),i||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||Z();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}});var y=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},C=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,i=Array(e.length-n),o=t.length;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<o;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+o+n]=i[r]};n.extend(y.prototype,a,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,w))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(null!=e){(t=n.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,s,a=[],l=[],u=[],c=[],h={},d=t.add,p=t.merge,f=t.remove,g=!1,m=this.comparator&&null==i&&!1!==t.sort,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){var y=this.get(o=e[s]);if(y){if(p&&o!==y){var w=this._isModel(o)?o.attributes:o;t.parse&&(w=y.parse(w,t)),y.set(w,t),u.push(y),m&&!g&&(g=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,a.push(y)),e[s]=y}else d&&(o=e[s]=this._prepareModel(o,t))&&(l.push(o),this._addReference(o,t),h[o.cid]=!0,a.push(o))}if(f){for(s=0;s<this.length;s++)h[(o=this.models[s]).cid]||c.push(o);c.length&&this._removeModels(c,t)}var I=!1;if(a.length&&!m&&d&&f?(I=this.length!==a.length||n.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,C(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),C(this.models,l,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!t.silent){for(s=0;s<l.length;s++)null!=i&&(t.index=i+s),(o=l[s]).trigger("add",o,this,t);(g||I)&&this.trigger("sort",this,t),(l.length||c.length||u.length)&&(t.changes={added:l,removed:c,merged:u},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){r[e.reset?"reset":"set"](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},W(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new x(this,A)},keys:function(){return new x(this,_)},entries:function(){return new x(this,S)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var s=this.modelId(i.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}});var I="function"==typeof Symbol&&Symbol.iterator;I&&(y.prototype[I]=y.prototype.values);var x=function(e,t){this._collection=e,this._kind=t,this._index=0},A=1,_=2,S=3;I&&(x.prototype[I]=function(){return this}),x.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===A)e=t;else{var n=this._collection.modelId(t.attributes);e=this._kind===_?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var D=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,k)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,k=["model","collection","el","id","attributes","className","tagName","events"];n.extend(D.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(T);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var N=function(e,t,r,i){n.each(r,function(n,r){t[r]&&(e.prototype[r]=function(e,t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,i){return e[n](this[r],P(t,this),i)};case 4:return function(t,i,o){return e[n](this[r],P(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),e[n].apply(e,t)}}}(t,n,r,i))})},P=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?M(e):n.isString(e)?function(t){return t.get(e)}:e},M=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};n.each([[y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(e){var t=e[0],r=e[1],i=e[2];t.mixin=function(e){var r=n.reduce(n.functions(e),function(e,t){return e[t]=0,e},{});N(t,e,r,i)},N(t,n,r,i)}),t.sync=function(e,r,i){var o=O[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||Z()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var u=i.xhr=t.ajax(n.extend(s,i));return r.trigger("request",r,u,i),u};var O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},j=/\((.*?)\)/g,R=/(\(\?)?:\w+/g,L=/\*\w+/g,z=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(E.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),t.history.trigger("route",o,r,s))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(z,"\\$&").replace(j,"(?:$1)?").replace(R,function(e,t){return t?e:"([^/?]+)"}).replace(L,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var F=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},B=/^[#\/]|\s+$/g,G=/^\/+|\/+$/g,U=/#.*$/;F.started=!1,n.extend(F.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(B,"")},start:function(e){if(F.started)throw new Error("Backbone.history has already been started");if(F.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(G,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),F.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!F.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(U,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new F,v.extend=y.extend=E.extend=D.extend=F.extend=function(e,t){var r,i=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t),r.prototype=n.create(i.prototype,e),r.prototype.constructor=r,r.__super__=i.prototype,r};var Z=function(){throw new Error('A "url" property or function must be specified')},W=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}(s,n,e,t)}).apply(t,i))||(e.exports=o)}).call(this,n("yLpj"))},qL5x:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("33yf"),i=n("PENG"),o=n("Po9p"),s=n("Po9p"),a=n("uWpP"),l=n("vIUA");t.generateRandomPipeName=function(){const t=o.randomBytes(21).toString("hex");return"win32"===e.platform?`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`:r.join(i.tmpdir(),`vscode-${t}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let n,r=new Promise((e,t)=>{n=e});return new Promise((i,o)=>{let u=s.createServer(e=>{u.close(),n([new a.SocketMessageReader(e,t),new l.SocketMessageWriter(e,t)])});u.on("error",o),u.listen(e,()=>{u.removeListener("error",o),i({onConnected:()=>r})})})},t.createServerPipeTransport=function(e,t="utf-8"){const n=s.createConnection(e);return[new a.SocketMessageReader(n,t),new l.SocketMessageWriter(n,t)]}}).call(this,n("8oxB"))},rPjj:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),i=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.c(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n("FFOo").a)},sKb1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");(t.ConfigurationRequest||(t.ConfigurationRequest={})).type=new r.RequestType("workspace/configuration")},shLW:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("K9Ia"),i=n("t/Na"),o=n("CcnG"),s=function(){function e(e){this.http=e,this.httpOptions={headers:new i.g({"Content-Type":"application/json"})},this.newProEmit=new r.a,this.newProEmmited$=this.newProEmit.asObservable(),this.projectNameEmit=new r.a,this.projectNameEmmited$=this.projectNameEmit.asObservable()}return e.prototype.newProject=function(e){this.newProEmit.next(e)},e.prototype.editProName=function(e){this.projectNameEmit.next(e)},e.prototype.setProject=function(e){return this.projectAddress=e,this.http.post("http://47.52.116.116:8098/file/setProject/"+e,this.httpOptions)},e.prototype.uploadFile=function(e){e.setOptions({url:"http://47.52.116.116:8098/file/upload/"+this.projectAddress}),e.uploadAll()},e.prototype.uploadOwlFile=function(e,t,n){var r="http://47.52.116.116:8098/file/uploadOwl/"+n+"/"+t;e.setOptions({url:r}),e.uploadAll(),console.log("uploadOwlFile",r)},e.prototype.uploadpfFile=function(e){e.setOptions({url:"http://47.52.116.116:8098/file/uploadpf/"+this.projectAddress}),e.uploadAll()},e.prototype.uploadpfFile_new=function(e,t){e.setOptions({url:"http://47.52.116.116:8098/file/uploadpf_new/"+t}),e.uploadAll()},e.prototype.moveOwl=function(e,t,n){return this.projectAddress=e,this.http.post("http://47.52.116.116:8098/file/moveOwl/"+e+"/"+t+"/"+n,this.httpOptions)},e.prototype.movePOwl=function(e,t,n){return this.projectAddress=e,this.http.post("http://47.52.116.116:8098/file/movePOwl/"+e+"/"+t+"/"+n,this.httpOptions)},e.prototype.getProject=function(e,t){return this.http.get("http://47.52.116.116:8098/file/getProject/"+e+"/"+t)},e.prototype.getNotNullPf=function(e,t){return this.http.get("http://47.52.116.116:8098/file/getNotNullPf/"+e+"/"+t,{responseType:"text"})},e.prototype.getLatestProject=function(e,t){return this.http.get("http://47.52.116.116:8098/file/getLatestProject/"+e+"/"+t)},e.prototype.saveProject=function(e,t){return this.http.post("http://47.52.116.116:8098/file/saveProject/"+e,t,this.httpOptions)},e.prototype.savePf=function(e,t){return this.http.post("http://47.52.116.116:8098/file/savePf/"+e,t,this.httpOptions)},e.prototype.format=function(e,t){return this.http.post("http://47.52.116.116:8098/file/format/"+e,t,this.httpOptions)},e.prototype.searchProject=function(){return this.http.get("http://47.52.116.116:8098/file/searchProject")},e.prototype.searchVersion=function(e){return this.http.get("http://47.52.116.116:8098/file/searchVersion/"+e)},e.prototype.searchOwlVersion=function(e){return this.http.get("http://47.52.116.116:8098/file/searchOwlVersion/"+e)},e.prototype.getNodes=function(e,t,n,r){return this.http.get("http://47.52.116.116:8098/file/getNodes/"+e+"/"+t+"/"+n+"/"+r)},e.prototype.searchOwl=function(e){return this.http.get("http://47.52.116.116:8098/file/searchOwl/${type}")},e.prototype.getProblemDomains=function(e,t){return this.http.get("http://47.52.116.116:8098/file/getProblemDomains/"+e+"/"+t)},e.prototype.getPFProject=function(e){return this.http.post("http://47.52.116.116:8098/file/xtextToXmi",e,this.httpOptions)},e.ngInjectableDef=o.S({factory:function(){return new e(o.W(i.c))},token:e,providedIn:"root"}),e}()},"syj/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");!function(e){e.method="textDocument/selectionRange",e.type=new r.RequestType(e.method),e.resultType=new r.ProgressType}(t.SelectionRangeRequest||(t.SelectionRangeRequest={}))},"t/Na":function(e,t,n){"use strict";n.d(t,"l",function(){return O}),n.d(t,"o",function(){return z}),n.d(t,"p",function(){return F}),n.d(t,"m",function(){return j}),n.d(t,"n",function(){return R}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return h}),n.d(t,"c",function(){return D}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return k}),n.d(t,"d",function(){return U}),n.d(t,"e",function(){return G}),n.d(t,"k",function(){return B}),n.d(t,"h",function(){return E}),n.d(t,"j",function(){return M}),n.d(t,"i",function(){return L});var r=n("mrSG"),i=n("CcnG"),o=n("F/XL"),s=n("6blF"),a=n("Phjn"),l=n("VnD/"),u=n("67Y/"),c=n("Ip0R"),h=function(){return function(){}}(),d=function(){return function(){}}(),p=function(){function e(e){var t=this;this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){t.headers=new Map,e.split("\n").forEach(function(e){var n=e.indexOf(":");if(n>0){var r=e.slice(0,n),i=r.toLowerCase(),o=e.slice(n+1).trim();t.maybeSetNormalizedName(r,i),t.headers.has(i)?t.headers.get(i).push(o):t.headers.set(i,[o])}})}:function(){t.headers=new Map,Object.keys(e).forEach(function(n){var r=e[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(t.headers.set(i,r),t.maybeSetNormalizedName(n,i))})}:this.headers=new Map}return e.prototype.has=function(e){return this.init(),this.headers.has(e.toLowerCase())},e.prototype.get=function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null},e.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},e.prototype.getAll=function(e){return this.init(),this.headers.get(e.toLowerCase())||null},e.prototype.append=function(e,t){return this.clone({name:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({name:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({name:e,value:t,op:"d"})},e.prototype.maybeSetNormalizedName=function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)},e.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))},e.prototype.copyFrom=function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})},e.prototype.clone=function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n},e.prototype.applyUpdate=function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,Object(r.g)(n)),this.headers.set(t,i);break;case"d":var o=e.value;if(o){var s=this.headers.get(t);if(!s)return;0===(s=s.filter(function(e){return-1===o.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}},e.prototype.forEach=function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})},e}(),f=function(){function e(){}return e.prototype.encodeKey=function(e){return g(e)},e.prototype.encodeValue=function(e){return g(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();function g(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var m=function(){function e(e){void 0===e&&(e={});var t,n,i,o=this;if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new f,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=e.fromString,n=this.encoder,i=new Map,t.length>0&&t.split("&").forEach(function(e){var t=e.indexOf("="),o=Object(r.f)(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),s=o[0],a=o[1],l=i.get(s)||[];l.push(a),i.set(s,l)}),i)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(t){var n=e.fromObject[t];o.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}return e.prototype.has=function(e){return this.init(),this.map.has(e)},e.prototype.get=function(e){this.init();var t=this.map.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.init(),this.map.get(e)||null},e.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},e.prototype.append=function(e,t){return this.clone({param:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({param:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({param:e,value:t,op:"d"})},e.prototype.toString=function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).join("&")},e.prototype.clone=function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n},e.prototype.init=function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)},e}();function v(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function y(e){return"undefined"!=typeof Blob&&e instanceof Blob}function b(e){return"undefined"!=typeof FormData&&e instanceof FormData}var w=function(){function e(e,t,n,r){var i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new p),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{var s=t.indexOf("?");this.urlWithParams=t+(-1===s?"?":s<t.length-1?"&":"")+o}}else this.params=new m,this.urlWithParams=t}return e.prototype.serializeBody=function(){return null===this.body?null:v(this.body)||y(this.body)||b(this.body)||"string"==typeof this.body?this.body:this.body instanceof m?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body?null:b(this.body)?null:y(this.body)?this.body.type||null:v(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof m?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},e.prototype.clone=function(t){void 0===t&&(t={});var n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},l)),t.setParams&&(u=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},u)),new e(n,r,o,{params:u,headers:l,reportProgress:a,responseType:i,withCredentials:s})},e}(),C=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),I=function(){return function(e,t,n){void 0===t&&(t=200),void 0===n&&(n="OK"),this.headers=e.headers||new p,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}(),x=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=C.ResponseHeader,n}return Object(r.c)(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(I),A=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=C.Response,n.body=void 0!==t.body?t.body:null,n}return Object(r.c)(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(I),_=function(e){function t(t){var n=e.call(this,t,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for "+(t.url||"(unknown url)")+": "+t.status+" "+t.statusText,n.error=t.error||null,n}return Object(r.c)(t,e),t}(I);function S(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var D=function(){function e(e){this.handler=e}return e.prototype.request=function(e,t,n){var r,i=this;if(void 0===n&&(n={}),e instanceof w)r=e;else{var s;s=n.headers instanceof p?n.headers:new p(n.headers);var c=void 0;n.params&&(c=n.params instanceof m?n.params:new m({fromObject:n.params})),r=new w(e,t,void 0!==n.body?n.body:null,{headers:s,params:c,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var h=Object(o.a)(r).pipe(Object(a.a)(function(e){return i.handler.handle(e)}));if(e instanceof w||"events"===n.observe)return h;var d=h.pipe(Object(l.a)(function(e){return e instanceof A}));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return d.pipe(Object(u.a)(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return d.pipe(Object(u.a)(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return d.pipe(Object(u.a)(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return d.pipe(Object(u.a)(function(e){return e.body}))}case"response":return d;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},e.prototype.delete=function(e,t){return void 0===t&&(t={}),this.request("DELETE",e,t)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("GET",e,t)},e.prototype.head=function(e,t){return void 0===t&&(t={}),this.request("HEAD",e,t)},e.prototype.jsonp=function(e,t){return this.request("JSONP",e,{params:(new m).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},e.prototype.options=function(e,t){return void 0===t&&(t={}),this.request("OPTIONS",e,t)},e.prototype.patch=function(e,t,n){return void 0===n&&(n={}),this.request("PATCH",e,S(n,t))},e.prototype.post=function(e,t,n){return void 0===n&&(n={}),this.request("POST",e,S(n,t))},e.prototype.put=function(e,t,n){return void 0===n&&(n={}),this.request("PUT",e,S(n,t))},e}(),T=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),k=new i.p("HTTP_INTERCEPTORS"),N=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}(),P=/^\)\]\}',?\n/,M=function(){return function(){}}(),O=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}(),E=function(){function e(e){this.xhrFactory=e}return e.prototype.handle=function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new s.a(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var s=e.serializeBody(),a=null,l=function(){if(null!==a)return a;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new p(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new x({headers:i,status:t,statusText:n,url:o})},u=function(){var t=l(),i=t.headers,o=t.status,s=t.statusText,a=t.url,u=null;204!==o&&(u=void 0===r.response?r.responseText:r.response),0===o&&(o=u?200:0);var c=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(P,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new A({body:u,headers:i,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new _({error:u,headers:i,status:o,statusText:s,url:a||void 0}))},c=function(e){var t=l().url,i=new _({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(l()),h=!0);var i={type:C.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(e){var t={type:C.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",u),r.addEventListener("error",c),e.reportProgress&&(r.addEventListener("progress",d),null!==s&&r.upload&&r.upload.addEventListener("progress",f)),r.send(s),n.next({type:C.Sent}),function(){r.removeEventListener("error",c),r.removeEventListener("load",u),e.reportProgress&&(r.removeEventListener("progress",d),null!==s&&r.upload&&r.upload.removeEventListener("progress",f)),r.abort()}})},e}(),j=new i.p("XSRF_COOKIE_NAME"),R=new i.p("XSRF_HEADER_NAME"),L=function(){return function(){}}(),z=function(){function e(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return e.prototype.getToken=function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.r)(e,this.cookieName),this.lastCookieString=e),this.lastToken},e}(),F=function(){function e(e,t){this.tokenService=e,this.headerName=t}return e.prototype.intercept=function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)},e}(),B=function(){function e(e,t){this.backend=e,this.injector=t,this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=this.injector.get(k,[]);this.chain=t.reduceRight(function(e,t){return new T(e,t)},this.backend)}return this.chain.handle(e)},e}(),G=function(){function e(){}var t;return t=e,e.disable=function(){return{ngModule:t,providers:[{provide:F,useClass:N}]}},e.withOptions=function(e){return void 0===e&&(e={}),{ngModule:t,providers:[e.cookieName?{provide:j,useValue:e.cookieName}:[],e.headerName?{provide:R,useValue:e.headerName}:[]]}},e}(),U=function(){return function(){}}()},tdlq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("C+6V"),i=n("nDsZ"),o=n("R53l");t.createWebSocketConnection=function(e,t){const n=new i.WebSocketMessageReader(e),s=new o.WebSocketMessageWriter(e),a=r.createMessageConnection(n,s,t);return a.onClose(()=>a.dispose()),a}},tjlA:function(e,t,n){"use strict";(function(e){var r=n("H7XF"),i=n("kVK+"),o=n("49sm");function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),i=(e=a(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=a(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=a(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function b(e,t,n,r){return G(F(t,e.length-n),e,n,r)}function w(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return w(e,t,n,r)}function I(e,t,n,r){return G(B(t),e,n,r)}function x(e,t,n,r){return G(function(e,t){for(var n,r,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(t,e.length-n),e,n,r)}function A(e,t,n){return r.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:s=e[i+2],128==(192&(o=e[i+1]))&&128==(192&s)&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:s=e[i+2],a=e[i+3],128==(192&(o=e[i+1]))&&128==(192&s)&&128==(192&a)&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(r.push((c-=65536)>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?a(null,t):void 0!==n?"string"==typeof r?a(null,t).fill(n,r):a(null,t).fill(n):a(null,t)}(0,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):(function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}).apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",s=t;s<n;++s)o+=(r=e[s])<16?"0"+r.toString(16):r.toString(16);return o}function N(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function E(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,n,r,o){return o||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return o||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):E(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):E(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):E(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):E(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:F(new l(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n("yLpj"))},tmeP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov"),o=n("FW9y"),s=n("Y3ih"),a=n("VKwO"),l=n("EwVN");t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function u(e){return{uri:t(e.uri)}}function c(e){return{uri:t(e.uri),version:e.version}}function h(e){switch(e){case r.TextDocumentSaveReason.Manual:return i.TextDocumentSaveReason.Manual;case r.TextDocumentSaveReason.AfterDelay:return i.TextDocumentSaveReason.AfterDelay;case r.TextDocumentSaveReason.FocusOut:return i.TextDocumentSaveReason.FocusOut}return i.TextDocumentSaveReason.Manual}function d(e){switch(e){case r.CompletionTriggerKind.TriggerCharacter:return i.CompletionTriggerKind.TriggerCharacter;case r.CompletionTriggerKind.TriggerForIncompleteCompletions:return i.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return i.CompletionTriggerKind.Invoked}}function p(e){return{line:e.line,character:e.character}}function f(e){if(void 0!==e)return null===e?null:{line:e.line,character:e.character}}function g(e){return null==e?e:{start:f(e.start),end:f(e.end)}}function m(e){switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}}function v(e){switch(e){case r.DiagnosticTag.Unnecessary:return i.DiagnosticTag.Unnecessary;case r.DiagnosticTag.Deprecated:return i.DiagnosticTag.Deprecated;default:return}}function y(e){let t=i.Diagnostic.create(g(e.range),e.message);return o.number(e.severity)&&(t.severity=m(e.severity)),(o.number(e.code)||o.string(e.code))&&(t.code=e.code),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=v(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.source&&(t.source=e.source),t}function b(e){return null==e?e:e.map(y)}function w(e){return{range:g(e.range),newText:e.newText}}function C(e){let t=i.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}return{asUri:n,asTextDocumentIdentifier:u,asVersionedTextDocumentIdentifier:c,asOpenTextDocumentParams:function(e){return{textDocument:{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}},asChangeTextDocumentParams:function(e){if((n=e).uri&&n.version)return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(e.document&&e.contentChanges){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map(e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}})}}throw Error("Unsupported text document change parameter");var n},asCloseTextDocumentParams:function(e){return{textDocument:u(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:c(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:u(e.document),reason:h(e.reason)}},asTextDocumentPositionParams:function(e,t){return{textDocument:u(e),position:p(t)}},asCompletionParams:function(e,t,n){return{textDocument:u(e),position:p(t),context:{triggerKind:d(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asWorkerPosition:p,asRange:g,asPosition:f,asPositions:function(e){let t=[];for(let n of e)t.push(f(n));return t},asDiagnosticSeverity:m,asDiagnosticTag:v,asDiagnostic:y,asDiagnostics:b,asCompletionItem:function(e){let t={label:e.label},n=e instanceof s.default?e:void 0;var a,l;return e.detail&&(t.detail=e.detail),e.documentation&&(t.documentation=n&&"$string"!==n.documentationFormat?function(e,t){switch(e){case"$string":return t;case i.MarkupKind.PlainText:return{kind:e,value:t};case i.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(n.documentationFormat,e.documentation):e.documentation),e.filterText&&(t.filterText=e.filterText),function(e,t){let n,o=i.InsertTextFormat.PlainText,s=void 0;t.textEdit?(n=t.textEdit.newText,s=g(t.textEdit.range)):t.insertText instanceof r.SnippetString?(o=i.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(s=g(t.range)),e.insertTextFormat=o,t.fromEdit&&n&&s?e.textEdit={newText:n,range:s}:e.insertText=n}(t,e),o.number(e.kind)&&(t.kind=void 0!==(a=n&&n.originalItemKind)?a:e.kind+1),e.sortText&&(t.sortText=e.sortText),e.additionalTextEdits&&(t.additionalTextEdits=null==(l=e.additionalTextEdits)?l:l.map(w)),e.commitCharacters&&(t.commitCharacters=e.commitCharacters.slice()),e.command&&(t.command=C(e.command)),!0!==e.preselect&&!1!==e.preselect||(t.preselect=e.preselect),n&&(void 0!==n.data&&(t.data=n.data),!0!==n.deprecated&&!1!==n.deprecated||(t.deprecated=n.deprecated)),t},asTextEdit:w,asReferenceParams:function(e,t,n){return{textDocument:u(e),position:p(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeActionContext:function(e){if(null==e)return e;let t;return e.only&&o.string(e.only.value)&&(t=[e.only.value]),i.CodeActionContext.create(b(e.diagnostics),t)},asCommand:C,asCodeLens:function(e){let t=i.CodeLens.create(g(e.range));return e.command&&(t.command=C(e.command)),e instanceof a.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e){return{tabSize:e.tabSize,insertSpaces:e.insertSpaces}},asDocumentSymbolParams:function(e){return{textDocument:u(e)}},asCodeLensParams:function(e){return{textDocument:u(e)}},asDocumentLink:function(e){let t=i.DocumentLink.create(g(e.range));e.target&&(t.target=n(e.target));let r=e instanceof l.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:u(e)}}}}},u67D:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("En8+"),i=function(e){return function(t){for(var n=e[r.a]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}}},uUC1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Po9p"),i=n("K4MX"),o=n("k5Vz");t.createClientSocketTransport=function(e,t="utf-8"){let n,s=new Promise((e,t)=>{n=e});return new Promise((a,l)=>{let u=r.createServer(e=>{u.close(),n([new i.SocketMessageReader(e,t),new o.SocketMessageWriter(e,t)])});u.on("error",l),u.listen(e,"127.0.0.1",()=>{u.removeListener("error",l),a({onConnected:()=>s})})})},t.createServerSocketTransport=function(e,t="utf-8"){const n=r.createConnection(e,"127.0.0.1");return[new i.SocketMessageReader(n,t),new o.SocketMessageWriter(n,t)]}},uWpP:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("Z5Ki"),i=n("1vg8");let o=8192,s=e.from("\r","ascii")[0],a=e.from("\n","ascii")[0],l="\r\n";class u{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=e.allocUnsafe(o)}append(t){var n=t;if("string"==typeof t){var r=t,i=e.byteLength(r,this.encoding);(n=e.allocUnsafe(i)).write(r,0,i,this.encoding)}if(this.buffer.length-this.index>=n.length)n.copy(this.buffer,this.index,0,n.length);else{var s=(Math.ceil((this.index+n.length)/o)+1)*o;0===this.index?(this.buffer=e.allocUnsafe(s),n.copy(this.buffer,0,0,n.length)):this.buffer=e.concat([this.buffer.slice(0,this.index),n],s)}this.index+=n.length}tryReadHeaders(){let e=void 0,t=0;for(;t+3<this.index&&(this.buffer[t]!==s||this.buffer[t+1]!==a||this.buffer[t+2]!==s||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split(l).forEach(t=>{let n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=t.substr(0,n),i=t.substr(n+1).trim();e[r]=i});let n=t+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),n=e;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,t}get numberOfBytes(){return this.index}}(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&i.func(t.listen)&&i.func(t.dispose)&&i.func(t.onError)&&i.func(t.onClose)&&i.func(t.onPartialMessage)};class c{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=c;class h extends c{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new u(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",e=>{this.onData(e)}),this.readable.on("error",e=>this.fireError(e)),this.readable.on("close",()=>this.fireClose())}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(t);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=h,t.IPCMessageReader=class extends c{constructor(e){super(),this.process=e;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose())}listen(e){this.process.on("message",e)}},t.SocketMessageReader=class extends h{constructor(e,t="utf-8"){super(e,t)}}}).call(this,n("tjlA").Buffer)},uoVZ:function(e,t,n){"use strict";const r=n("DFRf"),i=n("Gz0x");e.exports=r.createVSCodeApi(i.Services.get)},vIUA:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});const r=n("Z5Ki"),i=n("1vg8");(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&i.func(t.dispose)&&i.func(t.onClose)&&i.func(t.onError)&&i.func(t.write)};class o{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${i.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=o,t.StreamMessageWriter=class extends o{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",e=>this.fireError(e)),this.writable.on("close",()=>this.fireClose())}write(t){let n=JSON.stringify(t),r=["Content-Length: ",e.byteLength(n,this.encoding).toString(),"\r\n","\r\n"];try{this.writable.write(r.join(""),"ascii"),this.writable.write(n,this.encoding),this.errorCount=0}catch(i){this.errorCount++,this.fireError(i,t,this.errorCount)}}},t.IPCMessageWriter=class extends o{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",e=>this.fireError(e)),t.on("close",()=>this.fireClose)}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.SocketMessageWriter=class extends o{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",e=>this.fireError(e)),this.socket.on("close",()=>this.fireClose())}dispose(){super.dispose(),this.socket.destroy()}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(t){let n=JSON.stringify(t),r=["Content-Length: ",e.byteLength(n,this.encoding).toString(),"\r\n","\r\n"];try{this.sending=!0,this.socket.write(r.join(""),"ascii",e=>{e&&this.handleError(e,t);try{this.socket.write(n,this.encoding,e=>{this.sending=!1,e?this.handleError(e,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(e){this.handleError(e,t)}})}catch(i){this.handleError(i,t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}}).call(this,n("tjlA").Buffer)},wSv1:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={})),t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,n=r.None){let i=this._map.get(e);if(i)i.value=t,n!==r.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let n=this._head;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next}forEachReverse(e,t){let n=this._tail;for(;n;)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},wZKg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("p7eD"),i=n("uoVZ"),o=n("BOov");function s(e,t){if(void 0!==e)return e[t]}t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}get messages(){return o.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=i.workspace.workspaceFolders;e.workspaceFolders=void 0===t?null:t.map(e=>this.asProtocol(e))}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){let t=this._client;t.onRequest(o.WorkspaceFoldersRequest.type,e=>{let n=()=>{let e=i.workspace.workspaceFolders;return void 0===e?null:e.map(e=>this.asProtocol(e))},r=t.clientOptions.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()});let n,a=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");"string"==typeof a?n=a:!0===a&&(n=r.generateUuid()),n&&this.register(this.messages,{id:n,registerOptions:void 0})}register(e,t){let n=t.id,r=this._client,s=i.workspace.onDidChangeWorkspaceFolders(e=>{let t=e=>{let t={event:{added:e.added.map(e=>this.asProtocol(e)),removed:e.removed.map(e=>this.asProtocol(e))}};this._client.sendNotification(o.DidChangeWorkspaceFoldersNotification.type,t)},n=r.clientOptions.middleware.workspace;n&&n.didChangeWorkspaceFolders?n.didChangeWorkspaceFolders(e,t):t(e)});this._listeners.set(n,s)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},xTla:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},xlmz:function(e,t,n){"use strict";var r=n("QFq3"),i=function(){function e(){}return e.prototype.setNo=function(e){this.no=e},e.prototype.setName=function(e){this.name=e},e.prototype.setType=function(e){this.type=e},e.prototype.setFrom=function(e){this.from=e},e.prototype.setTo=function(e){this.to=e},e.prototype.getNo=function(){return this.no},e.prototype.getName=function(){return this.name},e.prototype.getType=function(){return this.type},e.prototype.getFrom=function(){return this.from},e.prototype.getTo=function(){return this.to},e}(),o=n("mrSG"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),t}(i),a=function(){function e(){}return e.newMachine=function(t,n,r,i,o,s){var a=new e;return a.name=t,a.shortname=n,a.x=r,a.y=i,a.h=s,a.w=o,a},e.newMachineWithOld=function(t,n,r){var i=new e;return i.name=n,i.shortname=r,i.x=t.x,i.y=t.y,i.h=t.h,i.w=t.w,i},e.copyMachine=function(t){if(null==t)return null;var n=new e;return n.name=t.name,n.shortname="M"==t.shortname?"M1":t.shortname,n.x=t.x,n.y=t.y,n.h=t.h,n.w=t.w,n},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getShortname=function(){return this.shortname},e.prototype.setShortname=function(e){this.shortname=e},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.getH=function(){return this.h},e.prototype.getW=function(){return this.w},e.prototype.setX=function(e){this.x=e},e.prototype.setY=function(e){this.y=e},e.prototype.setH=function(e){this.h=e},e.prototype.setW=function(e){this.w=e},e}(),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),t.newProblemDomain=function(e,n,r,i,o,s,a,l,u){var c=new t;return c.no=e,c.name=n,c.shortname=r,c.type=i,c.property=o,c.x=s,c.y=a,c.h=u,c.w=l,c},t.newProblemDomainWithOld=function(e,n,r,i,o){var s=new t;return s.no=e.no,s.x=e.x,s.y=e.y,s.h=e.h,s.w=e.w,s.name=n,s.shortname=r,s.type=i,s.property=o,s},t.copyProblemDomain=function(e){var n=new t;return n.no=e.no,n.x=e.x,n.y=e.y,n.h=e.h,n.w=e.w,n.name=e.name,n.shortname=e.shortname,n.type=e.type,n.property=e.property,n},t.prototype.getNo=function(){return this.no},t.prototype.getName=function(){return this.name},t.prototype.getShortname=function(){return this.shortname},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.getH=function(){return this.h},t.prototype.getW=function(){return this.w},t.prototype.getProperty=function(){return this.property},t.prototype.getType=function(){return this.type},t.prototype.setNo=function(e){this.no=e},t.prototype.setName=function(e){this.name=e},t.prototype.setShortname=function(e){this.shortname=e},t.prototype.setX=function(e){this.x=e},t.prototype.setY=function(e){this.y=e},t.prototype.setH=function(e){this.h=e},t.prototype.setW=function(e){this.w=e},t.prototype.setProperty=function(e){this.property=e},t.prototype.setType=function(e){this.type=e},t}(function(){function e(){}return e.prototype.getNo=function(){},e.prototype.getName=function(){},e.prototype.getShortname=function(){},e.prototype.getX=function(){},e.prototype.getY=function(){},e.prototype.getH=function(){},e.prototype.getW=function(){},e}()),u=function(){function e(){}return e.prototype.getNo=function(){},e.prototype.getName=function(){return""},e.prototype.getShortname=function(){throw new Error("Method not implemented.")},e.prototype.getDescription=function(){return""},e.prototype.getFrom=function(){return""},e.prototype.getTo=function(){return""},e.prototype.getX1=function(){},e.prototype.getY1=function(){},e.prototype.getX2=function(){},e.prototype.getY2=function(){},e.prototype.getPhenomenonList=function(){},e}(),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),t.newInterface=function(e,n,r,i,o,s,a,l,u,c){var h=new t;return h.no=e,h.name=n,h.description=r,h.from=i,h.to=o,h.phenomenonList=s||[],h.x1=a,h.y1=l,h.x2=u,h.y2=c,h},t.newInterfaceWithOld=function(e,n){var r=new t;return r.no=e.no,r.name=e.name,r.description=n,r.from=e.from,r.to=e.to,r.phenomenonList=e.phenomenonList?e.phenomenonList:[],r.x1=e.x1,r.y1=e.y1,r.x2=e.x2,r.y2=e.y2,r},t.copyInterface=function(e){var n=new t;return n.no=e.no,n.name=e.name,n.description=e.description,n.from=e.from,n.to=e.to,n.phenomenonList=e.phenomenonList?e.phenomenonList:[],n.x1=e.x1,n.y1=e.y1,n.x2=e.x2,n.y2=e.y2,n},t.prototype.getNo=function(){return this.no},t.prototype.setNo=function(e){this.no=e},t.prototype.getName=function(){return this.name},t.prototype.setName=function(e){this.name=e},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description=e},t.prototype.getFrom=function(){return this.from},t.prototype.setFrom=function(e){this.from=e},t.prototype.getTo=function(){return this.to},t.prototype.setTo=function(e){this.to=e},t.prototype.getX1=function(){return this.x1},t.prototype.setX1=function(e){this.x1=e},t.prototype.getY1=function(){return this.y1},t.prototype.setY1=function(e){this.y1=e},t.prototype.getX2=function(){return this.x2},t.prototype.setX2=function(e){this.x2=e},t.prototype.getY2=function(){return this.y2},t.prototype.setY2=function(e){this.y2=e},t.prototype.getPhenomenonList=function(){return this.phenomenonList},t.prototype.setPhenomenonList=function(e){this.phenomenonList=e},t.prototype.clearPhenomenonList=function(){this.phenomenonList.length=0},t.prototype.refreshPhenomenonList=function(e,t){for(var n=0,r=this.phenomenonList;n<r.length;n++){var i=r[n];i.from==e?i.from=t:i.to==e&&(i.to=t)}},t}(u),h=function(){function e(){}return e.copyContextDiagram=function(t){var n=new e;if(n.title=t.title,n.machine=a.copyMachine(t.machine),n.problemDomainList=new Array,null!=t.problemDomainList)for(var r=0,i=t.problemDomainList;r<i.length;r++){var o=l.copyProblemDomain(i[r]);n.problemDomainList.push(o)}if(n.interfaceList=new Array,null!=t.interfaceList)for(var s=0,u=t.interfaceList;s<u.length;s++){var h=c.copyInterface(u[s]);n.interfaceList.push(h)}return n},e}(),d=function(){function e(){}return e.newRequirement=function(t,n,r,i,o,s){var a=new e;return a.no=t,a.name=n,a.shortname=p(n),a.x=r,a.y=i,a.h=o,a.w=s,a},e.newRequirementWithOld=function(t,n,r){var i=new e;return i.no=t.no,i.name=n,i.shortname=r,i.x=t.x,i.y=t.y,i.h=t.h,i.w=t.w,i},e.copyRequirement=function(t){var n=new e;return n.no=t.no,n.name=t.name,n.shortname=t.shortname?t.shortname:p(t.name),n.x=t.x,n.y=t.y,n.h=t.h,n.w=t.w,n},e.prototype.getNo=function(){return this.no},e.prototype.setNo=function(e){this.no=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getShortname=function(){return this.shortname},e.prototype.setShortname=function(e){this.shortname=e},e.prototype.getX=function(){return this.x},e.prototype.setX=function(e){this.x=e},e.prototype.getY=function(){return this.y},e.prototype.setY=function(e){this.y=e},e.prototype.getH=function(){return this.h},e.prototype.setH=function(e){this.h=e},e.prototype.getW=function(){return this.w},e.prototype.setW=function(e){this.w=e},e}();function p(e){return e.replace(/\s+/g,"")}var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),t.newConstraint=function(e,n,r,i,o,s,a,l,u,c){var h=new t;return h.no=e,h.name=n,h.description=r,h.from=i,h.to=o,h.phenomenonList=s||[],h.x1=a,h.y1=l,h.x2=u,h.y2=c,h},t.newConstraintWithOld=function(e,n){var r=new t;return r.no=e.no,r.name=e.name,r.from=e.from,r.to=e.to,r.x1=e.x1,r.y1=e.y1,r.x2=e.x2,r.y2=e.y2,r.description=n,r.phenomenonList=e.phenomenonList,r},t.copyConstraint=function(e){var n=new t;return n.no=e.no,n.name=e.name,n.from=e.from,n.to=e.to,n.x1=e.x1,n.y1=e.y1,n.x2=e.x2,n.y2=e.y2,n.description=e.description,n.phenomenonList=e.phenomenonList?e.phenomenonList:[],n},t.prototype.getNo=function(){return this.no},t.prototype.setNo=function(e){this.no=e},t.prototype.getName=function(){return this.name},t.prototype.setName=function(e){this.name=e},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description=e},t.prototype.getFrom=function(){return this.from},t.prototype.setFrom=function(e){this.from=e},t.prototype.getTo=function(){return this.to},t.prototype.setTo=function(e){this.to=e},t.prototype.getX1=function(){return this.x1},t.prototype.setX1=function(e){this.x1=e},t.prototype.getY1=function(){return this.y1},t.prototype.setY1=function(e){this.y1=e},t.prototype.getX2=function(){return this.x2},t.prototype.setX2=function(e){this.x2=e},t.prototype.getY2=function(){return this.y2},t.prototype.setY2=function(e){this.y2=e},t.prototype.getPhenomenonList=function(){return this.phenomenonList},t.prototype.setPhenomenonList=function(e){this.phenomenonList=e},t.prototype.clearPhenomenonList=function(){this.phenomenonList.length=0},t.prototype.refreshPhenomenonList=function(e,t){for(var n=0,r=this.phenomenonList;n<r.length;n++){var i=r[n];i.from==e?i.from=t:i.to==e&&(i.to=t)}},t}(u),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.c(t,e),t.newReference=function(e,n,r,i,o,s,a,l,u,c){var h=new t;return h.no=e,h.name=n,h.description=r,h.from=i,h.to=o,h.phenomenonList=s||[],h.x1=a,h.y1=l,h.x2=u,h.y2=c,h},t.newReferenceWithOld=function(e,n){var r=new t;return r.no=e.no,r.name=e.name,r.from=e.from,r.to=e.to,r.phenomenonList=e.phenomenonList,r.description=n,r.x1=e.x1,r.y1=e.y1,r.x2=e.x2,r.y2=e.y2,r},t.copyReference=function(e){var n=new t;return n.no=e.no,n.name=e.name,n.description=e.description,n.from=e.from,n.to=e.to,n.phenomenonList=e.phenomenonList?e.phenomenonList:[],n.x1=e.x1,n.y1=e.y1,n.x2=e.x2,n.y2=e.y2,n},t.prototype.getNo=function(){return this.no},t.prototype.setNo=function(e){this.no=e},t.prototype.getName=function(){return this.name},t.prototype.setName=function(e){this.name=e},t.prototype.getDescription=function(){return this.description},t.prototype.setDescription=function(e){this.description=e},t.prototype.getFrom=function(){return this.from},t.prototype.setFrom=function(e){this.from=e},t.prototype.getTo=function(){return this.to},t.prototype.setTo=function(e){this.to=e},t.prototype.getX1=function(){return this.x1},t.prototype.setX1=function(e){this.x1=e},t.prototype.getY1=function(){return this.y1},t.prototype.setY1=function(e){this.y1=e},t.prototype.getX2=function(){return this.x2},t.prototype.setX2=function(e){this.x2=e},t.prototype.getY2=function(){return this.y2},t.prototype.setY2=function(e){this.y2=e},t.prototype.getPhenomenonList=function(){return this.phenomenonList},t.prototype.setPhenomenonList=function(e){this.phenomenonList=e},t.prototype.clearPhenomenonList=function(){this.phenomenonList.length=0},t.prototype.refreshPhenomenonList=function(e,t){for(var n=0,r=this.phenomenonList;n<r.length;n++){var i=r[n];i.from==e?i.from=t:i.to==e&&(i.to=t)}},t}(u),m=function(){function e(){}return e.copyProblemDiagram=function(t,n){var r=new e;if(r.title=t.title,r.contextDiagram=n,r.requirementList=new Array,null!=t.requirementList)for(var i=0,o=t.requirementList;i<o.length;i++){var s=d.copyRequirement(o[i]);r.requirementList.push(s)}if(r.constraintList=new Array,null!=t.constraintList)for(var a=0,l=t.constraintList;a<l.length;a++)s=f.copyConstraint(l[a]),r.constraintList.push(s);if(r.referenceList=new Array,null!=t.referenceList)for(var u=0,c=t.referenceList;u<c.length;u++)s=g.copyReference(c[u]),r.referenceList.push(s);return r},e}(),v=function(){function e(){}return e.prototype.initProject=function(e){this.init(e.title),this.contextDiagram.machine=a.copyMachine(e.contextDiagram.machine),this.contextDiagram=h.copyContextDiagram(e.contextDiagram),null==e.contextDiagram?this.initContexDiagram():this.contextDiagram=h.copyContextDiagram(e.contextDiagram),null==e.problemDiagram?(console.log("this.project.problemDiagram==null"),this.initProblemDiagram()):this.problemDiagram=m.copyProblemDiagram(e.problemDiagram,this.contextDiagram),this.problemDiagram.contextDiagram=this.contextDiagram},e.prototype.init=function(e){this.title=e,this.initContexDiagram(),this.initProblemDiagram()},e.prototype.initContexDiagram=function(){this.contextDiagram=new h,this.contextDiagram.title="contextDiagram",this.contextDiagram.problemDomainList=new Array,this.contextDiagram.interfaceList=new Array},e.prototype.initProblemDiagram=function(){this.problemDiagram=new m,this.problemDiagram.title="problemDiagram",this.problemDiagram.requirementList=new Array,this.problemDiagram.constraintList=new Array,this.problemDiagram.referenceList=new Array,this.problemDiagram.contextDiagram=this.contextDiagram},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getMachine=function(){return this.contextDiagram.machine},e.prototype.addMachine=function(e,t,n,r,i,o){return this.contextDiagram.machine=new a,this.contextDiagram.machine.name=e,this.contextDiagram.machine.shortname=t,this.contextDiagram.machine.x=n,this.contextDiagram.machine.y=r,this.contextDiagram.machine.w=i,this.contextDiagram.machine.h=o,this.problemDiagram.contextDiagram.machine=this.contextDiagram.machine,this.contextDiagram.machine},e.prototype.changeMachineWithNewProject=function(e){var t=e.getMachine().getName(),n=e.getMachine().getShortname();if(null!=n&&null!=n)return null==this.contextDiagram.machine?(this.contextDiagram.machine=a.copyMachine(e.getMachine()),this.problemDiagram.contextDiagram.machine=a.copyMachine(e.getMachine())):this.changeMachine(t,n),this.contextDiagram.machine},e.prototype.changeMachine=function(e,t){return this.contextDiagram.machine.name=e,this.contextDiagram.machine.shortname=t,this.problemDiagram.contextDiagram.machine.name=e,this.problemDiagram.contextDiagram.machine.shortname=t,this.contextDiagram.machine},e.prototype.changeMachinePosition=function(e,t){if(this.getMachine()){if(this.getMachine().getName())return e==this.getMachine().getName()&&(this.contextDiagram.machine.x=t.x,this.contextDiagram.machine.y=t.y,this.problemDiagram.contextDiagram.machine.x=t.x,this.problemDiagram.contextDiagram.machine.y=t.y,!0);console.log(this.contextDiagram)}else console.log(this.contextDiagram)},e.prototype.setMachine=function(e){this.contextDiagram.machine=e,this.problemDiagram.contextDiagram.machine=e},e.prototype.getProblemDomainList=function(){return this.contextDiagram.problemDomainList},e.prototype.addProblemDomain=function(e,t,n,r,i,o,s,a,u){var c=new l;return c.no=e,c.name=t,c.shortname=n,c.type=r,c.property=i,c.x=o,c.y=s,c.w=a,c.h=u,c.phes=new Array,this.contextDiagram.problemDomainList.push(c),c},e.prototype.changeProblemDomainWithNewProject=function(e){for(var t=this.getProblemDomainList(),n=e.getProblemDomainList(),r=0,i=n;r<i.length;r++){for(var o=i[r],s=!1,a=0,l=t;a<l.length;a++){var u=l[a];if(o.getName()==u.getName()){o.getShortname()!=u.getShortname()&&u.setShortname(o.getShortname()),null!=o.getType()&&o.getType()!=u.getType()&&u.setType(o.getType()),u.setProperty(o.getProperty()),s=!0;break}if(o.getShortname()==u.getShortname()){o.getName()!=u.getName()&&u.setName(o.getName()),null!=o.getType()&&o.getType()!=u.getType()&&u.setType(o.getType()),u.setProperty(o.getProperty()),s=!0;break}}s||t.push(o)}for(var c=t.length-1;c>=0;c--){u=t[c],s=!1;for(var h=0,d=n;h<d.length;h++)if((o=d[h]).getName()==u.getName()){s=!0;break}s||t.splice(c,1)}},e.prototype.changeProblemDomain1=function(e,t){for(var n=0,r=0,i=this.getProblemDomainList();r<i.length;r++){if(i[r].name==e.getName())return void(this.getProblemDomainList()[n]=t);n+=1}},e.prototype.changeProblemDomain=function(e,t,n,r,i){for(var o=0,s=this.getProblemDomainList();o<s.length;o++){var a=s[o];if(a.getName()==e.getName()){a.setName(t),a.setShortname(n),a.setType(r),a.setProperty(i);break}}},e.prototype.changeProblemDomainPosition=function(e,t){for(var n=0,r=this.contextDiagram.problemDomainList;n<r.length;n++){var i=r[n];if(i.name==e)return i.x=t.x,i.y=t.y,!0}return!1},e.prototype.getRequirementList=function(){return this.problemDiagram.requirementList},e.prototype.addRequirement=function(e,t,n,r,i,o){var s=new d;return s.no=e,s.name=t,s.x=n,s.y=r,s.w=i,s.h=o,this.problemDiagram.requirementList.push(s),s},e.prototype.changeRequirementWithNewProject=function(e){for(var t=e.getRequirementList(),n=this.getRequirementList(),r=0,i=t;r<i.length;r++){for(var o=i[r],s=!1,a=0,l=n;a<l.length;a++){var u=l[a];if(o.getName()==u.getName()){u.setShortname(o.getShortname()),s=!0;break}if(o.getShortname()==u.getShortname()){u.setName(o.getName()),s=!0;break}}s||n.push(o)}for(var c=n.length-1;c>=0;c--){for(var h=n[c],d=(s=!1,0),p=t;d<p.length;d++)if(p[d].getName()==h.getName()){s=!0;break}s||n.splice(c,1)}},e.prototype.changeRequirement1=function(e,t){for(var n=0,r=this.getRequirementList();n<r.length;n++)if(r[n].getName()==e.getName())return void(this.getRequirementList()[0]=t)},e.prototype.changeRequirement=function(e,t){for(var n=0,r=this.getRequirementList();n<r.length;n++){var i=r[n];if(i.getName()==e.getName()){i.setName(t),i.setShortname(t);break}}},e.prototype.changeRequirementPosition=function(e,t){for(var n=0,r=this.getRequirementList();n<r.length;n++){var i=r[n];if(i.name==e)return i.x=t.x,i.y=t.y,!0}return!1},e.prototype.deleteRequirement=function(e){for(var t=e.name,n=this.problemDiagram.requirementList,r=n.length-1;r>=0;r--)if(n[r].name==t){n.splice(r,1);break}},e.prototype.deleteRelatedLink=function(e){for(var t=this.getReferenceList().length-1;t>=0;t--){var n=this.problemDiagram.referenceList[t];n.from!=e&&n.to!=e||this.problemDiagram.referenceList.splice(t,1)}for(t=this.problemDiagram.constraintList.length-1;t>=0;t--){var r=this.problemDiagram.constraintList[t];r.from!=e&&r.to!=e||this.problemDiagram.constraintList.splice(t,1)}for(t=this.contextDiagram.interfaceList.length-1;t>=0;t--){var i=this.contextDiagram.interfaceList[t];i.from!=e&&i.to!=e||this.contextDiagram.interfaceList.splice(t,1)}},e.prototype.getInterfaceList=function(){return this.contextDiagram.interfaceList},e.prototype.addInterface=function(e){this.contextDiagram.interfaceList.push(e)},e.prototype.changeInterfaceWithNewProject=function(e){var t=e.getInterfaceList(),n=this.getInterfaceList();this.changeLineWithNewProject(n,t)},e.prototype.changePhenomenon=function(e,t){for(var n=0,r=t;n<r.length;n++){for(var i=r[n],o=!1,s=0,a=e;s<a.length;s++)i.name==(u=a[s]).name&&(u.type=i.type,o=!0);o||e.push(i)}for(var l=e.length-1;l>=0;l--){for(var u=e[l],c=(o=!1,0),h=t;c<h.length;c++)if((i=h[c]).name==u.name){o=!0;break}o||e.splice(l,1)}},e.prototype.changeInterface=function(e,t){for(var n=0,r=0,i=this.getInterfaceList();r<i.length;r++){if(i[r].getName()==e.getName())return void(this.getInterfaceList()[n]=t);n+=1}},e.prototype.deleteInterface=function(e){for(var t=e.no,n=this.contextDiagram.interfaceList,r=0,i=0,o=n;i<o.length;i++){if(o[i].no==t){n.splice(r,1);break}r++}},e.prototype.getConstraintList=function(){return this.problemDiagram.constraintList},e.prototype.addConstraint=function(e){this.problemDiagram.constraintList.push(e)},e.prototype.changeConstraintWithNewProject=function(e){var t=e.getConstraintList(),n=this.getConstraintList();this.changeLineWithNewProject(n,t)},e.prototype.changeConstraint=function(e,t){for(var n=0,r=0,i=this.getConstraintList();r<i.length;r++){if(i[r].getName()==e.getName())return void(this.getConstraintList()[n]=t);n+=1}},e.prototype.deleteConstraint=function(e){for(var t=e.no,n=this.problemDiagram.constraintList,r=0,i=0,o=n;i<o.length;i++){if(o[i].no==t){n.splice(r,1);break}r++}},e.prototype.getReferenceList=function(){return this.problemDiagram.referenceList},e.prototype.addReference=function(e){this.problemDiagram.referenceList.push(e)},e.prototype.changeReferenceWithNewProject=function(e){var t=e.getReferenceList(),n=this.getReferenceList();this.changeLineWithNewProject(n,t)},e.prototype.changeLineWithNewProject=function(e,t){for(var n=0,r=t;n<r.length;n++){for(var i=r[n],o=!1,s=0,a=e;s<a.length;s++){var l=a[s];i.getFrom()==l.getFrom()&&i.getTo()==l.getTo()&&(null!=i.getName()&&l.setName(i.getName()),this.changePhenomenon(l.getPhenomenonList(),i.getPhenomenonList()),o=!0)}o||e.push(i)}for(var u=e.length-1;u>=0;u--){l=e[u],o=!1;for(var c=0,h=t;c<h.length;c++)if((i=h[c]).getFrom()==l.getFrom()&&i.getTo()==l.getTo()){o=!0;break}o||e.splice(u,1)}},e.prototype.changeReference=function(e,t){for(var n=0,r=this.getReferenceList();n<r.length;n++)if(r[n].getName()==e.getName())return void(this.getReferenceList()[0]=t)},e.prototype.setDescription=function(e){var t="";t=t+e.getName()+":";for(var n=[],r=0,i=e.getPhenomenonList();r<i.length;r++){for(var o=i[r],s=!1,a=0,l=n;a<l.length;a++)if(o.from==(h=l[a])[0]){h.push(o.name),s=!0;break}s||n.push([o.from,o.name])}for(var u=0,c=n;u<c.length;u++){var h;t+=(h=c[u])[0]+"!{";for(var d=0,p=h.slice(1);d<p.length;d++)t+=p[d]+",";t=t.slice(0,-1),t+="},"}return t=t.slice(0,-1),console.log(t),e.setDescription(t),t},e.prototype.deleteReference=function(e){for(var t=e.no,n=this.problemDiagram.referenceList,r=0,i=0,o=n;i<o.length;i++){if(o[i].no==t){n.splice(r,1);break}r++}},e}(),y=n("eAhI"),b=n("DrJT"),w=n("shLW"),C=n("+3PG"),I=function(){function e(){}return e.prototype.getShapeChangeEvent=function(e,t,n,r){return{shapeType:e,changeType:t,oldShape:n,newShape:r,lineInfo:null,oldPhenomenon:null,newPhenomenon:null,newProject:null}},e.prototype.getPhenomenonChangeEvent=function(e,t,n,r){return{shapeType:"phe",changeType:e,lineInfo:t,oldPhenomenon:n,newPhenomenon:r,oldShape:null,newShape:null,newProject:null}},e}(),x=n("I92I"),A=n("10Wk"),_=n("NARQ"),S=n("CcnG");n.d(t,"a",function(){return D});var D=function(){function e(e,t,n,r,i){var o=this;this.component_choice_service=e,this.fileService=t,this.wsService=n,this.projectService=r,this.recordTimeService=i,this.keyWords=["M","C","B","X","D","P","R","?","phenomenon","value","event","state"],this.frame="",this.step=1,this.papers=new Array,this.clickedElement=null,this.isSaved=!1,this.selectedGraphIndex=0,this.graphs=new Array,this.phenomenonList=[],this.referencePhenomenonList=new Array,this.constraintPhenomenonList=new Array,this.refPheList=new Array,this.initiatorList=new Array,this.problemdomain_no=1,this.requirement_no=1,this.interface_no=1,this.reference_no=1,this.constraint_no=1,this.phenomenon_no=1,this.link_name_no=1,this.rcSource=null,this.rcTarget=null,this.link_source=void 0,this.link_target=void 0,this.selectedId=void 0,this.selectedElement=void 0,this.selectedLinkSource=void 0,this.selectedLinkTarget=void 0,this.selectedPhenomenonNo=void 0,this.selectedReferencePhenomenonNo=void 0,this.selectedConstraintPhenomenonNo=void 0,this.description=void 0,this.deleteListen=!1,this.PhysicalPropertys=["GivenDomain","DesignDomain"],this.DomainTypes=["Causal","Biddable","Lexical"],this.phenomenonTypes=["event","state","value"],this.messageId=0,this.isProjectNull=!0,this.isMove=!1,this.moveTimes=0,this.isLabel=!0,this.pre=null,r.stepEmmited$.subscribe(function(e){o.step=e,3==e&&o.addinterfaceName()}),this.openWebSocket(),this.project=new v}return e.prototype.openWebSocket=function(){this.ws=new WebSocket("ws://47.52.116.116:8098/DiagramLSP");var e=this;this.ws.onopen=function(){},this.ws.onmessage=function(t){var n=JSON.parse(t.data);e.frame+=n.frame;var r=n.lastFrame;if(e.receiveFrame=!0,r){n=JSON.parse(e.frame),e.frame="";var i=n.params;if(e.lastVersion=i.diagram.lastVersion,"Diagram/didChange"==n.method){console.log(" ===== diagram receive didChange message =====\n"),console.log(n);var o=i.contentChanges;if(e.wsChange(o),"project"!=o[0].shapeType)return;var s=null==i.diagram.T0?0:i.diagram.T0,a=null==i.diagram.T1?0:i.diagram.T1,l=null==i.diagram.T2?0:i.diagram.T2,u=null==i.diagram.T3?0:i.diagram.T3,c=(new Date).getTime();e.sendTimeRecoder(e.lastVersion,s,a,l,u,c)}else if("Diagram/changeLastVersion"==n.method)console.log(" ===== diagram receive changeLastVersion message =====\n"),console.log(n);else if("Diagram/registered"==n.method){if(1==e.isOpen)return void console.log("\u91cd\u590d\u6536\u5230 registered ");console.log(" ===== diagram receive registered message =====\n"),console.log(n),e.registed_new(n),e.recordTimeService.DiagramRegistedTime=(new Date).getTime(),console.log("that.recordTimeService.OpenTime=",e.recordTimeService.OpenTime),console.log("that.recordTimeService.TextRegistedTime=",e.recordTimeService.TextRegistedTime),console.log("that.recordTimeService.DiagramRegistedTime=",e.recordTimeService.DiagramRegistedTime),0!=e.recordTimeService.OpenTime&&0!=e.recordTimeService.TextRegistedTime&&(e.sendOpenTimeRecoder(e.recordTimeService.OpenTime,e.recordTimeService.DiagramRegistedTime),e.recordTimeService.OpenTime=0,e.recordTimeService.TextRegistedTime=0,e.recordTimeService.DiagramRegistedTime=0),e.isOpen=!0}}},this.ws.onerror=function(e){},this.ws.onclose=function(t){console.log("=====close=====",t),e.isOpen=!1,e.openWebSocket();var n=setInterval(function(){clearInterval(n),e.register_new(e.projectAddress,e.version)},1e4)}},e.prototype.registed_new=function(e){this.isOpen=!0;var t=e.params.contentChanges[0].newProject,n=new v;n.initProject(t),this.setProject(n),this.isProjectNull=!1},e.prototype.wsChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];switch(r.shapeType){case"mac":this.wsMachine(r);break;case"pro":this.wsProblemDomain(r);break;case"req":this.wsRequirement(r);break;case"int":this.wsInterface(r);break;case"ref":this.wsReference(r);break;case"con":this.wsConstraint(r);break;case"project":this.wsProject(r)}}},e.prototype.wsMachine=function(e){var t=e.oldShape,n=e.newShape;switch(e.changeType){case"add":this.drawMachinews(n);break;case"delete":this.deleteMachinews(t);break;case"change":this.changeMachinews(t,n)}},e.prototype.wsProblemDomain=function(e){var t=e.oldShape,n=e.newShape;switch(e.changeType){case"add":this.drawProblemDomainws(n);break;case"delete":this.deleteProblemDomainws(t);break;case"change":this.changeProblemDomainws(t,n)}},e.prototype.wsRequirement=function(e){var t=e.oldShape,n=e.newShape;switch(e.changeType){case"add":this.drawRequirementws(n);break;case"delete":this.deleteRequirementws(t);break;case"change":this.changeRequirementws(t,n)}},e.prototype.wsInterface=function(e){var t=e.oldShape,n=e.newShape;switch(e.changeType){case"add":this.drawInterfacews(n);break;case"delete":this.deleteInterfacews(t);break;case"change":this.changeInterfacews(t,n)}},e.prototype.wsReference=function(e){var t=e.oldShape,n=e.newShape;switch(e.changeType){case"add":this.drawReferencews(n);break;case"delete":this.deleteReferencews(t);break;case"change":this.changeReferencews(t,n)}},e.prototype.wsConstraint=function(e){var t=e.oldShape,n=e.newShape;switch(e.changeType){case"add":this.drawConstraintws(n);break;case"delete":this.deleteConstraintws(t);break;case"change":this.changeConstraintws(t,n)}},e.prototype.wsProject=function(e){var t=e.newProject,n=new v;n.initProject(t),this.project.changeMachineWithNewProject(n),this.project.changeProblemDomainWithNewProject(n),this.project.changeRequirementWithNewProject(n),this.project.changeInterfaceWithNewProject(n),this.project.changeConstraintWithNewProject(n),this.project.changeReferenceWithNewProject(n),this.drawDiagram(this.project)},e.prototype.register_new=function(e,t){t=t.replace(":","_").replace(":","_"),this.projectAddress=e,this.version=t,this.uri=e+t;var n=x.a.getFrame("Diagram/register",{diagram:{uri:e+t,projectAddress:e,projectVersion:t}});console.log("===== diagram register ====="),this.sendMessage(n)},e.prototype.register=function(e,t,n){null==t&&(t="undefined"),t=t.replace(":","_").replace(":","_"),console.log(t),this.projectAddress=e,this.version=t,this.uri=e+t;var r=x.a.getFrame("Diagram/didOpen",{diagram:{uri:e+t,project:n}});console.log("===== diagram register ====="),this.sendMessage(r)},e.prototype.sendTimeRecoder=function(e,t,n,r,i,o){var s=x.a.getFrame("Diagram/TimeRecoder",{uri:this.projectAddress+this.version,lastVersion:e,T0:t,T1:n,T2:r,T3:i,T4:o});console.log("===== diagram TimeRecoder ====="),this.sendMessage(s)},e.prototype.sendOpenTimeRecoder=function(e,t){var n=x.a.getFrame("Diagram/OpenTimeRecoder",{uri:this.projectAddress+this.version,T0:e,T1:t});console.log("===== diagram OpenTimeRecoder ====="),this.sendMessage(n)},e.prototype.sendMessage=function(e){this.sendMessage1(this.ws,this.messageId++,e)},e.prototype.sendMessage1=function(e,t,n){var r,i=JSON.stringify(n),o=0,s=0,a=setInterval(function(){o>i.length?clearInterval(a):(r=i.length>o+51e4?C.a.getLSPMessage(t,s++,!1,i.substring(o,o+51e4)):C.a.getLSPMessage(t,s++,!0,i.substring(o)),e.readyState==WebSocket.OPEN?(console.log(r),e.send(JSON.stringify(r)),o+=51e4):e.readyState==WebSocket.CLOSED?console.log("diagram.ws.readyState=CLOSED ",e.readyState):e.readyState==WebSocket.CLOSING?console.log("diagram.ws.readyState=CLOSING ",e.readyState):e.readyState==WebSocket.CONNECTING&&console.log("diagram.ws.readyState=CONNECTING ",e.readyState))},100)},e.prototype.unregister=function(){var e=x.a.getFrame("Diagram/didClose",{diagram:{uri:this.projectAddress+this.version}});console.log("=====send message====="),console.log(e),this.ws.readyState==WebSocket.OPEN&&this.ws.send(JSON.stringify(e))},e.prototype.sendChangeShapeMessage=function(e,t,n,r){switch(t){case"req":switch(e){case"add":this.drawRequirementws(r);break;case"delete":this.deleteRequirementws(n);break;case"change":this.changeRequirementws(n,r)}break;case"int":switch(e){case"add":this.drawInterfacews(r);break;case"delete":this.deleteInterfacews(n);break;case"change":this.changeInterfacews(n,r)}break;case"ref":switch(e){case"add":this.drawReferencews(r);break;case"delete":this.deleteReferencews(n);break;case"change":this.changeReferencews(n,r)}break;case"con":switch(e){case"add":this.drawConstraintws(r);break;case"delete":this.deleteConstraintws(n);break;case"change":this.changeConstraintws(n,r)}}var i=this.version;null==i&&(i="undefined");var o={uri:this.projectAddress+i,version:null,lastVersion:this.lastVersion,changeTime:(new Date).getTime(),T0:(new Date).getTime(),T1:0,T2:0,T3:0,T4:0},s=[(new I).getShapeChangeEvent(t,e,n,r)],a=x.a.getFrame("Diagram/didChange",{diagram:o,contentChanges:s});this.sendMessage(a)},e.prototype.sendChangePositionMessage=function(){var e=this.version;null==e&&(e="undefined");var t=x.a.getFrame("Diagram/moveTimes",{uri:this.projectAddress+e,moveTimes:this.moveTimes});this.sendMessage(t)},e.prototype.searchMaxPheNo=function(e){var t=this.searchMaxPheNo1(0,e.contextDiagram.interfaceList);return t=this.searchMaxPheNo1(t,e.problemDiagram.referenceList),this.searchMaxPheNo1(t,e.problemDiagram.constraintList)},e.prototype.searchMaxPheNo1=function(e,t){for(var n=0,r=t;n<r.length;n++)for(var i=0,o=r[n].phenomenonList;i<o.length;i++){var s=o[i];s.no>e&&(e=s.no)}return e},e.prototype.searchMaxLinkNameNo=function(e){var t="a";if(null!=e.problemDiagram){for(var n=0,r=e.problemDiagram.referenceList;n<r.length;n++)t=this.compareLinkName(t,r[n].name);for(var i=0,o=e.problemDiagram.constraintList;i<o.length;i++)t=this.compareLinkName(t,o[i].name)}for(var s=0,a=e.contextDiagram.interfaceList;s<a.length;s++)t=this.compareLinkName(t,a[s].name);return this.getLinkNameNo(t)},e.prototype.compareLinkName=function(e,t){if(null==t)return e;if(null==e)return t;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i<"a"&&i>"z")return e}return e.length>t.length?e:e.length<t.length?t:e<t?t:e},e.prototype.getlink_name=function(e){var t=e%26,n=Math.floor(e/26);0==t&&(t=26,n-=1);for(var r=String.fromCharCode(96+t);n>0;)t=n%26,n=Math.floor(n/26),0==t&&(t=26,n-=1),r=String.fromCharCode(96+t)+r;return r},e.prototype.getLinkNameNo=function(e){for(var t=0,n=0;n<e.length;n++)t=(t*=26)+e.charCodeAt(n)-96;return t},e.prototype.getShortname=function(e){for(var t=e.length,n=!0,r="",i=0;i<t;i++)n&&(e.charAt(i)>"a"&&e.charAt(i)<"z"||e.charAt(i)>"A"&&e.charAt(i)<"Z")&&(r+=e.charAt(i),n=!1),"_"!=e.charAt(i)&&" "!=e.charAt(i)||(n=!0);return r.toUpperCase()},e.prototype.initPapers=function(){var e=this;this.tab1="Context Diagram",this.tab2="Problem Diagram";for(var t,n=function(n){r.graphs[n]=new y.dia.Graph;var i=$("#content"+(n+1)),o=i.width(),s=i.height();r.papers[n]=new y.dia.Paper({el:$("#content"+(n+1)),width:o,height:s,model:r.graphs[n],clickThreshold:1,gridSize:10,drawGrid:!0,background:{color:"rgb(240,255,255)"}}),t=r,r.papers[n].on("blank:mousewheel",function(t,r,i,o){var s=e.papers[n].scale();e.papers[n].scale(s.sx+.01*o,s.sy+.01*o)}),r.papers[n].on("blank:pointerclick",function(e,r,i){t.drawElement(t.graphs[n],e,r,i)}),r.papers[n].on("element:pointerclick",function(e,r,i,o){1==t.component_choice_service.link&&(null==t.link_source?t.link_source=e.model:null==t.link_target&&(t.link_target=e.model,t.link_source==t.link_target?(alert("The starting point and the ending point are the same, please redraw!"),t.link_source=void 0,t.link_target=void 0):(t.drawLink(t.link_source,t.link_target,t.graphs[n]),t.link_source=void 0,t.link_target=void 0,t.component_choice_service.set_choice_false()))),1==t.component_choice_service.merge&&(null==t.link_source?t.link_source=e.model:null==t.link_target&&(t.link_target=e.model,t.Merge(t.link_source,t.link_target,t.graphs[n]),t.link_source=void 0,t.link_target=void 0,t.component_choice_service.merge=!1))}),r.papers[n].on("cell:pointerclick",function(e,n,r,i){0==t.component_choice_service.element&&0==t.component_choice_service.link&&(t.selectedElement=e.model,t.selectedType=t.selectedElement.attr("root").shape,t.deleteListen=!0),t.resetStrokeColor(),t.clickedElement=e.model,t.changeStrokeColor()}),r.papers[n].on("cell:pointerdblclick",function(e,n,r,i){t.deleteListen=!1,t.selectedElement=e.model,t.selectedType=t.selectedElement.attr("root").shape,t.selectedId=t.selectedElement.id,t.selectedElement.isLink()&&(t.selectedElement.source(),t.selectedElement.target()),document.getElementById(t.selectedType+"PopBox").style.display="block",document.getElementById("popLayer").style.display="block",t.initPopBox()}),r.papers[n].on("cell:contextmenu",function(e,n,r,i){t.deleteListen=!1,t.selectedElement=e.model,t.selectedType=t.selectedElement.attr("root").shape,t.selectedId=t.selectedElement.id}),r.graphs[n].on("change:position",function(e,n){t.selectedElement=e;var r=e.attr("root").name;t.selectedType=t.selectedElement.attr("root").shape,t.selectedId=t.selectedElement.id,t.changeElementPosition(r,n),t.isMove=!0}),r.papers[n].on("element:pointerup",function(){t.isMove&&(console.log("element:pointerup  ",t.moveTimes++),t.sendChangePositionMessage())})},r=this,i=0;i<2;i++)n(i)},e.prototype.draw_test=function(e){var t=this.drawMachine(100,400,e),n=this.drawProblemDomain(400,300,e),r=this.drawProblemDomain(400,500,e),i=this.drawRequirement(700,400,e);this.drawInterface(t,n,e),this.drawInterface(t,r,e),this.drawReference(i,n,e),this.drawConstraint(r,i,e)},e.prototype.initPopBox=function(){"machine"==this.selectedType?this.initMachinePopBox():"problemDomain"==this.selectedType?this.initDomainPopBox():"requirement"==this.selectedType?this.initRequirementPopBox():"interface"==this.selectedType?this.initInterfacePopBox():"reference"==this.selectedType?this.initReferencePopBox():"constraint"==this.selectedType&&this.initConstraintPopBox()},e.prototype.initProject=function(e){this.project.init(e),this.projectService.sendProject(this.project),this.link_name_no=1,this.phenomenon_no=1,this.problemdomain_no=1},e.prototype.changeStrokeColor=function(){this.clickedElement.attr("body/stroke","orange"),this.clickedElement.attr("r/stroke","orange"),this.clickedElement.attr("r1/stroke","orange"),this.clickedElement.attr("r2/stroke","orange"),this.clickedElement.attr("line/stroke","orange")},e.prototype.resetStrokeColor=function(){null!=this.clickedElement&&(this.clickedElement.attr("body/stroke","black"),this.clickedElement.attr("r/stroke","black"),this.clickedElement.attr("r1/stroke","black"),this.clickedElement.attr("r2/stroke","black"),this.clickedElement.attr("line/stroke","black"))},e.prototype.addinterfaceName=function(){if(!this.isLabel)for(var e=0,t=this.project.contextDiagram.interfaceList;e<t.length;e++){var n=t[e];n.name=this.getlink_name(this.link_name_no),this.link_name_no+=1,n.description=this.project.setDescription(n);for(var r=0,i=this.graphs[0].getLinks();r<i.length;r++){var o=i[r];o.attr("root").no==n.no&&(o.attr("root").name=n.name,o.appendLabel({attrs:{text:{text:n.name,fontSize:25,textAnchor:"middle",textVerticalAnchor:"middle",background:"none"}}}))}}},e.prototype.initProjectWithOntology=function(e){this.initProject(e),this.isLabel=!1,this.project.contextDiagram.machine=a.newMachine("machine","M",100,50*this.ontologyEntities.length,100,50);for(var t=50,n=0,r=this.ontologyEntities;n<r.length;n++){var o=r[n],s=new l;s.no=o.id,s.name=o.name,s.shortname=this.getShortname(o.name),s.type=o.type.slice(0,-6),s.phes=new Array;for(var u=0,h=o.opts;u<h.length;u++){var d=h[u];(y=new i).no=this.phenomenon_no,y.type="event",y.name=d,s.phes.push(y)}for(var p=0,f=o.values;p<f.length;p++){var g=f[p];(y=new i).no=this.phenomenon_no,y.type="value",y.name=g,s.phes.push(y)}for(var m=0,v=o.states;m<v.length;m++){var y;d=v[m],(y=new i).no=this.phenomenon_no,y.type="state",y.name=d,s.phes.push(y)}s.x=400,s.y=t,t+=100,s.h=50,s.w=100,this.project.contextDiagram.problemDomainList.push(s);var b=new c;b.from="M",b.to=s.shortname,b.no=this.interface_no,this.interface_no+=1,b.name="",this.project.contextDiagram.interfaceList.push(b),b.phenomenonList=new Array}this.drawDiagram(this.project)},e.prototype.enterTable=function(e){switch(e){case 1:this.graphs[0].clear(),this.drawContextDiagram(this.project.contextDiagram,this.graphs[0]);break;case 2:this.graphs[1].clear(),this.drawProblemDiagram(this.project.problemDiagram,this.graphs[1])}},e.prototype.getProject=function(e,t){var n=this;this.projectAddress=e,null==t&&(t="undefined"),this.version=t.replace(":","_").replace(":","_"),this.isProjectNull=!0,this.fileService.getProject(e,t).subscribe(function(e){n.setProject(e),n.isProjectNull=!1})},e.prototype.getPfProject=function(e,t){var n=this;this.projectAddress=e,null==t&&(t="undefined"),t=t.replace(":","_").replace(":","_"),this.version=t,this.fileService.getPFProject(e).subscribe(function(r){n.setProject(r),n.register(e,t,r)})},e.prototype.getLatestProject=function(e,t){var n=this;this.projectAddress=e,null==t&&(t="undefined"),this.version=t.replace(":","_").replace(":","_"),this.fileService.getLatestProject(e,t).subscribe(function(e){n.setProject(e)})},e.prototype.setProject=function(e){this.project.initProject(e),this.link_name_no=this.searchMaxLinkNameNo(this.project)+1,this.phenomenon_no=this.searchMaxPheNo(this.project)+1,this.dealConstraint(this.project),this.drawDiagram(this.project),this.projectService.sendProject(this.project)},e.prototype.dealConstraint=function(e){for(var t=0,n=e.problemDiagram.referenceList;t<n.length;t++)for(var r=0,i=n[t].phenomenonList;r<i.length;r++)null==(u=i[r]).constraint&&(u.constraint=!1);for(var o=0,s=e.problemDiagram.constraintList;o<s.length;o++)for(var a=0,l=s[o].phenomenonList;a<l.length;a++){var u;null==(u=l[a]).constraint&&(u.constraint=!1)}},e.prototype.drawDiagram=function(e){this.initPapers(),this.drawContextDiagram(e.contextDiagram,this.graphs[0]),this.drawProblemDiagram(e.problemDiagram,this.graphs[1])},e.prototype.drawContextDiagram=function(e,t){var n=[];null!=e.machine&&this.drawMachine2(e.machine,n,t),this.drawProblemDomains(e.problemDomainList,n,t),this.drawInterfaces(e.interfaceList,n,t)},e.prototype.drawProblemDiagram=function(e,t){var n=[],r=[];null!=e.contextDiagram.machine&&this.drawMachine2(e.contextDiagram.machine,n,t),this.drawProblemDomains(e.contextDiagram.problemDomainList,n,t),this.drawInterfaces(e.contextDiagram.interfaceList,n,t),this.drawRequirements(e.requirementList,r,t),this.drawConstraints(e.constraintList,n,r,t),this.drawReferences(e.referenceList,n,r,t)},e.prototype.drawElement=function(e,t,n,r){1==this.component_choice_service.element&&(1==this.component_choice_service.domain?(this.drawProblemDomain(n,r,e),this.component_choice_service.domain=!1):1==this.component_choice_service.machine?(this.drawMachine(n,r,e),this.component_choice_service.machine=!1):1==this.component_choice_service.req&&(this.drawRequirement(n,r,e),this.component_choice_service.req=!1),this.component_choice_service.element=!1)},e.prototype.deleteElement=function(e){"machine"==this.selectedType?this.deleteMachine(e):"problemDomain"==this.selectedType?this.deleteProblemDomain(e):"requirement"==this.selectedType?this.deleteRequirement(e):"interface"==this.selectedType?this.deleteInterface(e):"constraint"==this.selectedType?this.deleteConstraint(e):"reference"==this.selectedType&&this.deleteReference(e)},e.prototype.getElementById=function(e){for(var t=0,n=this.graphs[this.selectedGraphIndex].getElements();t<n.length;t++){var r=n[t];if(r.id==e)return r}return null},e.prototype.changeElementPosition=function(e,t){this.project.changeMachinePosition(e,t)||this.project.changeProblemDomainPosition(e,t)||this.project.changeRequirementPosition(e,t)},e.prototype.drawMachine2=function(e,t,n){var r=this.drawMachineOnGraph(e,n);t.push(r)},e.prototype.drawMachinews=function(e){var t=a.copyMachine(e);this.project.problemDiagram.contextDiagram.machine=t,this.project.contextDiagram.machine=t;for(var n=0,r=this.graphs;n<r.length;n++)this.drawMachineOnGraph(t,r[n])},e.prototype.drawMachine=function(e,t,n){if(null==this.project.contextDiagram.machine){var r=a.newMachine("machine","M1",e,t,100,50);this.sendChangeShapeMessage("add","mac",null,r),this.drawMachinews(r)}else alert("machine already exist!")},e.prototype.drawMachineOnGraph=function(e,t){var n=new(y.dia.Element.define("examples.CustomTextElement",{attrs:{label:{textAnchor:"middle",textVerticalAnchor:"middle",fontSize:25},r:{strokeWidth:1,stroke:"#000000",fill:"rgb(240,255,255)"},r1:{strokeWidth:1,stroke:"#000000",fill:"rgb(240,255,255)"},r2:{strokeWidth:1,stroke:"#000000",fill:"rgb(240,255,255)"}}},{markup:[{tagName:"rect",selector:"r"},{tagName:"rect",selector:"r1"},{tagName:"rect",selector:"r2"},{tagName:"text",selector:"label"}]}));return n.attr({label:{text:e.name+"\n("+e.shortname+")"},r:{ref:"label",text:"rrrrrrrrrrrrrrrrrrrrr",refX:-35,refY:0,x:0,y:0,refWidth:45,refHeight:"120%"},r1:{ref:"label",text:"111111111111",refX:-20,refY:0,x:0,y:0,refWidth:30,refHeight:"120%"},r2:{text:"2222222222",ref:"label",refX:-5,refY:0,x:0,y:0,refWidth:15,refHeight:"120%"},root:{shape:"machine",name:e.name,shortname:e.shortname}}),n.position(e.x,e.y),n.addTo(t),n},e.prototype.initMachinePopBox=function(){this.machine=this.project.contextDiagram.machine;var e=document.getElementById("machinePopBox");e.getElementsByClassName("description")[0].value=this.machine.name,e.getElementsByClassName("shortName")[0].value=this.machine.shortname,e.style.display="block"},e.prototype.changeMachineDetail=function(){var e=document.getElementById("machinePopBox"),t=e.getElementsByClassName("description")[0].value,n=e.getElementsByClassName("shortName")[0].value;if(this.isKeyWord(n))return!1;var r=this.project.contextDiagram.machine,i=a.newMachineWithOld(r,t,n);return this.sendChangeShapeMessage("change","mac",r,i),this.changeMachinews(r,i),!0},e.prototype.changeMachinews=function(e,t){console.log("changeMachinews"),this.changeRelatedLink(e.shortname,t.shortname);for(var n=0,r=this.graphs;n<r.length;n++)for(var i=0,o=r[n].getElements();i<o.length;i++){var s=o[i];s.attr("root").name==e.name&&this.changeMachineOnGraph(s,t.name,t.shortname)}return this.project.changeMachine(t.name,t.shortname),this.changeMachineOnGraph(this.selectedElement,t.name,t.shortname),this.projectService.sendProject(this.project),!0},e.prototype.changeMachineOnGraph=function(e,t,n){console.log("changeMachineOnGraph",t,n),console.log(e),e.attr({root:{shape:"machine",name:t,shortname:n},label:{text:t+"\n("+n+")"}})},e.prototype.deleteMachine=function(e){var t=this.project.contextDiagram.machine;this.sendChangeShapeMessage("delete","mac",t,null),this.deleteMachinews(t)},e.prototype.deleteMachinews=function(e){var t=(e=a.copyMachine(e)).getShortname();this.project.deleteRelatedLink(t),this.project.contextDiagram.machine=void 0,this.project.problemDiagram.contextDiagram.machine=void 0,this.projectService.sendProject(this.project);for(var n=0,r=this.graphs;n<r.length;n++)for(var i=r[n],o=0,s=i.getCells();o<s.length;o++){var l=s[o];e.shortname==l.attr("root").shortname&&i.removeCells([l])}},e.prototype.drawProblemDomains=function(e,t,n){for(var r=0;r<e.length;r++){var i,o=e[r];i="DesignDomain"===o.property?this.drawDesignDomain(o,n):this.drawGivenDomain(o,n),t.push(i)}},e.prototype.drawProblemDomainws=function(e){e=l.copyProblemDomain(e),this.project.contextDiagram.problemDomainList.push(e);for(var t=0,n=this.graphs;t<n.length;t++){var r=n[t];"DesignDomain"===e.property?this.drawDesignDomain(e,r):this.drawGivenDomain(e,r)}},e.prototype.drawProblemDomain=function(e,t,n){for(var r,i,o;;){r=this.problemdomain_no,this.problemdomain_no+=1,i="problemDomain"+r,o="PD"+r;for(var s=!1,a=0,u=this.project.contextDiagram.problemDomainList;a<u.length;a++){var c=u[a];c.name!=i&&c.shortname!=o||(s=!0)}if(!s)break}var h=l.newProblemDomain(r,i,o,"Causal","GivenDomain",e,t,100,50);this.sendChangeShapeMessage("add","pro",null,h),this.drawProblemDomainws(h)},e.prototype.drawDesignDomain=function(e,t){var n=this.drawGivenDomain(e,t);return n.attr("r/refX","-15"),n.attr("r/refWidth","20"),n},e.prototype.drawGivenDomain=function(e,t){var n=new(y.dia.Element.define("DesignDomain",{attrs:{label:{textAnchor:"middle",textVerticalAnchor:"middle",fontSize:25},r:{strokeWidth:1,stroke:"#000000",fill:"rgb(240,255,255)"},r1:{strokeWidth:1,stroke:"#000000",fill:"rgb(240,255,255)"}}},{markup:[{tagName:"rect",selector:"r"},{tagName:"rect",selector:"r1"},{tagName:"text",selector:"label"}]}));return n.attr({label:{text:e.name+"\n("+e.shortname+")"},r:{ref:"label",refX:-5,refY:-5,x:0,y:0,refWidth:10,refHeight:10},r1:{ref:"label",refX:-5,refY:-5,x:0,y:0,refWidth:10,refHeight:10},root:{shape:"problemDomain",name:e.name,shortname:e.shortname}}),n.position(e.x,e.y),n.addTo(t),n},e.prototype.initDomainPopBox=function(){for(var e=0,t=this.project.contextDiagram.problemDomainList;e<t.length;e++){var n=t[e],r=this.selectedElement.attr("root").name;if(n.name==r){this.problemDomain=n;break}}var i=document.getElementById("problemDomainPopBox");i.getElementsByClassName("description")[0].value=this.problemDomain.name,i.getElementsByClassName("shortName")[0].value=this.problemDomain.shortname;for(var o=0;o<2;o++)this.PhysicalPropertys[o]==this.problemDomain.property&&(i.getElementsByClassName("physicalProperty")[0].selectedIndex=o);for(o=0;o<3;o++)this.DomainTypes[o]==this.problemDomain.type&&(i.getElementsByClassName("domainType")[0].selectedIndex=o)},e.prototype.changeProblemDomainDetail=function(e){for(var t=document.getElementById("problemDomainPopBox"),n=t.getElementsByClassName("description")[0].value,r=0,i=this.project.contextDiagram.problemDomainList;r<i.length;r++){var o=i[r];if(o.name==n&&o.name!=this.problemDomain.name)return alert(n+"already exist!"),!1}var s=t.getElementsByClassName("shortName")[0].value;if(this.isKeyWord(s))return!1;var a=t.getElementsByClassName("domainType")[0],u=a.selectedIndex,c=this.DomainTypes[u];a=t.getElementsByClassName("physicalProperty")[0];var h=this.problemDomain,d=l.newProblemDomainWithOld(h,n,s,c,this.PhysicalPropertys[u=a.selectedIndex]);return this.sendChangeShapeMessage("change","pro",h,d),this.changeProblemDomainws(h,d),!0},e.prototype.changeProblemDomainws=function(e,t){return e=l.copyProblemDomain(e),t=l.copyProblemDomain(t),this.changeRelatedLink(e.shortname,t.shortname),this.project.changeProblemDomain1(e,t),this.projectService.sendProject(this.project),this.changeProblemDomainOnGraph1(e,t),!0},e.prototype.changeProblemDomainOnGraph1=function(e,t){for(var n=0,r=this.graphs;n<r.length;n++)for(var i=0,o=r[n].getElements();i<o.length;i++){var s=o[i];if(s.attr("root").name==e.name){this.changeProblemDomainOnGraph(t,s);break}}},e.prototype.changeProblemDomainOnGraph=function(e,t){t.attr({label:{text:e.name+"\n("+e.shortname+")"},root:{shape:"problemDomain",name:e.name,shortname:e.shortname}}),"GivenDomain"===e.property?this.change2GivenDomain(t):this.change2DesignDomain(t)},e.prototype.change2DesignDomain=function(e){e.attr("r/refX","-15"),e.attr("r/refWidth","20")},e.prototype.change2GivenDomain=function(e){e.attr("r/refX","-5"),e.attr("r/refWidth","10")},e.prototype.changeProblemDomainEntity=function(e,t,n,r){return this.problemDomain.name=e,this.problemDomain.shortname=t,this.problemDomain.type=n,this.problemDomain.property=r,this.problemDomain},e.prototype.deleteProblemDomain=function(e){for(var t,n=this.selectedElement.attr("root").name,r=(this.selectedElement.attr("root"),0),i=this.project.contextDiagram.problemDomainList;r<i.length;r++){var o=i[r];if(o.name==n){t=o;break}}this.sendChangeShapeMessage("delete","pro",t,null),this.deleteProblemDomainws(t)},e.prototype.deleteProblemDomainws=function(e){var t=l.copyProblemDomain(e),n=t.name,r=t.shortname,i=this.project.contextDiagram.problemDomainList;this.project.deleteRelatedLink(r);for(var o=0,s=0,a=i;s<a.length;s++){if(a[s].name==n){i.splice(o,1);break}o++}for(var u=0,c=this.graphs;u<c.length;u++){var h=c[u];this.project.deleteRelatedLink(r);for(var d=0,p=h.getCells();d<p.length;d++){var f=p[d];r==f.attr("root").shortname&&h.removeCells([f])}}this.projectService.sendProject(this.project)},e.prototype.drawRequirements=function(e,t,n){for(var r=0;r<e.length;r++){var i=this.drawRequirement1(e[r],n);t.push(i)}},e.prototype.drawRequirementws=function(e){var t=d.copyRequirement(e);this.project.problemDiagram.requirementList.push(t),this.drawRequirement1(t,this.graphs[1])},e.prototype.drawRequirement=function(e,t,n){for(var r,i;;){r=this.requirement_no,this.requirement_no+=1,i="requirement"+r;for(var o=!1,s=0,a=this.project.problemDiagram.requirementList;s<a.length;s++)a[s].name==i&&(o=!0);if(!o)break}var l=d.newRequirement(r,i,e,t,100,50);this.sendChangeShapeMessage("add","req",null,l)},e.prototype.drawRequirement1=function(e,t){var n=new y.shapes.standard.Ellipse;return n.attr({root:{shape:"requirement",name:e.name,shortname:e.name},label:{text:e.name,fontSize:25,textAnchor:"middle",textVerticalAnchor:"middle"},body:{ref:"label",refX:0,refY:0,refRx:"60%",refRy:"70%",refCx:"50%",refCy:"50%",fill:"rgb(240,255,255)",strokeWidth:1,strokeDasharray:"8,4"}}),n.position(e.x,e.y),n.addTo(t),n},e.prototype.initRequirementPopBox=function(){for(var e=0,t=this.project.problemDiagram.requirementList;e<t.length;e++){var n=t[e];n.name==this.selectedElement.attr("label").text&&(this.requirement=n)}var r=document.getElementById("requirementPopBox");r.getElementsByClassName("description")[0].value=this.requirement.name,r.getElementsByClassName("shortName")[0].value=this.requirement.shortname},e.prototype.changeRequirementDetail=function(e){var t=document.getElementById("requirementPopBox"),n=t.getElementsByClassName("description")[0].value,r=t.getElementsByClassName("shortName")[0].value;if(this.isKeyWord(r))return!1;for(var i=0,o=this.project.problemDiagram.requirementList;i<o.length;i++){var s=o[i];if(s.name==n&&s.name!=this.requirement.name)return alert(n+"already exist!"),!1;if(s.shortname==r&&s.shortname!=this.requirement.shortname)return alert(r+"already exist!"),!1}var a=this.requirement,l=d.newRequirementWithOld(a,n,r);return this.sendChangeShapeMessage("change","req",a,l),!0},e.prototype.changeRequirementws=function(e,t){var n=d.copyRequirement(e),r=d.copyRequirement(t);return this.changeRelatedLink(n.name,r.name),this.project.changeRequirement1(n,r),this.projectService.sendProject(this.project),this.changeRequirementOnGraph1(n,r),!0},e.prototype.changeRequirementOnGraph1=function(e,t){for(var n=0,r=this.graphs;n<r.length;n++)for(var i=0,o=r[n].getElements();i<o.length;i++){var s=o[i];if(s.attr("root").name==e.getName()){this.changeRequirementOnGraph(s,t.getName());break}}},e.prototype.changeRequirementOnGraph=function(e,t){e.attr({root:{shape:"requirement",name:t,shortname:t},label:{text:t}})},e.prototype.deleteRequirement=function(e){for(var t,n=this.selectedElement.attr("root").name,r=this.project.problemDiagram.requirementList,i=r.length-1;i>=0;i--){var o=r[i];if(o.name==n){t=o;break}}this.sendChangeShapeMessage("delete","req",t,null)},e.prototype.deleteRequirementws=function(e){var t=d.copyRequirement(e);this.project.deleteRequirement(t),this.project.deleteRelatedLink(t.getName()),this.projectService.sendProject(this.project),this.deleteRequirementOnGraph(t.getName())},e.prototype.deleteRequirementOnGraph=function(e){for(var t=0,n=this.graphs;t<n.length;t++)for(var r=n[t],i=0,o=r.getCells();i<o.length;i++){var s=o[i];e==s.attr("root").name&&r.removeCells([s])}},e.prototype.changeRelatedLink=function(e,t){for(var n=0,r=this.project.problemDiagram.referenceList;n<r.length;n++){var i=r[n];i.from==e?i.from=t:i.to==e&&(i.to=t),i.refreshPhenomenonList(e,t)}for(var o=0,s=this.project.problemDiagram.constraintList;o<s.length;o++){var a=s[o];a.from==e?a.from=t:a.to==e&&(a.to=t),a.refreshPhenomenonList(e,t)}for(var l=0,u=this.project.contextDiagram.interfaceList;l<u.length;l++){var c=u[l];c.from==e?c.from=t:c.to==e&&(c.to=t),c.refreshPhenomenonList(e,t)}},e.prototype.Merge=function(e,t,n){for(var r=this.project.contextDiagram.interfaceList,i=r.length-1;i>=0;i--)(y=r[i]).from==t.attr("root").shortname?r.splice(i,1):y.to==t.attr("root").shortname&&r.splice(i,1);for(var o=this.project.problemDiagram.constraintList,s=o.length-1;s>=0;s--)(y=o[s]).from==t.attr("root").shortname?o.splice(s,1):y.to==t.attr("root").shortname&&o.splice(s,1);for(var a=this.project.problemDiagram.referenceList,l=a.length-1;l>=0;l--)(y=a[l]).from==t.attr("root").shortname?a.splice(l,1):y.to==t.attr("root").shortname&&a.splice(l,1);for(var u=0,c=this.project.contextDiagram.interfaceList;u<c.length;u++)(y=c[u]).from==e.attr("root").shortname?y.from=e.attr("root").shortname+t.attr("root").shortname:y.to==e.attr("root").shortname&&(y.to=e.attr("root").shortname+t.attr("root").shortname);for(var h=0,d=this.project.problemDiagram.constraintList;h<d.length;h++)(y=d[h]).from==e.attr("root").shortname?y.from=e.attr("root").shortname+t.attr("root").shortname:y.to==e.attr("root").shortname&&(y.to=e.attr("root").shortname+t.attr("root").shortname);for(var p=0,f=this.project.problemDiagram.referenceList;p<f.length;p++)(y=f[p]).from==e.attr("root").shortname?y.from=e.attr("root").shortname+t.attr("root").shortname:y.to==e.attr("root").shortname&&(y.to=e.attr("root").shortname+t.attr("root").shortname);for(var g=this.project.contextDiagram.problemDomainList,m=0,v=this.project.contextDiagram.problemDomainList;m<v.length;m++){var y;if((y=v[m]).name==e.attr("root").name)for(var b=0,w=0,C=this.project.contextDiagram.problemDomainList;w<C.length;w++){var I=C[w];if(I.name==t.attr("root").name){y.name=y.name+"&"+I.name,y.shortname=y.shortname+I.shortname;for(var x=0;x<I.phes.length;x++)y.phes.push(I.phes[x]);n.removeCells(t),e.attr("root").name=y.name,e.attr("label").text=y.name+"\n("+y.shortname+")",g.splice(b,1),this.drawDiagram(this.project)}b++}}},e.prototype.drawLink=function(e,t,n){1==this.component_choice_service.interface?(this.drawInterface(e,t,n),this.component_choice_service.interface=!1):1==this.component_choice_service.reference?(this.drawReference(e,t,n),this.component_choice_service.reference=!1):1==this.component_choice_service.constraint&&(this.drawConstraint(e,t,n),this.component_choice_service.constraint=!1),this.projectService.sendProject(this.project)},e.prototype.changeLinkPosition=function(e){for(var t=0,n=e.problemDiagram.referenceList;t<n.length;t++){var r=n[t],i=this.changeLinkPosition1(r.from,r.to,e);r.x1=i[0],r.x2=i[1],r.y1=i[2],r.y2=i[3]}for(var o=0,s=e.problemDiagram.constraintList;o<s.length;o++){var a=s[o];i=this.changeLinkPosition1(a.from,a.to,e),a.x1=i[0],a.x2=i[1],a.y1=i[2],a.y2=i[3]}for(var l=0,u=e.contextDiagram.interfaceList;l<u.length;l++){var c=u[l];i=this.changeLinkPosition1(c.from,c.to,e),c.x1=i[0],c.x2=i[1],c.y1=i[2],c.y2=i[3]}},e.prototype.changeLinkPosition1=function(e,t,n){var r,i,o,s;e==n.contextDiagram.machine.shortname?(r=this.project.contextDiagram.machine.x,o=this.project.contextDiagram.machine.y):t==this.project.contextDiagram.machine.shortname&&(i=this.project.contextDiagram.machine.x,s=this.project.contextDiagram.machine.y);for(var a=0,l=n.contextDiagram.problemDomainList;a<l.length;a++)(h=l[a]).shortname==e?(r=h.x,o=h.y):h.shortname==t&&(i=h.x,s=h.y);for(var u=0,c=n.problemDiagram.requirementList;u<c.length;u++){var h;(h=c[u]).name==e?(r=h.x,o=h.y):h.name==t&&(i=h.x,s=h.y)}return[r,i,o,s]},e.prototype.deleteRelatedLinkOnGraph=function(e,t){for(var n=0,r=t.getLinks();n<r.length;n++){var i=r[n];i.attr("root").name==e&&t.removeCells([i])}},e.prototype.drawInterfaces=function(e,t,n){for(var r,i,o=0;o<e.length;o++){for(var s=e[o],a=s.from,l=s.to,u=0;u<t.length;u++)a==t[u].attr("root").shortname?r=t[u]:l===t[u].attr("root").shortname&&(i=t[u]);null!=r&&null!=i&&null!=r&&null!=i?this.drawInterface1(s,r,i,n):console.log(s)}},e.prototype.drawInterface=function(e,t,n){for(var r;;){r=this.interface_no,this.interface_no+=1;for(var i=!1,o=0,s=this.project.contextDiagram.interfaceList;o<s.length;o++)s[o].no==r&&(i=!0);if(!i)break}var a=this.getname(),l=e.attr("root").shortname,u=t.attr("root").shortname,h=c.newInterface(r,a,a+"?",l,u,[],0,0,0,0);return this.sendChangeShapeMessage("add","int",null,h),h},e.prototype.drawInterfacews=function(e){var t=c.copyInterface(e);this.project.addInterface(t),this.drawInterfaceOnGraph(t)},e.prototype.drawInterfaceOnGraph=function(e){for(var t=e.from,n=e.to,r=0,i=this.graphs;r<i.length;r++){for(var o,s,a=i[r],l=a.getElements(),u=0;u<l.length;u++)t==l[u].attr("root").shortname?o=l[u]:n===l[u].attr("root").shortname&&(s=l[u]);null!=o&&null!=s&&null!=o&&null!=s?this.drawInterface1(e,o,s,a):console.log(e)}},e.prototype.addInterfaceEntity=function(e,t,n,r,i,o,s,a,l,u){var h=new c;return h.no=e,h.name=t,h.from=r,h.to=i,h.x1=s,h.y1=a,h.x2=l,h.y2=u,h.phenomenonList=o,h.description=n,this.project.contextDiagram.interfaceList.push(h),h},e.prototype.drawInterface1=function(e,t,n,r){var i=new y.shapes.standard.Link({source:{id:t.id},target:{id:n.id}});return i.attr({root:{shape:"interface",name:e.name,no:e.no},line:{strokeWidth:1,targetMarker:{fill:"none",stroke:"none"}}}),i.appendLabel({attrs:{text:{text:e.name,fontSize:25,textAnchor:"middle",textVerticalAnchor:"middle",background:"none"}}}),i.addTo(r),i},e.prototype.initInterfacePopBox=function(){for(var e=0,t=this.project.contextDiagram.interfaceList;e<t.length;e++){var n=t[e];if(n.no==this.selectedElement.attr("root").no){this.interface=n,this.phenomenonList=n.phenomenonList,this.selectedLinkSource=n.from,this.selectedLinkTarget=n.to;break}}document.getElementById("interfacePopBox").getElementsByClassName("name")[0].value="";var r=this.getProblemEntityByShortName(this.selectedLinkSource),i=this.getProblemEntityByShortName(this.selectedLinkTarget);if(this.selectPhes=[],null!=r&&null!=r.phes)for(var o=0,s=r.phes;o<s.length;o++)this.selectPhes.push(s[o]);if(null!=i&&null!=i.phes)for(var a=0,l=i.phes;a<l.length;a++)this.selectPhes.push(l[a])},e.prototype.getProblemEntityByShortName=function(e){for(var t=0,n=this.project.contextDiagram.problemDomainList;t<n.length;t++){var r=n[t];if(r.shortname==e)return r}return null},e.prototype.changeInterfaceDetail=function(){},e.prototype.changeInterfacews=function(e,t){return e=c.copyInterface(e),t=c.copyInterface(t),this.project.changeInterface(e,t),this.projectService.sendProject(this.project),!0},e.prototype.deleteInterface=function(e){for(var t,n=this.selectedElement.attr("root").no,r=0,i=this.project.contextDiagram.interfaceList;r<i.length;r++){var o=i[r];if(o.no==n){t=o;break}}this.sendChangeShapeMessage("delete","int",t,null)},e.prototype.deleteInterfacews=function(e){e=c.copyInterface(e),this.project.deleteInterface(e),this.projectService.sendProject(this.project),this.deleteInterfaceOnGraph(e.getName())},e.prototype.deleteInterfaceOnGraph=function(e){for(var t=0,n=this.graphs;t<n.length;t++)for(var r=n[t],i=0,o=r.getLinks();i<o.length;i++){var s=o[i];if(s.attr("root").name==e){r.removeCells([s]);break}}},e.prototype.drawReferences=function(e,t,n,r){for(var i,o,s=0;s<e.length;s++){for(var a=e[s],l=a.from,u=a.to,c=0;c<t.length;c++)l===t[c].attr("root").shortname?i=t[c]:u===t[c].attr("root").shortname&&(o=t[c]);for(c=0;c<n.length;c++)l===n[c].attr("label").text?i=n[c]:u===n[c].attr("label").text&&(o=n[c]);null!=i&&null!=o&&null!=i&&null!=o?this.drawReference1(a,i,o,this.graphs[1]):console.log(a)}},e.prototype.drawReferencews=function(e){e=g.copyReference(e),this.project.addReference(e),this.projectService.sendProject(this.project),this.drawReferenceOnGraph(e)},e.prototype.drawReferenceOnGraph=function(e){for(var t,n,r=e.from,i=e.to,o=this.graphs[1].getElements(),s=0;s<o.length;s++)r==o[s].attr("root").shortname?t=o[s]:i===o[s].attr("root").shortname&&(n=o[s]);null!=t&&null!=n&&null!=t&&null!=n?this.drawReference1(e,t,n,this.graphs[1]):console.log(e)},e.prototype.drawReference=function(e,t,n){for(var r;;){r=this.reference_no,this.reference_no+=1;for(var i=!1,o=0,s=this.project.problemDiagram.referenceList;o<s.length;o++)s[o].name==r&&(i=!0);if(!i)break}var a=this.getname(),l=e.attr("root").shortname,u=t.attr("root").shortname,c=g.newReference(this.reference_no,a,"",l,u,[],0,0,0,0);this.sendChangeShapeMessage("add","ref",null,c)},e.prototype.getReqNo=function(e){for(var t=0,n=this.project.problemDiagram.requirementList;t<n.length;t++){var r=n[t];if(r.name==e)return r.no}return-1},e.prototype.addReferenceEntity=function(e,t,n,r,i,o,s,a,l,u){var c=new g;return c.no=e,c.name=t,c.description=n,c.from=r,c.to=i,c.phenomenonList=o,c.x1=s,c.y1=a,c.x2=l,c.y2=u,this.project.problemDiagram.referenceList.push(c),c},e.prototype.drawReference1=function(e,t,n,r){var i=new y.shapes.standard.Link({source:{id:t.id},target:{id:n.id}});return i.attr({root:{shape:"reference",name:e.name,no:e.no},line:{strokeWidth:1,targetMarker:{fill:"none",stroke:"none"},strokeDasharray:"8,4"}}),i.appendLabel({attrs:{text:{text:e.name,fontSize:25,textAnchor:"middle",textVerticalAnchor:"middle",background:"none"}}}),i.addTo(r),i},e.prototype.initReferencePopBox=function(){for(var e=0,t=this.project.problemDiagram.referenceList;e<t.length;e++){var n=t[e];if(n.name==this.selectedElement.attr("root").name){this.reference=n,this.phenomenonList=n.phenomenonList;break}}this.receiverList=[],this.initiator_receiverList=[],this.initiator_or_receiverList=[];for(var r=0,i=this.project.contextDiagram.problemDomainList;r<i.length;r++){var o=i[r];o.shortname!=this.reference.from&&o.shortname!=this.reference.to||(this.initiator=o.shortname,this.initiator_receiverList.push(o.shortname))}for(var s=0,a=this.project.contextDiagram.interfaceList;s<a.length;s++){var l=a[s];l.from==this.initiator?(this.receiverList.push(l.to),this.initiator_receiverList.push(l.to),this.initiator_or_receiverList.push(l.to)):l.to==this.initiator&&(this.receiverList.push(l.from),this.initiator_receiverList.push(l.from),this.initiator_or_receiverList.push(l.from))}this.interface_ontologyPhes=[],this.interfacePhes=[],this.ontologyPhes=[],this.interfacePhes=this.getRefPheList(this.initiator);var u=this.getProblemEntityByShortName(this.initiator);this.ontologyPhes=u.phes,null==this.ontologyPhes&&(this.ontologyPhes=[]),this.interface_ontologyPhes=this.getRefPheList(this.initiator);for(var c=0,h=this.ontologyPhes;c<h.length;c++){var d=h[c];this.exist(d,this.interface_ontologyPhes)||this.interface_ontologyPhes.push(d)}document.getElementById("referencePopBox").getElementsByClassName("name")[0].value="",setTimeout(function(){$("#referencePopBox .initiator").get(0).selectedIndex=0},15)},e.prototype.exist=function(e,t){for(var n=0,r=t;n<r.length;n++)if(e.name==r[n].name)return!0;return!1},e.prototype.getRelatedPhes=function(e,t,n){for(var r=0,i=this.project.contextDiagram.interfaceList;r<i.length;r++)this.getRelatedPhes1(e,i[r].phenomenonList,t,n);for(var o=0,s=this.project.problemDiagram.constraintList;o<s.length;o++)this.getRelatedPhes1(e,s[o].phenomenonList,t,n);for(var a=0,l=this.project.problemDiagram.referenceList;a<l.length;a++)this.getRelatedPhes1(e,l[a].phenomenonList,t,n)},e.prototype.getRelatedPhes1=function(e,t,n,r){for(var i=0,o=t;i<o.length;i++){var s=o[i];e==s.from||e==s.to?n.push(s):r.push(s)}},e.prototype.changereceiver=function(){var e=document.getElementById(this.selectedType+"PopBox").getElementsByClassName("initiator")[0],t=this.initiator_receiverList[e.selectedIndex];if(this.initiator_or_receiverList=[],this.initiator==t)for(var n=0,r=this.receiverList;n<r.length;n++)this.initiator_or_receiverList.push(r[n]);else this.initiator_or_receiverList.push(this.initiator)},e.prototype.changeReferenceDetail=function(){},e.prototype.changeReferencews=function(e,t){return e=g.copyReference(e),t=g.copyReference(t),this.project.changeReference(e,t),this.projectService.sendProject(this.project),!0},e.prototype.deleteReference=function(e){for(var t,n=this.selectedElement.attr("root").name,r=0,i=this.project.problemDiagram.referenceList;r<i.length;r++){var o=i[r];if(o.name==n){t=o;break}}this.sendChangeShapeMessage("delete","ref",t,null)},e.prototype.deleteReferencews=function(e){e=g.copyReference(e),this.project.deleteReference(e),this.projectService.sendProject(this.project),this.deleteReferenceOnGraph(e.getName())},e.prototype.deleteReferenceOnGraph=function(e){for(var t=0,n=this.graphs;t<n.length;t++)for(var r=n[t],i=0,o=r.getLinks();i<o.length;i++){var s=o[i];s.attr("root").name==e&&r.removeCells([s])}},e.prototype.getname=function(){for(;;){var e=this.getlink_name(this.link_name_no);this.link_name_no+=1;for(var t=!1,n=0,r=this.project.contextDiagram.interfaceList;n<r.length;n++)r[n].name==e&&(t=!0);for(var i=0,o=this.project.problemDiagram.referenceList;i<o.length;i++)o[i].name==e&&(t=!0);for(var s=0,a=this.project.problemDiagram.constraintList;s<a.length;s++)a[s].name==e&&(t=!0);if(!t)return e}},e.prototype.drawConstraints=function(e,t,n,r){for(var i,o,s=0;s<e.length;s++){for(var a=e[s],l=a.from,u=a.to,c=0;c<t.length;c++)l===t[c].attr("root").shortname?i=t[c]:u===t[c].attr("root").shortname&&(o=t[c]);for(c=0;c<n.length;c++)l===n[c].attr("label").text?i=n[c]:u===n[c].attr("label").text&&(o=n[c]);if("requirement"!=i.attr("root").shape){var h=i;i=o,o=h}this.drawConstraint1(a,i,o,r)}},e.prototype.drawConstraint=function(e,t,n){for(var r,i=this.getname();;){r=this.constraint_no,this.constraint_no+=1;for(var o=!1,s=0,a=this.project.problemDiagram.constraintList;s<a.length;s++)a[s].no==r&&(o=!0);if(!o)break}if("requirement"!=e.attr("root").name){var l=e;e=t,t=l}var u=t.attr("root").shortname,c=e.attr("root").shortname,h=f.newConstraint(r,i,"",c,u,[],0,0,0,0);this.sendChangeShapeMessage("add","con",null,h)},e.prototype.drawConstraintws=function(e){e=f.copyConstraint(e),this.project.addConstraint(e),this.projectService.sendProject(this.project),this.drawConstraintOnGraph(e)},e.prototype.drawConstraintOnGraph=function(e){for(var t,n,r=e.from,i=e.to,o=this.graphs[1].getElements(),s=0;s<o.length;s++)r==o[s].attr("root").shortname?t=o[s]:i===o[s].attr("root").shortname&&(n=o[s]);this.drawConstraint1(e,t,n,this.graphs[1])},e.prototype.drawConstraint1=function(e,t,n,r){var i=new y.shapes.standard.Link({source:{id:t.id},target:{id:n.id}});return i.attr({root:{shape:"constraint",name:e.name,no:e.no},line:{strokeWidth:1,strokeDasharray:"8,4"}}),i.appendLabel({attrs:{text:{text:e.name,fontSize:25,textAnchor:"middle",textVerticalAnchor:"middle",background:"none"}}}),i.addTo(r),i},e.prototype.initConstraintPopBox=function(){for(var e=0,t=this.project.problemDiagram.constraintList;e<t.length;e++){var n=t[e];if(n.name==this.selectedElement.attr("root").name){this.constraint=n,this.phenomenonList=n.phenomenonList;break}}document.getElementById("constraintPopBox").getElementsByClassName("name")[0].value="",this.receiverList=[],this.initiator_receiverList=[],this.initiator_or_receiverList=[];for(var r=0,i=this.project.contextDiagram.problemDomainList;r<i.length;r++){var o=i[r];o.shortname!=this.constraint.from&&o.shortname!=this.constraint.to||(this.initiator=o.shortname,this.initiator_receiverList.push(o.shortname))}for(var s=0,a=this.project.contextDiagram.interfaceList;s<a.length;s++){var l=a[s];l.from==this.initiator?(this.receiverList.push(l.to),this.initiator_receiverList.push(l.to),this.initiator_or_receiverList.push(l.to)):l.to==this.initiator&&(this.receiverList.push(l.from),this.initiator_receiverList.push(l.from),this.initiator_or_receiverList.push(l.from))}this.interface_ontologyPhes=[],this.interfacePhes=[],this.ontologyPhes=[],this.interfacePhes=this.getRefPheList(this.initiator);var u=this.getProblemEntityByShortName(this.initiator);if(this.ontologyPhes=u.phes,this.interface_ontologyPhes=this.getRefPheList(this.initiator),null!=this.ontologyPhes)for(var c=0,h=this.ontologyPhes;c<h.length;c++){var d=h[c];this.exist(d,this.interface_ontologyPhes)||this.interface_ontologyPhes.push(d)}setTimeout(function(){$("#constraintPopBox .initiator").get(0).selectedIndex=0},15)},e.prototype.changeConstraintDetail=function(){},e.prototype.changeConstraintws=function(e,t){return this.project.changeConstraint(e,t),this.projectService.sendProject(this.project),!0},e.prototype.deleteConstraint=function(e){for(var t,n=this.selectedElement.attr("root").name,r=0,i=this.project.problemDiagram.constraintList;r<i.length;r++){var o=i[r];if(o.name==n){t=o;break}}this.sendChangeShapeMessage("delete","con",t,null)},e.prototype.deleteConstraintws=function(e){e=f.copyConstraint(e),this.project.deleteConstraint(e),this.projectService.sendProject(this.project),this.deleteConstraintOnGraph(e.getName())},e.prototype.deleteConstraintOnGraph=function(e){for(var t=0,n=this.graphs;t<n.length;t++)for(var r=n[t],i=0,o=r.getLinks();i<o.length;i++){var s=o[i];s.attr("root").name==e&&r.removeCells([s])}},e.prototype.getPhenomenonList=function(e){for(var t=0,n=this.project.contextDiagram.interfaceList;t<n.length;t++){var r=n[t];if(r.from==e||r.to==e)return r.phenomenonList}return null},e.prototype.getRefPheList=function(e){for(var t=[],n=0,r=this.project.contextDiagram.interfaceList;n<r.length;n++){var i=r[n];if(i.from==e||i.to==e)for(var o=0;o<i.phenomenonList.length;o++)t.push(i.phenomenonList[o])}for(var s=0,a=this.project.problemDiagram.referenceList;s<a.length;s++)if((c=a[s]).from==e||c.to==e)for(o=0;o<c.phenomenonList.length;o++)t.push(c.phenomenonList[o]);for(var l=0,u=this.project.problemDiagram.constraintList;l<u.length;l++){var c;if((c=u[l]).from==e||c.to==e)for(o=0;o<c.phenomenonList.length;o++)t.push(c.phenomenonList[o])}for(var h=0;h<t.length;h++)for(var d=t.length-1;d>h;d--)t[h].no==t[d].no&&t.splice(d,1);return t},e.prototype.addInterfacePhenomenon=function(){var e=new i;this.changePhenomenon(e)&&(this.project.setDescription(this.interface),this.sendChangeShapeMessage("change","int",this.interface,this.interface))},e.prototype.changePhenomenon=function(e){var t=document.getElementById(this.selectedType+"PopBox"),n=t.getElementsByClassName("name")[0].value;if(""==n||null==n||null==n)return alert("phenomenonName is null!"),!1;if(this.isKeyWord(n))return!1;for(var r=0,i=this.phenomenonList;r<i.length;r++)if(i[r].name==n)return void alert(n+"already exists");e.name=n;var o=!1;if(null!=this.ontologyPhes)for(var s=0,a=this.ontologyPhes;s<a.length;s++){var l=a[s];if(l.name==n){e.type=l.type,o=!0;break}}if(!o){var u=t.getElementsByClassName("phenomenonType")[0];e.type=u.options[u.selectedIndex].text}e.no=this.phenomenon_no,this.phenomenon_no+=1;var c=t.getElementsByClassName("initiator")[0],h=c.selectedIndex,d=c.options[h].text;return e.to=c.options[1-h].text,e.from=d,this.phenomenonList.push(e),!0},e.prototype.addReferencePhenomenon=function(){var e=new s;this.changeRequirementPhenomenon(e)&&(this.project.setDescription(this.reference),this.sendChangeShapeMessage("change","ref",this.reference,this.reference))},e.prototype.addConstraintPhenomenon=function(){var e=new s;this.changeRequirementPhenomenon(e)&&(this.project.setDescription(this.constraint),this.sendChangeShapeMessage("change","con",this.constraint,this.constraint))},e.prototype.changeRequirementPhenomenon=function(e){var t,n=this.getElementById(this.selectedElement.source().id),r=this.getElementById(this.selectedElement.target().id);null!=n?this.rcSource=n:n=this.rcSource,null!=r?this.rcTarget=r:r=this.rcTarget,t="requirement"==n.attr("root").shape?this.getReqNo(n.attr("root").name):this.getReqNo(r.attr("root").name),e.requirement=t;var i=document.getElementById(this.selectedType+"PopBox"),o=i.getElementsByClassName("name")[0].value;if(""==o||null==o||null==o)return alert("phenomenonName is null!"),console.log("phenomenonName is null!"),!1;if(this.isKeyWord(o))return!1;var s=i.getElementsByClassName("phenomenonType")[0],a=s.selectedIndex,l=s.options[a].text,u=(s=i.getElementsByClassName("initiator")[0]).options[a=s.selectedIndex].text,c=(s=i.getElementsByClassName("receiver")[0]).options[a=s.selectedIndex].text,h=i.getElementsByClassName("checkbox")[0].checked,d=[];this.getRelatedPhes(this.initiator,d,[]);for(var p=0,f=this.phenomenonList;p<f.length;p++)if(f[p].name==o)return void alert(o+"already exists");for(var g=!1,m=0,v=d;m<v.length;m++)(w=v[m]).name==o&&(e.no=w.no,e.name=w.name,e.from=w.from,e.to=w.to,e.type=w.type,e.constraint=w.constraint,g=!0);if(!g){if(e.no=this.phenomenon_no,this.phenomenon_no+=1,e.name=o,e.from=u,e.to=c,g=!1,null!=this.ontologyPhes)for(var y=0,b=this.ontologyPhes;y<b.length;y++){var w;if((w=b[y]).name==o){e.type=w.type,g=!0;break}}g||(e.type=l)}return e.constraint=h,this.phenomenonList.push(e),!0},e.prototype.selectPhenomenon=function(e,t){$(e).attr("style","BACKGROUND-COLOR: #e6f0fc"),this.selectedPhenomenonNo=t},e.prototype.getPheByName=function(e){for(var t=0,n=this.project.contextDiagram.interfaceList;t<n.length;t++)for(var r=0,i=n[t].phenomenonList;r<i.length;r++)if(e==(p=i[r]).name)return p;for(var o=0,s=this.project.problemDiagram.referenceList;o<s.length;o++)for(var a=0,l=s[o].phenomenonList;a<l.length;a++)if(e==(p=l[a]).name)return p;for(var u=0,c=this.project.problemDiagram.constraintList;u<c.length;u++)for(var h=0,d=c[u].phenomenonList;h<d.length;h++){var p;if(e==(p=d[h]).name)return p}return null},e.prototype.selectPhe=function(){var e;if("reference"==this.selectedType?e=$("#referencePopBox .phes").get(0).selectedIndex:"constraint"==this.selectedType&&(e=$("#referencePopBox .phes").get(0).selectedIndex),0!=e){var t=this.interface_ontologyPhes[e-1],n=t.name;document.getElementById("nameref").value=n;for(var r=0,i=0,o=this.initiator_receiverList;i<o.length&&t.from!=o[i];i++)r++;"reference"==this.selectedType?$("#referencePopBox .initiator").get(0).selectedIndex=r:"constraint"==this.selectedType&&($("#constraintPopBox .initiator").get(0).selectedIndex=r),this.changereceiver();for(var s=0,a=0,l=this.initiator_or_receiverList;a<l.length&&t.to!=l[a];a++)s++;"reference"==this.selectedType?$("#referencePopBox .receiver").get(0).selectedIndex=s:"constraint"==this.selectedType&&($("#constraintPopBox .receiver").get(0).selectedIndex=s);for(var u=0,c=0,h=this.phenomenonTypes;c<h.length&&h[c]!=t.type;c++)u++;"reference"==this.selectedType?($("#referencePopBox .name").val(t.name),$("#referencePopBox .phenomenonType").get(0).selectedIndex=u):"constraint"==this.selectedType&&($("#constraintPopBox .name").val(t.name),$("#constraintPopBox .phenomenonType").get(0).selectedIndex=u)}},e.prototype.deletePhenomenon=function(){"interface"==this.selectedType?(this.deletePhenomenon1(this.interface),this.sendChangeShapeMessage("change","int",this.interface,this.interface)):"reference"==this.selectedType?(this.deletePhenomenon1(this.reference),this.sendChangeShapeMessage("change","ref",this.reference,this.reference)):"constraint"==this.selectedType&&(this.deletePhenomenon1(this.constraint),this.sendChangeShapeMessage("change","con",this.constraint,this.constraint))},e.prototype.deletePhenomenon1=function(e){var t=this.deletePhenomenonByNo(this.selectedPhenomenonNo,this.phenomenonList);return this.project.setDescription(e),this.projectService.sendProject(this.project),t},e.prototype.deletePhenomenonByNo=function(e,t){for(var n=0,r=0,i=t;r<i.length;r++){var o=i[r];if(o.no==e)return t.splice(n,1),o;n+=1}},e.prototype.getPhenomenonByNo=function(e){for(var t=0,n=this.phenomenonList;t<n.length;t++){var r=n[t];if(r.no===e)return r}},e.prototype.getAllPhenomenon=function(){for(var e=new Array,t=0,n=this.project.contextDiagram.interfaceList;t<n.length;t++)for(var r=0,i=n[t].phenomenonList;r<i.length;r++)e.push(i[r]);for(var o=0,s=this.project.problemDiagram.referenceList;o<s.length;o++)for(var a=0,l=s[o].phenomenonList;a<l.length;a++)e.push(l[a]);for(var u=0,c=this.project.problemDiagram.constraintList;u<c.length;u++)for(var h=0,d=c[u].phenomenonList;h<d.length;h++)e.push(d[h]);for(var p=0;p<e.length;p++)for(var f=e.length-1;f>p;f--)e[p].no==e[f].no&&e.splice(f,1);return e},e.prototype.getAllRequirementPhenomenon=function(){for(var e=new Array,t=0,n=this.project.problemDiagram.referenceList;t<n.length;t++)for(var r=0,i=n[t].phenomenonList;r<i.length;r++)e.push(i[r]);for(var o=0,s=this.project.problemDiagram.constraintList;o<s.length;o++)for(var a=0,l=s[o].phenomenonList;a<l.length;a++)e.push(l[a]);for(var u=0;u<e.length;u++)for(var c=e.length-1;c>u;c--)e[u].no==e[c].no&&e.splice(c,1);return e},e.prototype.isKeyWord=function(e){for(var t=0,n=this.keyWords;t<n.length;t++)if(n[t]==e)return alert(e+" is a keyword"),!0;return!1},e.ngInjectableDef=S.S({factory:function(){return new e(S.W(r.a),S.W(w.a),S.W(A.a),S.W(b.a),S.W(_.a))},token:e,providedIn:"root"}),e}()},y3By:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("+umK");function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)}function o(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:r.a}},yLpj:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},zUnb:function(e,t,n){"use strict";n.r(t);var r=n("CcnG"),i=function(){return function(){}}(),o=n("DrJT"),s=n("shLW"),a=n("xlmz"),l=n("nwKM"),u=n("Dgmx"),c=n("10Wk"),h=n("NARQ"),d=n("+3PG"),p=n("I92I"),f=n("B+lm"),g=function(){function e(e,t,n,r){var i=this;this.projectService=e,this.wsService=t,this.fileService=n,this.recordTimeService=r,this.isPfNull=!0,this.pf="",this.hasSpace=!1,this.isOpen=!1,this.timeFlag=0,this.frame="",this.languageId="problemframe",this.hasCreatedEditor=!1,this.messageId=0,this.openWebSocket(),e.stepEmmited$.subscribe(function(e){i.project=e})}return e.prototype.createEditor=function(e,t,n){var r=this,i=this;if(!this.hasCreatedEditor){this.hasCreatedEditor=!0,this.filename=e+t+".pf";var o=monaco.editor.createModel(n,"problemframe",monaco.Uri.parse("file://root/pf-language-server/test-data/"+this.filename));this.editor.setModel(o),l.MonacoServices.install(this.editor,{rootUri:"file://root/pf-language-server/test.pf"});var s=this.createWebSocket("ws://47.52.116.116:8030/sampleServer");Object(u.listen)({webSocket:s,onConnection:function(e){var t=r.createLanguageClient(e),n=t.start();e.onClose(function(){return n.dispose()}),i.connection=e,i.languageClient=t}})}this.editor.setValue(n),this.interval=setInterval(function(){i.didSave()},1e3)},e.prototype.createLanguageClient=function(e){return new l.MonacoLanguageClient({name:"ProblemFrame Client",clientOptions:{documentSelector:["problemframe"],errorHandler:{error:function(){return l.ErrorAction.Continue},closed:function(){return l.CloseAction.DoNotRestart}}},connectionProvider:{get:function(t,n){return Promise.resolve(Object(l.createConnection)(e,t,n))}}})},e.prototype.createWebSocket=function(e){return new f(e,void 0,{maxReconnectionDelay:1e4,minReconnectionDelay:1e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:1e4,maxRetries:1/0,debug:!1})},e.prototype.getText=function(){return this.editor.getValue()},e.prototype.getNotNullPf=function(e,t){var n=this,r=this;this.projectAddress=e,null==t&&(t="undefined"),this.version=t.replace(":","_").replace(":","_"),this.isPfNull=!0,this.fileService.getNotNullPf(e,t).subscribe(function(e){r.isPfNull=!1;var t=e.match(/problem: (.*)\n/g)[0].trim().replace("problem: ","").trim();-1!=t.indexOf(" ")&&("#"!=t[0]&&(t="#"+t),"#"!=t[t.length-1]&&(t+="#")),e=(e=e.replace(/problem: .*\n/g,"problem: "+t+"\n")).replace("\nM M ","\nM1 M "),n.pf=e})},e.prototype.openWebSocket=function(){this.ws=new WebSocket("ws://47.52.116.116:8098/TextLSP");var e=this;this.ws.onopen=function(){},this.ws.onmessage=function(t){var n=JSON.parse(t.data);if(e.frame+=n.frame,n.lastFrame){n=JSON.parse(e.frame),e.frame="";var r=n.params;if(e.lastVersion=r.textDocument.lastVersion,"TextDocument/didChange"==n.method){console.log(" ============================== text receive didChange message==============================\n"),console.log(n),e.update(n);var i=null==r.textDocument.T0?0:r.textDocument.T0,o=null==r.textDocument.T1?0:r.textDocument.T1,s=null==r.textDocument.T2?0:r.textDocument.T2,a=null==r.textDocument.T3?0:r.textDocument.T3,l=(new Date).getTime();e.sendTimeRecoder(e.lastVersion,i,o,s,a,l)}else"TextDocument/registered"==n.method?(console.log(" ============================== text receive registered message==============================\n"),console.log(n),e.registed_new(n),e.recordTimeService.TextRegistedTime=(new Date).getTime(),0!=e.recordTimeService.OpenTime&&0!=e.recordTimeService.DiagramRegistedTime&&(e.sendOpenTimeRecoder(e.recordTimeService.OpenTime,e.recordTimeService.TextRegistedTime),e.recordTimeService.OpenTime=0,e.recordTimeService.TextRegistedTime=0,e.recordTimeService.DiagramRegistedTime=0)):"TextDocument/changeLastVersion"==n.method&&(console.log(" ============================== text receive changeLastVersion message==============================\n"),console.log(n))}},this.ws.onerror=function(e){},this.ws.onclose=function(t){if(console.log("==============================close==============================",t),e.isOpen=!1,e.openWebSocket(),null!=e.projectAddress&&null!=e.projectAddress)var n=setInterval(function(){null!=e.projectAddress&&null!=e.projectAddress?(console.log("============================== re register =============================="),e.register(e.projectAddress,e.version,e.pf),e.isOpen&&clearInterval(n)):clearInterval(n)},5e3);else console.log(" \u4e3a\u4ec0\u4e48\u6ca1\u6709\u6ce8\u518c\u5c31\u8fde\u63a5\u5173\u95ed\u4e86\u5462\uff1f\uff1f\uff1f")}},e.prototype.sendTimeRecoder=function(e,t,n,r,i,o){var s=p.a.getFrame("TextDocument/TimeRecoder",{uri:this.projectAddress+this.version,lastVersion:e,T0:t,T1:n,T2:r,T3:i,T4:o});console.log("============================== TextDocument TimeRecoder =============================="),this.sendMessage(s)},e.prototype.sendOpenTimeRecoder=function(e,t){var n=p.a.getFrame("TextDocument/OpenTimeRecoder",{uri:this.projectAddress+this.version,T0:e,T1:t});console.log("===== TextDocument OpenTimeRecoder ====="),this.sendMessage(n)},e.prototype.register=function(e,t,n){t=null==t?"undefined":t.replace(":","_").replace(":","_"),console.log(t);var r=p.a.getFrame("TextDocument/didOpen",{textDocument:{uri:e+t,version:0,text:n}});console.log("============================== TextDocument TimeRecoder =============================="),this.sendMessage(r),this.projectAddress=e,this.version=t,this.newValue=n,this.createEditor(this.projectAddress,this.version,n);var i=this;this.editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S,function(){i.didSave()},"")},e.prototype.register_new=function(e,t){t=t.replace(":","_").replace(":","_");var n=p.a.getFrame("TextDocument/register",{textDocument:{uri:e+t,projectAddress:e,projectVersion:t,version:0}});console.log("============================== TextDocument TimeRecoder =============================="),this.sendMessage(n),this.projectAddress=e,this.version=t},e.prototype.registed_new=function(e){this.isOpen=!0,this.isPfNull=!1,this.newValue=e.params.text,this.createEditor(this.projectAddress,this.version,this.newValue)},e.prototype.sendMessage=function(e){this.sendMessage1(this.ws,this.messageId++,e)},e.prototype.sendMessage1=function(e,t,n){var r,i=JSON.stringify(n),o=0,s=0,a=setInterval(function(){o>i.length?clearInterval(a):(r=i.length>o+51e4?d.a.getLSPMessage(t,s++,!1,i.substring(o,o+51e4)):d.a.getLSPMessage(t,s++,!0,i.substring(o)),e.readyState==WebSocket.OPEN?(console.log(r),e.send(JSON.stringify(r)),o+=51e4):e.readyState==WebSocket.CLOSED?console.log("diagram.ws.readyState=CLOSED ",e.readyState):e.readyState==WebSocket.CLOSING?console.log("diagram.ws.readyState=CLOSING ",e.readyState):e.readyState==WebSocket.CONNECTING&&console.log("diagram.ws.readyState=CONNECTING ",e.readyState))},100)},e.prototype.unregister=function(){var e=p.a.getFrame("TextDocument/didClose",{textDocument:{uri:this.projectAddress+this.version,languageId:"pf",version:0,text:null}});this.ws.send(JSON.stringify(e))},e.prototype.didSave=function(){var e=!1;monaco.editor.getModelMarkers({}).length>0&&(e=!0);var t=this.editor.getValue();if((t!=this.newValue||4==this.saveTimes)&&!e&&this.isOpen){var n={textDocument:{uri:this.filename.split(".")[0],version:null,lastVersion:this.lastVersion,changeTime:(new Date).getTime()},text:t},r=p.a.getFrame("TextDocument/didSave",n);this.sendMessage(r),this.newValue=t}this.saveTimes=(this.saveTimes+1)%5},e.prototype.update=function(e){this.newValue=e.params.text;var t=this.editor.getPosition();this.editor.setValue(this.newValue),this.editor.setPosition(t)},e.ngInjectableDef=r.S({factory:function(){return new e(r.W(o.a),r.W(c.a),r.W(s.a),r.W(h.a))},token:e,providedIn:"root"}),e}(),m=function(){function e(e,t,n,r,i){var o=this;this.projectService=e,this.fileService=t,this.dg_service=n,this.textService=r,this.recordTimeService=i,this.title="PF2-web1",this.clicknode=null,this.clicknode1=null,t.newProEmmited$.subscribe(function(e){1==e&&(document.getElementById("popLayer").style.display="block",document.getElementById("projectPopBox").style.display="block")}),this.projectService.owlAddEmitted$.subscribe(function(e){o.owlAdd=e}),this.projectService.ontNameAddEmitted$.subscribe(function(e){o.powlName=e}),this.projectService.eOntNameAddEmitted$.subscribe(function(e){o.eowlName=e}),this.pOntologyShow=!1,this.eOntologyShow=!1,this.projectService.pNodesToDisplayEmitted$.subscribe(function(e){o.nodes=e;for(var t=0,n=o.nodes;t<n.length;t++);}),this.projectService.eNodesToDisplayEmitted$.subscribe(function(e){o.eNodes=e;for(var t=0,n=o.eNodes;t<n.length;t++);}),this.projectService.pOntShowEmitted$.subscribe(function(e){o.pOntologyShow=e,o.pOntologyShow&&(document.getElementById("pOntShow").style.display="block")}),this.projectService.eOntShowEmitted$.subscribe(function(e){o.eOntologyShow=e,o.eOntologyShow&&(document.getElementById("eOntShow").style.display="block")})}return e.prototype.getErrors=function(e){if(this.res=!1,this.errors=e,this.errors[0].errorList.length>0||this.errors[1].errorList.length>0||this.errors[2].errorList.length>0){var t=document.getElementById("popBox"),n=document.getElementById("popLayer");t.style.display="block",n.style.display="block"}},e.prototype.getProjects=function(e){this.projects=e,0==e.length?alert("There is no project! You need import a new project!"):(document.getElementById("popLayer").style.display="block",document.getElementById("OpenProject").style.display="block")},e.prototype.getOwls=function(e){this.owls=e,0==e.length?alert("There is no owl! You need upload a owls!"):(document.getElementById("popLayer").style.display="block",document.getElementById("OpenOwl").style.display="block")},e.prototype.getPOwls=function(e){this.pOwls=e,0==e.length?alert("There is no owl! You need upload a owls!"):(document.getElementById("popLayer").style.display="block",document.getElementById("OpenPOwl").style.display="block")},e.prototype.search=function(e){var t=this;this.projectAddress=e,this.fileService.searchVersion(e).subscribe(function(e){t.versions=e})},e.prototype.searchOwlVersions=function(e){this.owl=e},e.prototype.searchPOwlVersions=function(e){this.pOwl=e},e.prototype.open=function(){this.recordTimeService.OpenTime=(new Date).getTime(),this.recordTimeService.DiagramRegistedTime=0,this.recordTimeService.TextRegistedTime=0;var e=$("input[id='version']:checked").val(),t=null==e?"undefined":e.toString();if(null!=this.projectAddress){var n=this;n.textService.isPfNull||n.textService.unregister(),n.dg_service.isProjectNull||n.dg_service.unregister(),n.dg_service.getProject(n.projectAddress,t),n.textService.isPfNull=!0,n.dg_service.isProjectNull=!0,n.interval=setInterval(function(){if(n.textService.isPfNull&&n.textService.getNotNullPf(n.projectAddress,t),!n.textService.isPfNull&&!n.dg_service.isProjectNull){clearInterval(n.interval);var e=n.textService.projectAddress;n.textService.register(e,t,""==n.textService.pf?"#"+n.textService.projectAddress+"#\n":n.textService.pf);var r=setInterval(function(){clearInterval(r),n.dg_service.register(e,t,n.dg_service.project)},500)}},1e3)}this.projectService.stepChange(1),this.close("OpenProject")},e.prototype.openthroughws=function(){this.recordTimeService.OpenTime=(new Date).getTime(),this.recordTimeService.DiagramRegistedTime=0,this.recordTimeService.TextRegistedTime=0;var e=$("input[id='version']:checked").val(),t=null==e?"undefined":e.toString();if(null!=this.projectAddress){var n=this;n.textService.isPfNull||n.textService.unregister(),n.dg_service.isProjectNull||n.dg_service.unregister(),n.textService.isPfNull=!0,n.textService.receiveFrame=!1,n.dg_service.isProjectNull=!0,n.dg_service.receiveFrame=!1,n.dg_service.register_new(n.projectAddress,t);var r=setInterval(function(){clearInterval(r),n.textService.register_new(n.projectAddress,t)},1e3)}this.projectService.stepChange(1),this.close("OpenProject")},e.prototype.openOwl=function(){var e=this;if($("input[id='owlVersion']:checked").val(),null!=this.dg_service.projectAddress){if(null!=this.owl){var t=this;t.owlAdd=t.dg_service.projectAddress,this.projectService.sendOwlAdd(this.owlAdd),this.projectService.sendEOntName(this.owl+".owl"),t.fileService.moveOwl(t.dg_service.projectAddress,t.owl,t.owlVersions).subscribe(function(n){n?(t.fileService.getProblemDomains(t.owlAdd,t.owl).subscribe(function(e){t.dg_service.ontologyEntities=e,t.dg_service.initProjectWithOntology(t.dg_service.project.title)}),e.projectService.stepChange(1)):alert("error!")})}this.close("OpenOwl")}else alert("please new a project")},e.prototype.openPOwl=function(){$("input[id='pOwlVersion']:checked").val(),null!=this.dg_service.projectAddress?(null!=this.pOwl&&(this.projectService.sendEOntName(this.pOwl+".owl"),this.fileService.movePOwl(this.dg_service.projectAddress,this.pOwl,this.pOwlVersions)),this.close("OpenPOwl")):alert("please new a project")},e.prototype.close=function(e){document.getElementById(e).style.display="none",document.getElementById("popLayer").style.display="none"},e.prototype.getStrategy=function(e){this.strategyList=this.projectService.getStrategy(e),document.getElementById("Strategy").style.display="block"},e.prototype.searchPOntNodes=function(e){var t=this;this.clicknode=e,this.fileService.getNodes(this.owlAdd,this.powlName,e,"powl").subscribe(function(e){t.subnodes=e})},e.prototype.searchEOntNodes=function(e){var t=this;this.clicknode=e,this.fileService.getNodes(this.owlAdd,this.eowlName,e,"eowl").subscribe(function(e){t.subnodes=e})},e.prototype.searchEOntNodes1=function(e){var t=this;this.clicknode1=e;var n=this.fileService.getNodes(this.owlAdd,this.eowlName,e,"eowl").subscribe(function(e){t.subnodes1=e,n.unsubscribe()})},e.prototype.confirm=function(){var e=this,t=document.getElementById("projectPopBox").getElementsByClassName("description")[0].value;if(null==t)alert("The project title can't be null");else{var n=!1;this.fileService.searchProject().subscribe(function(r){for(var i=0,o=r;i<o.length;i++)if(o[i]==t){alert(t+"already exist!"),n=!0;break}if(!n){e.dg_service.initProject(t);var s=e;e.interval=setInterval(function(){clearInterval(s.interval),s.dg_service.register(t,"undefined",s.dg_service.project);var e=setInterval(function(){clearInterval(e),s.textService.register(t,"undefined","problem: #"+t+"#\n"),s.dg_service.initPapers()},500)},100),e.closePopEdit()}})}},e.prototype.closeBox=function(){this.closePopEdit()},e.prototype.closePopEdit=function(){document.getElementById("projectPopBox").style.display="none",document.getElementById("popLayer").style.display="none"},e}(),v=n("ZYCi"),y=r.nb({encapsulation:2,styles:[],data:{}});function b(e){return r.Db(0,[(e()(),r.pb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(1,212992,null,0,v.m,[v.b,r.O,r.j,[8,null],r.h],null,null)],function(e,t){e(t,1,0)},null)}function w(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"ng-component",[],null,null,null,b,y)),r.ob(1,49152,null,0,v.q,[],null,null)],null,null)}var C=r.lb("ng-component",v.q,w,{},{},[]),I=n("mrSG"),x=n("6blF"),A=n("isby"),_=n("G5J1"),S=n("zotm"),D=n("MGBS"),T=n("67Y/"),k=function(e){function t(t,n){var r=e.call(this,t)||this;r.sources=n,r.completed=0,r.haveValues=0;var i=n.length;r.values=new Array(i);for(var o=0;o<i;o++){var s=n[o],a=Object(S.a)(r,s,null,o);a&&r.add(a)}return r}return I.c(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,r=this.values,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()},t}(D.a),N=n("0/uQ"),P=n("ZYjt"),M=function(){function e(){}return Object.defineProperty(e.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return this.control?this.control.getError(e,t):null},e}(),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(I.c)(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(M);function E(e){return null==e||0===e.length}var j=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,R=function(){function e(){}return e.min=function(e){return function(t){if(E(t.value)||E(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}},e.max=function(e){return function(t){if(E(t.value)||E(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}},e.required=function(e){return E(e.value)?{required:!0}:null},e.requiredTrue=function(e){return!0===e.value?null:{required:!0}},e.email=function(e){return E(e.value)?null:j.test(e.value)?null:{email:!0}},e.minLength=function(e){return function(t){if(E(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}},e.maxLength=function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}},e.pattern=function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(E(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(L);return 0==t.length?null:function(e){return F(function(e,n){return t.map(function(t){return t(e)})}(e))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(L);return 0==t.length?null:function(e){return function e(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Object(A.a)(n[0])&&(n=n[0]),0===n.length?_.a:t?e(n).pipe(Object(T.a)(function(e){return t.apply(void 0,e)})):new x.a(function(e){return new k(e,n)})}(function(e,n){return t.map(function(t){return t(e)})}(e).map(z)).pipe(Object(T.a)(F))}},e}();function L(e){return null!=e}function z(e){var t=Object(r.ub)(e)?Object(N.a)(e):e;if(!Object(r.tb)(t))throw new Error("Expected validator to return Promise or Observable.");return t}function F(e){var t=e.reduce(function(e,t){return null!=t?Object(I.a)({},e,t):e},{});return 0===Object.keys(t).length?null:t}var B=new r.p("NgValueAccessor"),G=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),U=function(){function e(e,t,n){var r;this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Object(P.r)()?Object(P.r)().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this.onChange(e)},e}();function Z(e){return e.validate?function(t){return e.validate(t)}:e}function W(e){return e.validate?function(t){return e.validate(t)}:e}var V=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();function Y(){throw new Error("unimplemented")}var H=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return Object(I.c)(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return Y()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return Y()},enumerable:!0,configurable:!0}),t}(M),q=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name},e}(),X=function(){function e(e,t,n,r){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(H),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e}(),K=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),J='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Q='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';function ee(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}var te=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.vb}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=ee(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){var t,n;try{for(var r=Object(I.h)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o),e))return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e}(),ne=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ee(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();function re(e,t){return null==e?""+t:("string"==typeof t&&(t="'"+t+"'"),t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}var ie=function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=r.vb}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var s=i.item(o),a=t._getOptionValue(s.value);r.push(a)}else for(i=n.options,o=0;o<i.length;o++)(s=i.item(o)).selected&&(a=t._getOptionValue(s.value),r.push(a));t.value=r,e(r)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){var t,n;try{for(var r=Object(I.h)(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o)._value,e))return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e}(),oe=function(){function e(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}return Object.defineProperty(e.prototype,"ngValue",{set:function(e){null!=this._select&&(this._value=e,this._setElementValue(re(this.id,e)),this._select.writeValue(this._select.value))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{set:function(e){this._select?(this._value=e,this._setElementValue(re(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)},enumerable:!0,configurable:!0}),e.prototype._setElementValue=function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)},e.prototype._setSelected=function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)},e.prototype.ngOnDestroy=function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))},e}();function se(e,t){return Object(I.g)(t.path,[e])}function ae(e,t){e||ue(t,"Cannot find control with"),t.valueAccessor||ue(t,"No value accessor for form control with"),e.validator=R.compose([e.validator,t.validator]),e.asyncValidator=R.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&le(e,t)})}(e,t),function(e,t){e.registerOnChange(function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&le(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function le(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function ue(e,t){var n;throw n=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+n)}function ce(e){return null!=e?R.compose(e.map(Z)):null}function he(e){return null!=e?R.composeAsync(e.map(W)):null}var de=[G,K,V,te,ie,X],pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(I.c)(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return se(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return ce(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return he(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(O),fe=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}(),ge=function(e){function t(t){return e.call(this,t)||this}return Object(I.c)(t,e),t}(fe),me=function(e){function t(t){return e.call(this,t)||this}return Object(I.c)(t,e),t}(fe);function ve(e){var t=be(e)?e.validators:e;return Array.isArray(t)?ce(t):t||null}function ye(e,t){var n=be(t)?t.asyncValidators:e;return Array.isArray(n)?he(n):n||null}function be(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var we=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=ve(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=ye(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){void 0===e&&(e={}),this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)},e.prototype.markAsUntouched=function(e){void 0===e&&(e={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype.markAsDirty=function(e){void 0===e&&(e={}),this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)},e.prototype.markAsPristine=function(e){void 0===e&&(e={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype.markAsPending=function(e){void 0===e&&(e={}),this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)},e.prototype.disable=function(e){void 0===e&&(e={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(Object(I.a)({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!0)})},e.prototype.enable=function(e){void 0===e&&(e={}),this.status="VALID",this._forEachChild(function(t){t.enable(Object(I.a)({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!1)})},e.prototype._updateAncestors=function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){void 0===e&&(e={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)},e.prototype._updateTreeValidity=function(e){void 0===e&&(e={emitEvent:!0}),this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})},e.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=z(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return t.setErrors(n,{emitEvent:e})})}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){void 0===t&&(t={}),this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)},e.prototype.get=function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce(function(e,t){return e instanceof Ie?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof xe&&e.at(t)||null},e))}(this,e)},e.prototype.getError=function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null},e.prototype.hasError=function(e,t){return!!this.getError(e,t)},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this.valueChanges=new r.m,this.statusChanges=new r.m},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status===e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){void 0===e&&(e={}),this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype._updateTouched=function(e){void 0===e&&(e={}),this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype._isBoxedValue=function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e.prototype._setUpdateStrategy=function(e){be(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)},e}(),Ce=function(e){function t(t,n,r){void 0===t&&(t=null);var i=e.call(this,ve(n),ye(r,n))||this;return i._onChange=[],i._applyFormState(t),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return Object(I.c)(t,e),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(function(e){return e(n.value,!1!==t.emitViewToModelChange)}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null),void 0===t&&(t={}),this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e},t}(we),Ie=function(e){function t(t,n,r){var i=e.call(this,ve(n),ye(r,n))||this;return i.controls=t,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(I.c)(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){n._throwIfControlMissing(r),n.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),Object.keys(e).forEach(function(r){n.controls[r]&&n.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Ce?t.value:t.getRawValue(),e})},t.prototype._syncPendingControls=function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild(function(r,i){n=n||t.contains(i)&&e(r)}),n},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})},t.prototype._reduceChildren=function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=Object(I.h)(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return Object.keys(this.controls).length>0||this.disabled},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},t}(we),xe=function(e){function t(t,n,r){var i=e.call(this,ve(n),ye(r,n))||this;return i.controls=t,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return Object(I.c)(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),e.forEach(function(e,r){n._throwIfControlMissing(r),n.at(r).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),e.forEach(function(e,r){n.at(r)&&n.at(r).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e instanceof Ce?e.value:e.getRawValue()})},t.prototype._syncPendingControls=function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,n){e(t,n)})},t.prototype._updateValue=function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: "+n+".")})},t.prototype._allControlsDisabled=function(){var e,t;try{for(var n=Object(I.h)(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return this.controls.length>0||this.disabled},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(we),Ae=Promise.resolve(null),_e=function(e){function t(t,n){var i=e.call(this)||this;return i.submitted=!1,i._directives=[],i.ngSubmit=new r.m,i.form=new Ie({},ce(t),he(n)),i}return Object(I.c)(t,e),t.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this;Ae.then(function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),ae(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)})},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t=this;Ae.then(function(){var n,r,i=t._findContainer(e.path);i&&i.removeControl(e.name),(r=(n=t._directives).indexOf(e))>-1&&n.splice(r,1)})},t.prototype.addFormGroup=function(e){var t=this;Ae.then(function(){var n=t._findContainer(e.path),r=new Ie({});(function(e,t){null==e&&ue(t,"Cannot find control with"),e.validator=R.compose([e.validator,t.validator]),e.asyncValidator=R.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})},t.prototype.removeFormGroup=function(e){var t=this;Ae.then(function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)})},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){var n=this;Ae.then(function(){n.form.get(e.path).setValue(t)})},t.prototype.setValue=function(e){this.control.setValue(e)},t.prototype.onSubmit=function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},t.prototype._findContainer=function(e){return e.pop(),e.length?this.form.get(e):this.form},t}(O),Se=function(){function e(){}return e.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},e.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+J+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+Q)},e.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},e.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+J+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+Q)},e.ngFormWarning=function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")},e}(),De=new r.p("NgFormSelectorWarning"),Te=function(e){function t(t,n,r){var i=e.call(this)||this;return i._parent=t,i._validators=n,i._asyncValidators=r,i}var n;return Object(I.c)(t,e),n=t,t.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof _e||Se.modelGroupParentException()},t}(pe),ke=Promise.resolve(null),Ne=function(e){function t(t,n,i,o){var s=e.call(this)||this;return s.control=new Ce,s._registered=!1,s.update=new r.m,s._parent=t,s._rawValidators=n||[],s._rawAsyncValidators=i||[],s.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||ue(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach(function(t){var o;t.constructor===U?n=t:(o=t,de.some(function(e){return o.constructor===e})?(r&&ue(e,"More than one built-in value accessor matches form control with"),r=t):(i&&ue(e,"More than one custom value accessor matches form control with"),i=t))}),i||r||n||(ue(e,"No valid value accessor for form control with"),null)}(s,o),s}return Object(I.c)(t,e),t.prototype.ngOnChanges=function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object(r.vb)(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(t.prototype,"path",{get:function(){return this._parent?se(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return ce(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return he(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},t.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},t.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},t.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},t.prototype._setUpStandalone=function(){ae(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},t.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},t.prototype._checkParentType=function(){!(this._parent instanceof Te)&&this._parent instanceof pe?Se.formGroupNameException():this._parent instanceof Te||this._parent instanceof _e||Se.modelParentException()},t.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Se.missingNameException()},t.prototype._updateValue=function(e){var t=this;ke.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})},t.prototype._updateDisabled=function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;ke.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})},t}(H),Pe=function(){return function(){}}(),Me=function(){return function(){}}(),Oe=function(){function e(){}var t;return t=e,e.withConfig=function(e){return{ngModule:t,providers:[{provide:De,useValue:e.warnOnDeprecatedNgFormSelector}]}},e}(),Ee=n("Ip0R"),je=n("YvpU"),Re=n("QFq3"),Le=r.nb({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}#drawingboard[_ngcontent-%COMP%]{display:none;background:#fff;position:absolute;top:9.1%;left:4%;width:79%;height:85.5%;float:center}.tab[_ngcontent-%COMP%]{position:relative;top:-1.9%;left:-3.3%;width:100%;height:3.4%;z-index:3;background:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin:0 0 0 .1%;width:24.5%;height:28px;text-align:center;float:left;display:block;line-height:20px;list-style-type:none;cursor:pointer;color:#fff;background:#7ec0ee;border:1px solid #ddd;border-radius:4px;overflow:hidden;z-index:1}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.5;display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:focus{background-color:#36648b}.content[_ngcontent-%COMP%]{position:absolute;top:3.5%;left:0;width:100%;height:96.5%;float:left}#popLayer[_ngcontent-%COMP%]{display:none;background-color:#b3b3b3;position:absolute;top:0;left:0;z-index:10;width:100%;height:100%;-moz-opacity:.8;opacity:.8;filter:alpha(opacity=80)}.popBox[_ngcontent-%COMP%]{border-radius:5px;background-color:#fff;padding:10px;top:50%;width:480px;height:auto;border:1px solid #ccc;text-align:center;display:none;z-index:11;position:relative;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:0;bottom:0;margin:auto;overflow:hidden}#deletePopBox[_ngcontent-%COMP%]{display:none;background-color:#fff;border:1px solid #ccc;z-index:11;width:50px;height:20px;position:absolute;padding:5px}#LinkPopBox[_ngcontent-%COMP%]{width:45%}span[_ngcontent-%COMP%]{margin:20px;top:200px}.close[_ngcontent-%COMP%]{position:absolute;margin:0 2px 0 0;right:0;padding:8px 16px;border-radius:2px;font-size:14px;cursor:pointer;background-color:#f8f8f8;border:none}.close[_ngcontent-%COMP%]:hover{background-color:#2d2c3b;font-weight:400}.close[_ngcontent-%COMP%]:disabled{cursor:auto}.button[_ngcontent-%COMP%]{position:relative;margin:0 2px 0 0;display:-webkit-inline-box;display:inline-flex;float:center;top:20%;padding:8px 16px;border-radius:2px;font-size:14px;cursor:pointer;background-color:#f8f8f8;border:none}form[_ngcontent-%COMP%]{top:20px;border-radius:5px;background-color:#fff;padding:10px;margin:20px;width:420px;border:1px solid #ccc}textarea[_ngcontent-%COMP%]{font-size:30;width:400px;padding:10px;margin:10px;display:block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:400px;padding:10px;margin:10px;display:block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input.inputLeft[_ngcontent-%COMP%]{width:380px;padding:10px 0 10px 10px;margin:10px 0 10px 10px;float:left;position:relative;display:block;border:1px solid #ccc;border-right:#fff;border-radius:4px;box-sizing:border-box}select.inputRight[_ngcontent-%COMP%]{width:20px;padding:10px 10px 10px 0;margin:10px 10px 10px 0;position:relative;float:right;display:block;border:1px solid #ccc;border-left:#fff;border-radius:4px;box-sizing:border-box}input[type=checkbox][_ngcontent-%COMP%]{width:20px;height:30px;padding:10px 0 10px 10px;margin:10px 0 10px 10px;float:left;position:relative;display:block;border:1px solid #ccc;border-right:#fff;border-radius:4px;box-sizing:border-box}.checkboxText[_ngcontent-%COMP%]{width:370px;height:30px;margin:15px 10px 10px 0;position:relative;float:right;display:block;text-align:left}.phes[_ngcontent-%COMP%]{width:400px;padding:10px;margin:10px;display:block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}input[type=submit][_ngcontent-%COMP%]{width:100px;background-color:#1874cd;color:#fff;padding:10px;margin:10px;border:none;border-radius:4px;cursor:pointer}.button1[_ngcontent-%COMP%]{position:relative;left:10px}.button2[_ngcontent-%COMP%]{position:relative;left:30px}.button3_1[_ngcontent-%COMP%]{position:relative;left:0}.button3_2[_ngcontent-%COMP%]{position:relative;left:10px}.button3_3[_ngcontent-%COMP%]{position:relative;left:20px}label[_ngcontent-%COMP%]{float:left;width:400px;text-align:left;line-height:25px;margin:10px;left:0;display:block}.content1[_ngcontent-%COMP%]{position:relative;height:100px;width:400px;margin:10px;padding:0;border:1px solid #ccc;overflow-y:scroll;overflow-x:hidden}.content1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:90%}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;margin:0;padding:0;overflow:hidden}td[_ngcontent-%COMP%]:hover{background-color:#eee;font-weight:400}.delete[_ngcontent-%COMP%]{position:absolute;display:none;background-color:#fff;height:40px;width:60px;margin:0;padding:10px;border:1px solid #ccc;z-index:11}"]],data:{}});function ze(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["id","lm1"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.change_Menu(1)&&r),r},null,null)),(e()(),r.Cb(1,null,[""," "]))],null,function(e,t){e(t,1,0,t.component.dg_service.tab1)})}function Fe(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["id","lm2"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.change_Menu(2)&&r),r},null,null)),(e()(),r.Cb(1,null,[""," "]))],null,function(e,t){e(t,1,0,t.component.dg_service.tab2)})}function Be(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(2,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(3,null,[" "," "]))],function(e,t){e(t,1,0,r.rb(1,"",t.context.$implicit.name,"")),e(t,2,0,r.rb(1,"",t.context.$implicit.name,""))},function(e,t){e(t,3,0,t.context.$implicit.name)})}function Ge(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==i.dg_service.selectPhenomenon(i,e.context.$implicit.no)&&r),r},null,null)),(e()(),r.Cb(2,null,[" ","! ","\xa0 "," "]))],null,function(e,t){e(t,2,0,t.context.$implicit.from,t.context.$implicit.name,t.context.$implicit.type)})}function Ue(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(2,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(3,null,[" "," "]))],function(e,t){e(t,1,0,r.rb(1,"",t.context.$implicit,"")),e(t,2,0,r.rb(1,"",t.context.$implicit,""))},function(e,t){e(t,3,0,t.context.$implicit)})}function Ze(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(2,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(3,null,[" "," "]))],function(e,t){e(t,1,0,r.rb(1,"",t.context.$implicit,"")),e(t,2,0,r.rb(1,"",t.context.$implicit,""))},function(e,t){e(t,3,0,t.context.$implicit)})}function We(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(2,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(3,null,[" "," "]))],function(e,t){e(t,1,0,r.rb(1,"",t.context.$implicit.name,"")),e(t,2,0,r.rb(1,"",t.context.$implicit.name,""))},function(e,t){e(t,3,0,t.context.$implicit.name)})}function Ve(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==i.dg_service.selectPhenomenon(i,e.context.$implicit.no)&&r),r},null,null)),(e()(),r.Cb(2,null,[" ","! ","\xa0 "," "]))],null,function(e,t){e(t,2,0,t.context.$implicit.from,t.context.$implicit.name,t.context.$implicit.type)})}function Ye(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ne,[r.k,r.D,[8,null]],null,null),r.ob(2,147456,null,0,oe,[r.k,r.D,[8,null]],null,null),(e()(),r.Cb(3,null,[" "," "]))],null,function(e,t){e(t,3,0,t.context.$implicit)})}function He(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ne,[r.k,r.D,[8,null]],null,null),r.ob(2,147456,null,0,oe,[r.k,r.D,[8,null]],null,null),(e()(),r.Cb(3,null,[" "," "]))],null,function(e,t){e(t,3,0,t.context.$implicit)})}function qe(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),r.ob(1,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(2,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(3,null,[" "," "]))],function(e,t){e(t,1,0,r.rb(1,"",t.context.$implicit.name,"")),e(t,2,0,r.rb(1,"",t.context.$implicit.name,""))},function(e,t){e(t,3,0,t.context.$implicit.name)})}function Xe(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,[[null,"click"]],function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==i.dg_service.selectPhenomenon(i,e.context.$implicit.no)&&r),r},null,null)),(e()(),r.Cb(2,null,[" ","! ","\xa0 "," "]))],null,function(e,t){e(t,2,0,t.context.$implicit.from,t.context.$implicit.name,t.context.$implicit.type)})}function Ke(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,259,"div",[["id","drawingboard"]],null,[["window","resize"]],function(e,t,n){var r=!0;return"window:resize"===t&&(r=!1!==e.component.onResize(n)&&r),r},null,null)),(e()(),r.pb(1,0,null,null,4,"ul",[["class","tab"],["id","tablabel"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,ze)),r.ob(3,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(e()(),r.gb(16777216,null,null,1,null,Fe)),r.ob(5,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(e()(),r.pb(6,0,null,null,0,"div",[["class","content"],["id","content1"],["style","display: block;"]],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,0,"div",[["class","content"],["id","content2"],["style","display: none;"]],null,null,null,null,null)),(e()(),r.pb(8,0,null,null,0,"div",[["id","popLayer"]],null,null,null,null,null)),(e()(),r.pb(9,0,null,null,17,"div",[["class","popBox"],["id","machinePopBox"]],null,null,null,null,null)),(e()(),r.pb(10,0,null,null,1,"span",[["class","machineEdit"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Machine Editor"])),(e()(),r.pb(12,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(14,0,null,null,10,"form",[["action",""],["class","element-input"],["method","post"],["name","elementInputForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,16).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,16).onReset()&&i),i},null,null)),r.ob(15,16384,null,0,Pe,[],null,null),r.ob(16,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(18,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(19,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Description"])),(e()(),r.pb(21,0,null,null,0,"textarea",[["class","description"]],null,null,null,null,null)),(e()(),r.pb(22,0,null,null,1,"label",[["for","shortName"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["ShortName"])),(e()(),r.pb(24,0,null,null,0,"input",[["class","shortName"],["name","shortName"],["ng-model","a"],["required",""],["type","text"]],null,null,null,null,null)),(e()(),r.pb(25,0,null,null,0,"input",[["class","button1"],["type","submit"],["value","Confirm"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.confirm()&&r),r},null,null)),(e()(),r.pb(26,0,null,null,0,"input",[["class","button2"],["type","submit"],["value","Cancel"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.pb(27,0,null,null,43,"div",[["class","popBox"],["id","problemDomainPopBox"]],null,null,null,null,null)),(e()(),r.pb(28,0,null,null,1,"span",[["class","problemDomainEdit"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Problem Domain Editor"])),(e()(),r.pb(30,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(32,0,null,null,36,"form",[["action",""],["class","element-input"],["method","post"],["name","elementInputForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,34).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,34).onReset()&&i),i},null,null)),r.ob(33,16384,null,0,Pe,[],null,null),r.ob(34,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(36,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(37,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Description"])),(e()(),r.pb(39,0,null,null,0,"textarea",[["class","description"]],null,null,null,null,null)),(e()(),r.pb(40,0,null,null,1,"label",[["for","shortName"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["ShortName"])),(e()(),r.pb(42,0,null,null,0,"input",[["class","shortName"],["name","shortName"],["ng-model","a"],["required",""],["type","text"]],null,null,null,null,null)),(e()(),r.pb(43,0,null,null,1,"label",[["for","physicalProperty"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" Physical Property"])),(e()(),r.pb(45,0,null,null,8,"select",[["class","physicalProperty"]],null,null,null,null,null)),(e()(),r.pb(46,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(47,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(48,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(49,null,["",""])),(e()(),r.pb(50,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(51,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(52,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(53,null,["",""])),(e()(),r.pb(54,0,null,null,1,"label",[["for","domainType"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" DomainType"])),(e()(),r.pb(56,0,null,null,12,"select",[["class","domainType"]],null,null,null,null,null)),(e()(),r.pb(57,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(58,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(59,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(60,null,["",""])),(e()(),r.pb(61,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(62,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(63,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(64,null,["",""])),(e()(),r.pb(65,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(66,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(67,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(68,null,["",""])),(e()(),r.pb(69,0,null,null,0,"input",[["class","button1"],["type","submit"],["value","Confirm"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.confirm()&&r),r},null,null)),(e()(),r.pb(70,0,null,null,0,"input",[["class","button2"],["type","submit"],["value","Cancel"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.pb(71,0,null,null,17,"div",[["class","popBox"],["id","requirementPopBox"]],null,null,null,null,null)),(e()(),r.pb(72,0,null,null,1,"span",[["class","requirementEdit"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["requirement Editor"])),(e()(),r.pb(74,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(76,0,null,null,10,"form",[["action",""],["class","element-input"],["method","post"],["name","elementInputForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,78).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,78).onReset()&&i),i},null,null)),r.ob(77,16384,null,0,Pe,[],null,null),r.ob(78,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(80,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(81,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Description"])),(e()(),r.pb(83,0,null,null,0,"textarea",[["class","description"]],null,null,null,null,null)),(e()(),r.pb(84,0,null,null,1,"label",[["for","shortName"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["ShortName"])),(e()(),r.pb(86,0,null,null,0,"input",[["class","shortName"],["name","shortName"],["ng-model","a"],["required",""],["type","text"]],null,null,null,null,null)),(e()(),r.pb(87,0,null,null,0,"input",[["class","button1"],["type","submit"],["value","Confirm"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.confirm()&&r),r},null,null)),(e()(),r.pb(88,0,null,null,0,"input",[["class","button2"],["type","submit"],["value","Cancel"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.pb(89,0,null,null,54,"div",[["class","popBox"],["id","interfacePopBox"]],null,null,null,null,null)),(e()(),r.pb(90,0,null,null,1,"span",[["class","linkEdit"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Interface Editor"])),(e()(),r.pb(92,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(94,0,null,null,46,"form",[["action",""],["class","element-input"],["method","post"],["name","elementInputForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,96).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,96).onReset()&&i),i},null,null)),r.ob(95,16384,null,0,Pe,[],null,null),r.ob(96,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(98,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(99,0,null,null,1,"label",[["for","initiator"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Initiator:"])),(e()(),r.pb(101,0,null,null,8,"select",[["class","initiator"]],null,null,null,null,null)),(e()(),r.pb(102,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(103,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(104,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(105,null,["",""])),(e()(),r.pb(106,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(107,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(108,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(109,null,["",""])),(e()(),r.pb(110,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["phenomenon"])),(e()(),r.pb(112,0,null,null,0,"input",[["class","name inputLeft"],["id","nameint"],["name","name"],["ng-model","a"],["required",""],["type","text"]],null,null,null,null,null)),(e()(),r.pb(113,0,null,null,5,"select",[["class","phes inputRight"],["onchange","document.getElementById('nameint').value = this.options[this.selectedIndex].value"]],null,null,null,null,null)),(e()(),r.pb(114,0,null,null,2,"option",[["value"," "]],null,null,null,null,null)),r.ob(115,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(116,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.gb(16777216,null,null,1,null,Be)),r.ob(118,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(119,0,null,null,1,"label",[["for","phenomenonType"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" Type"])),(e()(),r.pb(121,0,null,null,12,"select",[["class","phenomenonType"]],null,null,null,null,null)),(e()(),r.pb(122,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(123,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(124,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(125,null,["",""])),(e()(),r.pb(126,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(127,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(128,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(129,null,["",""])),(e()(),r.pb(130,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(131,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(132,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(133,null,["",""])),(e()(),r.pb(134,0,null,null,1,"label",[["for","phenomenonList"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" phenomenonList"])),(e()(),r.pb(136,0,null,null,4,"div",[["class","content1"]],null,null,null,null,null)),(e()(),r.pb(137,0,null,null,3,"table",[["class","phenomenonList"]],null,null,null,null,null)),(e()(),r.pb(138,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Ge)),r.ob(140,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(141,0,null,null,0,"input",[["class","button3_1"],["id","button_add"],["type","submit"],["value","add"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.dg_service.addInterfacePhenomenon()&&r),r},null,null)),(e()(),r.pb(142,0,null,null,0,"input",[["class","button3_2"],["id","button_delete"],["type","submit"],["value","delete"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.dg_service.deletePhenomenon()&&r),r},null,null)),(e()(),r.pb(143,0,null,null,0,"input",[["class","button3_3"],["id","button_confirm"],["type","submit"],["value","Confirm"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.confirm()&&r),r},null,null)),(e()(),r.pb(144,0,null,null,56,"div",[["class","popBox"],["id","referencePopBox"]],null,null,null,null,null)),(e()(),r.pb(145,0,null,null,1,"span",[["class","linkEdit"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Reference Editor"])),(e()(),r.pb(147,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(149,0,null,null,51,"form",[["action",""],["class","element-input"],["method","post"],["name","elementInputForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,151).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,151).onReset()&&i),i},null,null)),r.ob(150,16384,null,0,Pe,[],null,null),r.ob(151,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(153,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(154,0,null,null,1,"label",[["for","initiator"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Initiator:"])),(e()(),r.pb(156,0,null,null,2,"select",[["class","initiator"]],null,[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.dg_service.changereceiver()&&r),r},null,null)),(e()(),r.gb(16777216,null,null,1,null,Ue)),r.ob(158,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(159,0,null,null,1,"label",[["for","receiver"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Receiver:"])),(e()(),r.pb(161,0,null,null,2,"select",[["class","receiver"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Ze)),r.ob(163,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(164,0,null,null,1,"label",[["for","phenomenonSelect"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" phenomenon"])),(e()(),r.pb(166,0,null,null,0,"input",[["class","name inputLeft"],["id","nameref"],["name","name"],["ng-model","a"],["required",""],["type","text"]],null,null,null,null,null)),(e()(),r.pb(167,0,null,null,5,"select",[["class","phes inputRight"]],null,[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.dg_service.selectPhe()&&r),r},null,null)),(e()(),r.pb(168,0,null,null,2,"option",[["value",""]],null,null,null,null,null)),r.ob(169,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(170,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.gb(16777216,null,null,1,null,We)),r.ob(172,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(173,0,null,null,1,"label",[["for","phenomenonType"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" Type"])),(e()(),r.pb(175,0,null,null,12,"select",[["class","phenomenonType"]],null,null,null,null,null)),(e()(),r.pb(176,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(177,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(178,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(179,null,["",""])),(e()(),r.pb(180,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(181,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(182,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(183,null,["",""])),(e()(),r.pb(184,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(185,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(186,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(187,null,["",""])),(e()(),r.pb(188,0,null,null,0,"input",[["class","checkbox"],["type","checkbox"]],null,null,null,null,null)),(e()(),r.pb(189,0,null,null,1,"div",[["class","checkboxText"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" constraint "])),(e()(),r.pb(191,0,null,null,1,"label",[["for","phenomenonList"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" phenomenonList"])),(e()(),r.pb(193,0,null,null,4,"div",[["class","content1"]],null,null,null,null,null)),(e()(),r.pb(194,0,null,null,3,"table",[["class","referencePhenomenonList"]],null,null,null,null,null)),(e()(),r.pb(195,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Ve)),r.ob(197,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(198,0,null,null,0,"input",[["class","button3_1"],["id","ref_button_add"],["type","submit"],["value","add"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.dg_service.addReferencePhenomenon()&&r),r},null,null)),(e()(),r.pb(199,0,null,null,0,"input",[["class","button3_2"],["id","ref_button_delete"],["type","submit"],["value","delete"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.dg_service.deletePhenomenon()&&r),r},null,null)),(e()(),r.pb(200,0,null,null,0,"input",[["class","button3_3"],["id","ref_button_confirm"],["type","submit"],["value","Confirm"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.confirm()&&r),r},null,null)),(e()(),r.pb(201,0,null,null,56,"div",[["class","popBox"],["id","constraintPopBox"]],null,null,null,null,null)),(e()(),r.pb(202,0,null,null,1,"span",[["class","constraint Edit"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["constraint Editor"])),(e()(),r.pb(204,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox(n)&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(206,0,null,null,51,"form",[["action",""],["class","element-input"],["method","post"],["name","elementInputForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,208).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,208).onReset()&&i),i},null,null)),r.ob(207,16384,null,0,Pe,[],null,null),r.ob(208,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(210,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(211,0,null,null,1,"label",[["for","initiator"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Initiator"])),(e()(),r.pb(213,0,null,null,2,"select",[["class","initiator"]],null,[[null,"change"]],function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.dg_service.changereceiver()&&r),r},null,null)),(e()(),r.gb(16777216,null,null,1,null,Ye)),r.ob(215,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(216,0,null,null,1,"label",[["for","receiver"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Receiver"])),(e()(),r.pb(218,0,null,null,2,"select",[["class","receiver"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,He)),r.ob(220,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(221,0,null,null,1,"label",[["for","name"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["phenomenon"])),(e()(),r.pb(223,0,null,null,0,"input",[["class","name inputLeft"],["id","namecon"],["name","name"],["ng-model","a"],["required",""],["type","text"]],null,null,null,null,null)),(e()(),r.pb(224,0,null,null,5,"select",[["class","phes inputRight"],["onchange","document.getElementById('namecon').value = this.options[this.selectedIndex].value"]],null,null,null,null,null)),(e()(),r.pb(225,0,null,null,2,"option",[["value",""]],null,null,null,null,null)),r.ob(226,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(227,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.gb(16777216,null,null,1,null,qe)),r.ob(229,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(230,0,null,null,1,"label",[["for","phenomenonType"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" Type"])),(e()(),r.pb(232,0,null,null,12,"select",[["class","phenomenonType"]],null,null,null,null,null)),(e()(),r.pb(233,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(234,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(235,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(236,null,["",""])),(e()(),r.pb(237,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(238,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(239,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(240,null,["",""])),(e()(),r.pb(241,0,null,null,3,"option",[["value",""]],null,null,null,null,null)),r.ob(242,147456,null,0,ne,[r.k,r.D,[8,null]],{value:[0,"value"]},null),r.ob(243,147456,null,0,oe,[r.k,r.D,[8,null]],{value:[0,"value"]},null),(e()(),r.Cb(244,null,["",""])),(e()(),r.pb(245,0,null,null,0,"input",[["class","checkbox"],["type","checkbox"]],null,null,null,null,null)),(e()(),r.pb(246,0,null,null,1,"div",[["class","checkboxText"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" constraint "])),(e()(),r.pb(248,0,null,null,1,"label",[["for","phenomenonList"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" phenomenonList"])),(e()(),r.pb(250,0,null,null,4,"div",[["class","content1"]],null,null,null,null,null)),(e()(),r.pb(251,0,null,null,3,"table",[["class","phenomenonList"]],null,null,null,null,null)),(e()(),r.pb(252,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Xe)),r.ob(254,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(255,0,null,null,0,"input",[["class","button3_1"],["id","con_button_add"],["type","submit"],["value","add"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.dg_service.addConstraintPhenomenon()&&r),r},null,null)),(e()(),r.pb(256,0,null,null,0,"input",[["class","button3_2"],["id","con_button_delete"],["type","submit"],["value","delete"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.dg_service.deletePhenomenon()&&r),r},null,null)),(e()(),r.pb(257,0,null,null,0,"input",[["class","button3_3"],["id","con_button_confirm"],["type","submit"],["value","Confirm"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.confirm()&&r),r},null,null)),(e()(),r.pb(258,0,null,null,1,"div",[["class","popBox"],["id","deletePopBox"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteCell()&&r),r},null,null)),(e()(),r.Cb(-1,null,[" delete "]))],function(e,t){var n=t.component;e(t,3,0,n.project),e(t,5,0,n.project),e(t,47,0,""),e(t,48,0,""),e(t,51,0,""),e(t,52,0,""),e(t,58,0,""),e(t,59,0,""),e(t,62,0,""),e(t,63,0,""),e(t,66,0,""),e(t,67,0,""),e(t,103,0,""),e(t,104,0,""),e(t,107,0,""),e(t,108,0,""),e(t,115,0," "),e(t,116,0," "),e(t,118,0,n.dg_service.selectPhes),e(t,123,0,""),e(t,124,0,""),e(t,127,0,""),e(t,128,0,""),e(t,131,0,""),e(t,132,0,""),e(t,140,0,n.dg_service.phenomenonList),e(t,158,0,n.dg_service.initiator_receiverList),e(t,163,0,n.dg_service.initiator_or_receiverList),e(t,169,0,""),e(t,170,0,""),e(t,172,0,n.dg_service.interface_ontologyPhes),e(t,177,0,""),e(t,178,0,""),e(t,181,0,""),e(t,182,0,""),e(t,185,0,""),e(t,186,0,""),e(t,197,0,n.dg_service.phenomenonList),e(t,215,0,n.dg_service.initiator_receiverList),e(t,220,0,n.dg_service.initiator_or_receiverList),e(t,226,0,""),e(t,227,0,""),e(t,229,0,n.dg_service.interface_ontologyPhes),e(t,234,0,""),e(t,235,0,""),e(t,238,0,""),e(t,239,0,""),e(t,242,0,""),e(t,243,0,""),e(t,254,0,n.dg_service.phenomenonList)},function(e,t){var n=t.component;e(t,14,0,r.yb(t,18).ngClassUntouched,r.yb(t,18).ngClassTouched,r.yb(t,18).ngClassPristine,r.yb(t,18).ngClassDirty,r.yb(t,18).ngClassValid,r.yb(t,18).ngClassInvalid,r.yb(t,18).ngClassPending),e(t,32,0,r.yb(t,36).ngClassUntouched,r.yb(t,36).ngClassTouched,r.yb(t,36).ngClassPristine,r.yb(t,36).ngClassDirty,r.yb(t,36).ngClassValid,r.yb(t,36).ngClassInvalid,r.yb(t,36).ngClassPending),e(t,49,0,n.PhysicalPropertys[0]),e(t,53,0,n.PhysicalPropertys[1]),e(t,60,0,n.DomainTypes[0]),e(t,64,0,n.DomainTypes[1]),e(t,68,0,n.DomainTypes[2]),e(t,76,0,r.yb(t,80).ngClassUntouched,r.yb(t,80).ngClassTouched,r.yb(t,80).ngClassPristine,r.yb(t,80).ngClassDirty,r.yb(t,80).ngClassValid,r.yb(t,80).ngClassInvalid,r.yb(t,80).ngClassPending),e(t,94,0,r.yb(t,98).ngClassUntouched,r.yb(t,98).ngClassTouched,r.yb(t,98).ngClassPristine,r.yb(t,98).ngClassDirty,r.yb(t,98).ngClassValid,r.yb(t,98).ngClassInvalid,r.yb(t,98).ngClassPending),e(t,105,0,n.dg_service.selectedLinkSource),e(t,109,0,n.dg_service.selectedLinkTarget),e(t,125,0,n.phenomenonTypes[0]),e(t,129,0,n.phenomenonTypes[1]),e(t,133,0,n.phenomenonTypes[2]),e(t,149,0,r.yb(t,153).ngClassUntouched,r.yb(t,153).ngClassTouched,r.yb(t,153).ngClassPristine,r.yb(t,153).ngClassDirty,r.yb(t,153).ngClassValid,r.yb(t,153).ngClassInvalid,r.yb(t,153).ngClassPending),e(t,179,0,n.phenomenonTypes[0]),e(t,183,0,n.phenomenonTypes[1]),e(t,187,0,n.phenomenonTypes[2]),e(t,206,0,r.yb(t,210).ngClassUntouched,r.yb(t,210).ngClassTouched,r.yb(t,210).ngClassPristine,r.yb(t,210).ngClassDirty,r.yb(t,210).ngClassValid,r.yb(t,210).ngClassInvalid,r.yb(t,210).ngClassPending),e(t,236,0,n.phenomenonTypes[0]),e(t,240,0,n.phenomenonTypes[1]),e(t,244,0,n.phenomenonTypes[2])})}function Je(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"app-drawingboard",[],null,null,null,Ke,Le)),r.ob(1,114688,null,0,je.a,[Re.a,v.a,a.a,s.a,o.a,P.d],null,null)],function(e,t){e(t,1,0)},null)}var Qe=r.lb("app-drawingboard",je.a,Je,{},{},[]),$e=function(){function e(e){this.rawFile=e;var t,n=(t=e)&&(t.nodeName||t.prop&&t.attr&&t.find)?e.value:e;this["_createFrom"+("string"==typeof n?"FakePath":"Object")](n)}return e.prototype._createFromFakePath=function(e){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+e.slice(e.lastIndexOf(".")+1).toLowerCase(),this.name=e.slice(e.lastIndexOf("/")+e.lastIndexOf("\\")+2)},e.prototype._createFromObject=function(e){this.size=e.size,this.type=e.type,this.name=e.name},e}(),et=function(){function e(e,t,n){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=e,this.some=t,this.options=n,this.file=new $e(t),this._file=t,e.options&&(this.method=e.options.method||"POST",this.alias=e.options.itemAlias||"file"),this.url=e.options.url}return e.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(e){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},e.prototype.cancel=function(){this.uploader.cancelItem(this)},e.prototype.remove=function(){this.uploader.removeFromQueue(this)},e.prototype.onBeforeUpload=function(){},e.prototype.onBuildForm=function(e){return{form:e}},e.prototype.onProgress=function(e){return{progress:e}},e.prototype.onSuccess=function(e,t,n){return{response:e,status:t,headers:n}},e.prototype.onError=function(e,t,n){return{response:e,status:t,headers:n}},e.prototype.onCancel=function(e,t,n){return{response:e,status:t,headers:n}},e.prototype.onComplete=function(e,t,n){return{response:e,status:t,headers:n}},e.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},e.prototype._onBuildForm=function(e){this.onBuildForm(e)},e.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},e.prototype._onSuccess=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(e,t,n)},e.prototype._onError=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(e,t,n)},e.prototype._onCancel=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(e,t,n)},e.prototype._onComplete=function(e,t,n){this.onComplete(e,t,n),this.uploader.options.removeAfterUpload&&this.remove()},e.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},e}(),tt=function(){function e(){}return e.getMimeClass=function(e){var t="application";return-1!==this.mime_psd.indexOf(e.type)?t="image":e.type.match("image.*")?t="image":e.type.match("video.*")?t="video":e.type.match("audio.*")?t="audio":"application/pdf"===e.type?t="pdf":-1!==this.mime_compress.indexOf(e.type)?t="compress":-1!==this.mime_doc.indexOf(e.type)?t="doc":-1!==this.mime_xsl.indexOf(e.type)?t="xls":-1!==this.mime_ppt.indexOf(e.type)&&(t="ppt"),"application"===t&&(t=this.fileTypeDetection(e.name)),t},e.fileTypeDetection=function(e){var t={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},n=e.split(".");if(n.length<2)return"application";var r=n[n.length-1].toLowerCase();return void 0===t[r]?"application":t[r]},e.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],e.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],e.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],e.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],e.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],e}(),nt=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},rt=function(){function e(e){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(e){return e._file},formatDataFunctionIsAsync:!1},this.setOptions(e),this.response=new r.m}return e.prototype.setOptions=function(e){this.options=Object.assign(this.options,e),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var t=0;t<this.queue.length;t++)this.queue[t].url=this.options.url},e.prototype.addToQueue=function(e,t,n){var r,i,o=this,s=[];try{for(var a=nt(e),l=a.next();!l.done;l=a.next())s.push(l.value)}catch(d){r={error:d}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}var u=this._getFilters(n),c=this.queue.length,h=[];s.map(function(e){t||(t=o.options);var n=new $e(e);if(o._isValidFile(n,u,t)){var r=new et(o,e,t);h.push(r),o.queue.push(r),o._onAfterAddingFile(r)}else o._onWhenAddingFileFailed(n,u[o._failFilterIndex],t)}),this.queue.length!==c&&(this._onAfterAddingAll(h),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},e.prototype.removeFromQueue=function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),this.progress=this._getTotalProgress()},e.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},e.prototype.uploadItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],r=this.options.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[r](n))},e.prototype.cancelItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n&&n.isUploading&&(this.options.isHTML5?n._xhr:n._form).abort()},e.prototype.uploadAll=function(){var e=this.getNotUploadedItems().filter(function(e){return!e.isUploading});e.length&&(e.map(function(e){return e._prepareToUploading()}),e[0].upload())},e.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(e){return e.cancel()})},e.prototype.isFile=function(e){return function(e){return File&&e instanceof File}(e)},e.prototype.isFileLikeObject=function(e){return e instanceof $e},e.prototype.getIndexOfItem=function(e){return"number"==typeof e?e:this.queue.indexOf(e)},e.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},e.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},e.prototype.destroy=function(){},e.prototype.onAfterAddingAll=function(e){return{fileItems:e}},e.prototype.onBuildItemForm=function(e,t){return{fileItem:e,form:t}},e.prototype.onAfterAddingFile=function(e){return{fileItem:e}},e.prototype.onWhenAddingFileFailed=function(e,t,n){return{item:e,filter:t,options:n}},e.prototype.onBeforeUploadItem=function(e){return{fileItem:e}},e.prototype.onProgressItem=function(e,t){return{fileItem:e,progress:t}},e.prototype.onProgressAll=function(e){return{progress:e}},e.prototype.onSuccessItem=function(e,t,n,r){return{item:e,response:t,status:n,headers:r}},e.prototype.onErrorItem=function(e,t,n,r){return{item:e,response:t,status:n,headers:r}},e.prototype.onCancelItem=function(e,t,n,r){return{item:e,response:t,status:n,headers:r}},e.prototype.onCompleteItem=function(e,t,n,r){return{item:e,response:t,status:n,headers:r}},e.prototype.onCompleteAll=function(){},e.prototype._mimeTypeFilter=function(e){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(e.type))},e.prototype._fileSizeFilter=function(e){return!(this.options.maxFileSize&&e.size>this.options.maxFileSize)},e.prototype._fileTypeFilter=function(e){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(tt.getMimeClass(e)))},e.prototype._onErrorItem=function(e,t,n,r){e._onError(t,n,r),this.onErrorItem(e,t,n,r)},e.prototype._onCompleteItem=function(e,t,n,r){e._onComplete(t,n,r),this.onCompleteItem(e,t,n,r);var i=this.getReadyItems()[0];this.isUploading=!1,i?i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())},e.prototype._headersGetter=function(e){return function(t){return t?e[t.toLowerCase()]||void 0:e}},e.prototype._xhrTransport=function(e){var t,n,r,i,o,s=this,a=this,l=e._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(e),"number"!=typeof e._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)o=this.options.formatDataFunction(e);else{o=new FormData,this._onBuildItemForm(e,o);var u=function(){return o.append(e.alias,e._file,e.file.name)};this.options.parametersBeforeFiles||u(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(t){var n=s.options.additionalParameter[t];"string"==typeof n&&n.indexOf("{{file_name}}")>=0&&(n=n.replace("{{file_name}}",e.file.name)),o.append(t,n)}),this.options.parametersBeforeFiles&&u()}if(l.upload.onprogress=function(t){var n=Math.round(t.lengthComputable?100*t.loaded/t.total:0);s._onProgressItem(e,n)},l.onload=function(){var t=s._parseHeaders(l.getAllResponseHeaders()),n=s._transformResponse(l.response,t),r=s._isSuccessCode(l.status)?"Success":"Error";s["_on"+r+"Item"](e,n,l.status,t),s._onCompleteItem(e,n,l.status,t)},l.onerror=function(){var t=s._parseHeaders(l.getAllResponseHeaders()),n=s._transformResponse(l.response,t);s._onErrorItem(e,n,l.status,t),s._onCompleteItem(e,n,l.status,t)},l.onabort=function(){var t=s._parseHeaders(l.getAllResponseHeaders()),n=s._transformResponse(l.response,t);s._onCancelItem(e,n,l.status,t),s._onCompleteItem(e,n,l.status,t)},l.open(e.method,e.url,!0),l.withCredentials=e.withCredentials,this.options.headers)try{for(var c=nt(this.options.headers),h=c.next();!h.done;h=c.next())l.setRequestHeader((f=h.value).name,f.value)}catch(g){t={error:g}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}if(e.headers.length)try{for(var d=nt(e.headers),p=d.next();!p.done;p=d.next()){var f;l.setRequestHeader((f=p.value).name,f.value)}}catch(m){r={error:m}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}this.authToken&&l.setRequestHeader(this.authTokenHeader,this.authToken),l.onreadystatechange=function(){l.readyState==XMLHttpRequest.DONE&&a.response.emit(l.responseText)},this.options.formatDataFunctionIsAsync?o.then(function(e){return l.send(JSON.stringify(e))}):l.send(o),this._render()},e.prototype._getTotalProgress=function(e){if(void 0===e&&(e=0),this.options.removeAfterUpload)return e;var t=this.getNotUploadedItems().length,n=100/this.queue.length;return Math.round((t?this.queue.length-t:this.queue.length)*n+e*n/100)},e.prototype._getFilters=function(e){if(!e)return this.options.filters;if(Array.isArray(e))return e;if("string"==typeof e){var t=e.match(/[^\s,]+/g);return this.options.filters.filter(function(e){return-1!==t.indexOf(e.name)})}return this.options.filters},e.prototype._render=function(){},e.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},e.prototype._isValidFile=function(e,t,n){var r=this;return this._failFilterIndex=-1,!t.length||t.every(function(t){return r._failFilterIndex++,t.fn.call(r,e,n)})},e.prototype._isSuccessCode=function(e){return e>=200&&e<300||304===e},e.prototype._transformResponse=function(e,t){return e},e.prototype._parseHeaders=function(e){var t,n,r,i={};return e?(e.split("\n").map(function(e){r=e.indexOf(":"),t=e.slice(0,r).trim().toLowerCase(),n=e.slice(r+1).trim(),t&&(i[t]=i[t]?i[t]+", "+n:n)}),i):i},e.prototype._onWhenAddingFileFailed=function(e,t,n){this.onWhenAddingFileFailed(e,t,n)},e.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},e.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},e.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},e.prototype._onBuildItemForm=function(e,t){e._onBuildForm(t),this.onBuildItemForm(e,t)},e.prototype._onProgressItem=function(e,t){var n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()},e.prototype._onSuccessItem=function(e,t,n,r){e._onSuccess(t,n,r),this.onSuccessItem(e,t,n,r)},e.prototype._onCancelItem=function(e,t,n,r){e._onCancel(t,n,r),this.onCancelItem(e,t,n,r)},e}(),it=function(){function e(e){this.onFileSelected=new r.m,this.element=e}return e.prototype.getOptions=function(){return this.uploader.options},e.prototype.getFilters=function(){return{}},e.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},e.prototype.onChange=function(){var e=this.element.nativeElement.files,t=this.getOptions(),n=this.getFilters();this.uploader.addToQueue(e,t,n),this.onFileSelected.emit(e),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},e}(),ot=function(){return function(){}}(),st=function(){function e(e,t,n,i,o,s,a){var l=this;this.route=e,this.fileService=t,this.projectService=n,this.dg_service=i,this.textService=o,this.location=s,this.component_choice_service=a,this.openEvent=new r.m,this.openOwlEvent=new r.m,this.openPOwlEvent=new r.m,this.uploader=new rt({method:"POST",itemAlias:"xmlFile",autoUpload:!1}),this.step=1,n.stepEmmited$.subscribe(function(e){l.step=e}),this.projectService.owlAddEmitted$.subscribe(function(e){l.owlAdd=e}),this.projectService.ontNameAddEmitted$.subscribe(function(e){l.powlName=e}),this.projectService.eOntNameAddEmitted$.subscribe(function(e){l.eowlName=e})}return e.prototype.ngOnInit=function(){},e.prototype.uploadFile=function(){document.getElementById("xmlFile").click()},e.prototype.selectedFileOnChanged=function(e){this.projectAddress=e.target.files[0].webkitRelativePath.split("/")[0],this.upload()},e.prototype.openProject=function(e){var t=this;"diagram"==e?this.displayDiagram():this.displayText(),this.fileService.searchProject().subscribe(function(e){t.projects=e,t.openEvent.emit(e)})},e.prototype.displayDiagram=function(){document.getElementById("leftbar").style.display="block",document.getElementById("drawingboard").style.display="block",document.getElementById("rightbar").style.display="block",document.getElementById("monaco-editor-id").style.display="none",this.editorType="diagram"},e.prototype.displayText=function(){document.getElementById("leftbar").style.display="none",document.getElementById("drawingboard").style.display="none",document.getElementById("rightbar").style.display="none",document.getElementById("monaco-editor-id").style.display="block",this.editorType="text"},e.prototype.switchInterface=function(){"text"==this.editorType?(this.displayDiagram(),this.editorType="diagram"):"diagram"==this.editorType&&(this.displayText(),this.editorType="text")},e.prototype.openEOwl=function(){var e=this;this.fileService.searchOwl("eowl").subscribe(function(t){e.owls=t,console.log(e.owls),e.openOwlEvent.emit(t)})},e.prototype.openPOwl=function(){var e=this;this.fileService.searchOwl("powl").subscribe(function(t){e.pOwls=t,console.log(t),e.openPOwlEvent.emit(t)})},e.prototype.newFile=function(e){"diagram"==e?this.displayDiagram():this.displayText(),this.fileService.newProject(!0)},e.prototype.merge=function(){this.step<3&&(this.component_choice_service.set_choice_false(),this.component_choice_service.merge=!0)},e.prototype.upload=function(){var e=this;console.log("this.fileService.setProject(this.projectAddress)"),this.fileService.setProject(this.projectAddress).subscribe(function(t){if(console.log(t),1==(t=!0)){alert("The project was imported successfully!"),e.fileService.uploadFile(e.uploader);var n=e;n.interval=setInterval(function(){clearInterval(n.interval),n.dg_service.getProject(n.projectAddress,void 0);var e=setInterval(function(){n.dg_service.isProjectNull||clearInterval(e),n.dg_service.register(n.dg_service.projectAddress,void 0,n.dg_service.project)},500),t=setInterval(function(){n.textService.isPfNull&&n.textService.getNotNullPf(n.projectAddress,void 0),n.textService.isPfNull||(clearInterval(t),n.textService.register(n.textService.projectAddress,void 0,""==n.textService.pf?"#"+n.textService.projectAddress+"#\n":n.textService.pf))},1e3)},1e3)}else alert("The project already exists!")})},e.prototype.saveProject=function(){var e=this,t=this.dg_service.project;this.projectAddress=this.dg_service.projectAddress,this.dg_service.changeLinkPosition(t),null!=t.contextDiagram.machine||0!=t.contextDiagram.problemDomainList.length||0!=t.problemDiagram.requirementList.length?this.fileService.saveProject(this.projectAddress,t).subscribe(function(t){return t&&(e.dg_service.isSaved=!0),t}):alert("\u9879\u76ee\u4e3a\u7a7a")},e.prototype.saveProjectAndPf=function(){var e=this,t=this.dg_service.project,n=this.textService.getText();this.projectAddress=this.dg_service.projectAddress,this.dg_service.changeLinkPosition(t),null!=t.contextDiagram.machine||0!=t.contextDiagram.problemDomainList.length||0!=t.problemDiagram.requirementList.length?this.fileService.saveProject(this.projectAddress,t).subscribe(function(t){t&&e.fileService.savePf(e.projectAddress,n).subscribe(function(t){e.dg_service.isSaved=!0,alert("save succeed!")})}):alert("\u9879\u76ee\u4e3a\u7a7a")},e.prototype.download=function(){var e="http://47.52.116.116:8098/file/download/"+this.dg_service.project.title+"/",t=document.createElement("form");document.body.appendChild(t),t.style.display="none",t.action=e,t.id="excel",t.method="post";var n=document.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n),t.submit()},e.prototype.format=function(){var e=this,t=this.dg_service.project;this.projectAddress=t.title,this.dg_service.changeLinkPosition(t),this.fileService.format(this.projectAddress,t).subscribe(function(t){t&&(alert("save succeed!"),e.format_download())})},e.prototype.format_download=function(){var e="http://47.52.116.116:8098/file/formatdownload/"+this.dg_service.project.title+"/",t=document.createElement("form");document.body.appendChild(t),t.style.display="none",t.action=e,t.id="excel",t.method="post";var n=document.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n),t.submit()},e.prototype.uploadPOwl=function(){this.uploader.clearQueue(),this.type="powl",void 0!==this.dg_service.project.title?(this.owlAdd=this.dg_service.project.title,this.projectService.sendOwlAdd(this.owlAdd),document.getElementById("ontologyFile").click()):alert("Please new a project!")},e.prototype.uploadEOwl=function(){this.uploader.clearQueue(),this.type="eowl",null==this.owlAdd&&(this.owlAdd=this.dg_service.project.title,this.projectService.sendOwlAdd(this.owlAdd)),document.getElementById("ontologyFile").click()},e.prototype.selectedOWLOnChanged=function(e){"powl"===this.type?(this.powlName=this.uploader.queue[0].file.name,this.projectService.sendOntName(this.powlName)):"eowl"===this.type&&(this.eowlName=this.uploader.queue[0].file.name,this.projectService.sendEOntName(this.eowlName));var t=this;if(null==t.dg_service.projectAddress){var n=t.eowlName.substring(0,t.eowlName.length-4);t.fileService.searchProject().subscribe(function(e){console.log(e);for(var r=0,i=e;r<i.length;r++)if(i[r]==n)return void alert(n+" already exist! please new a project with other name");t.dg_service.projectAddress=n,t.dg_service.project.title=n})}this.fileService.uploadOwlFile(this.uploader,this.type,this.owlAdd),"eowl"==this.type&&setTimeout(function(){t.fileService.getProblemDomains(t.owlAdd,t.eowlName).subscribe(function(e){t.dg_service.ontologyEntities=e,t.dg_service.initProjectWithOntology(t.dg_service.project.title),t.dg_service.register(t.dg_service.projectAddress,"undefined",t.dg_service.project)})},1500)},e.prototype.pOntShow=function(){var e=this;this.fileService.getNodes(this.owlAdd,this.powlName,"Thing","powl").subscribe(function(t){e.nodes=t,e.projectService.sendPNodes(e.nodes)}),this.projectService.pOntShow(!0)},e.prototype.eOntShow=function(){var e=this;this.fileService.getNodes(this.owlAdd,this.eowlName,"Thing","eowl").subscribe(function(t){e.nodes=t,e.projectService.sendENodes(e.nodes)}),this.projectService.eOntShow(!0)},e.prototype.uploadPF=function(){document.getElementById("pfFile").click()},e.prototype.selectedPFOnChanged=function(e){this.projectAddress=null;var t=this.uploader.queue[0].file.name;this.projectAddress=t.substring(0,t.length-3),this.fileService.uploadpfFile_new(this.uploader,this.projectAddress),console.log(t);var n=this;n.dg_service.isProjectNull=!0,n.textService.isPfNull=!0,this.interval=setInterval(function(){clearInterval(n.interval),n.dg_service.register_new(n.projectAddress,"undefined")},3e3),n.interval1=setInterval(function(){!n.dg_service.isProjectNull&&n.textService.isPfNull&&(clearInterval(n.interval1),n.textService.register_new(n.projectAddress,"undefined"))},3e3)},e.prototype.selectedPFOnChanged1=function(e){this.projectAddress=null,this.fileService.uploadpfFile(this.uploader);var t=this.uploader.queue[0].file.name;this.projectAddress=t.substring(0,t.length-3),console.log(t);var n=this;this.interval=setInterval(function(){clearInterval(n.interval),n.dg_service.getPfProject(n.projectAddress,"undefined")},1e3),n.interval1=setInterval(function(){clearInterval(n.interval1),n.textService.getNotNullPf(n.projectAddress,"undefined")},2e3)},e}(),at=r.nb({encapsulation:0,styles:[["div[_ngcontent-%COMP%]{position:absolute;float:top;top:0;width:100%;height:12.2%;background:#1874cd;text-align:center}.tab[_ngcontent-%COMP%]{position:relative;background:#fff;top:74.5%;width:100%;height:25%;color:#000}nav[_ngcontent-%COMP%]{z-index:4;float:left;position:absolute;top:30%;left:6%;margin:0 auto}img[_ngcontent-%COMP%]{position:relative;top:5%;left:.2%;float:left;width:5.5%}ul[_ngcontent-%COMP%]{padding:0;margin:0;height:30px;list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{opacity:.8}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:visited, ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{float:left;position:relative;color:#fff;display:block;text-align:center;text-decoration:none;width:150px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{height:50px;background:#1e76cf;display:none;padding:2px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%]{display:block}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{left:150px;top:-20px;height:70px;padding:2px;background:#247bd1;position:relative;display:none}.Pontology[_ngcontent-%COMP%]:hover + .Eontology[_ngcontent-%COMP%]{top:-74px}.tablabel[_ngcontent-%COMP%]{position:relative;left:1%;color:#000}.openfile[_ngcontent-%COMP%]{display:none}.disable[_ngcontent-%COMP%]:hover{opacity:1;cursor:not-allowed}"]],data:{}});function lt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,86,"div",[["class","topbar-div"],["id","topbar-div"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,0,"img",[["src","assets/icons/3.png"]],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,62,"nav",[["style","text-align:center"]],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,61,"ul",[],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["New "])),(e()(),r.pb(6,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.newFile("diagram")&&r),r},null,null)),(e()(),r.Cb(-1,null,["NewDiagram"])),(e()(),r.pb(9,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.newFile("text")&&r),r},null,null)),(e()(),r.Cb(-1,null,["NewText"])),(e()(),r.pb(11,0,null,null,1,"li",[],[[2,"disable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.merge()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Merge"])),(e()(),r.pb(13,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Upload "])),(e()(),r.pb(15,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(16,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.uploadFile()&&r),r},null,null)),(e()(),r.Cb(-1,null,[" Upload Project "])),(e()(),r.pb(18,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.uploadPF()&&r),r},null,null)),(e()(),r.Cb(-1,null,[" Upload pf "])),(e()(),r.pb(20,0,null,null,6,"li",[["id","open"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Open "])),(e()(),r.pb(22,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(23,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openProject("diagram")&&r),r},null,null)),(e()(),r.Cb(-1,null,["OpenDiagram"])),(e()(),r.pb(25,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openProject("text")&&r),r},null,null)),(e()(),r.Cb(-1,null,["OpenText"])),(e()(),r.pb(27,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.saveProjectAndPf()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Save"])),(e()(),r.pb(29,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" Download "])),(e()(),r.pb(31,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(32,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.download()&&r),r},null,null)),(e()(),r.Cb(-1,null,["XMLProject"])),(e()(),r.pb(34,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.format()&&r),r},null,null)),(e()(),r.Cb(-1,null,["TranslateFile"])),(e()(),r.pb(36,0,null,null,24,"li",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" Ontology "])),(e()(),r.pb(38,0,null,null,22,"ul",[],null,null,null,null,null)),(e()(),r.pb(39,0,null,null,10,"li",[["class","Pontology"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" Pontology "])),(e()(),r.pb(41,0,null,null,8,"ul",[],null,null,null,null,null)),(e()(),r.pb(42,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.uploadPOwl()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Load"])),(e()(),r.pb(44,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openPOwl()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Open"])),(e()(),r.pb(46,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.pOntShow()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Show"])),(e()(),r.pb(48,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Check"])),(e()(),r.pb(50,0,null,null,10,"li",[["class","Eontology"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" Eontology "])),(e()(),r.pb(52,0,null,null,8,"ul",[],null,null,null,null,null)),(e()(),r.pb(53,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.uploadEOwl()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Load"])),(e()(),r.pb(55,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openEOwl()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Open"])),(e()(),r.pb(57,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.eOntShow()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Show"])),(e()(),r.pb(59,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Check"])),(e()(),r.pb(61,0,null,null,1,"li",[],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.switchInterface()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Switch"])),(e()(),r.pb(63,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Help"])),(e()(),r.pb(65,0,null,null,0,"div",[["class","tab"]],null,null,null,null,null)),(e()(),r.pb(66,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,68).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,68).onReset()&&i),i},null,null)),r.ob(67,16384,null,0,Pe,[],null,null),r.ob(68,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(70,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(71,0,null,null,1,"input",[["class","openfile"],["id","xmlFile"],["name","xmlFile"],["ng2FileSelect",""],["type","file"],["webkitdirectory",""]],null,[[null,"change"]],function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.yb(e,72).onChange()&&i),"change"===t&&(i=!1!==o.selectedFileOnChanged(n)&&i),i},null,null)),r.ob(72,16384,null,0,it,[r.k],{uploader:[0,"uploader"]},null),(e()(),r.pb(73,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,75).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,75).onReset()&&i),i},null,null)),r.ob(74,16384,null,0,Pe,[],null,null),r.ob(75,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(77,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(78,0,null,null,1,"input",[["class","openfile"],["id","pfFile"],["name","pfFile"],["ng2FileSelect",""],["type","file"]],null,[[null,"change"]],function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.yb(e,79).onChange()&&i),"change"===t&&(i=!1!==o.selectedPFOnChanged(n)&&i),i},null,null)),r.ob(79,16384,null,0,it,[r.k],{uploader:[0,"uploader"]},null),(e()(),r.pb(80,0,null,null,6,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,82).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,82).onReset()&&i),i},null,null)),r.ob(81,16384,null,0,Pe,[],null,null),r.ob(82,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(84,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(85,0,null,null,1,"input",[["class","openfile"],["id","ontologyFile"],["name","owlFile"],["ng2FileSelect",""],["type","file"]],null,[[null,"change"]],function(e,t,n){var i=!0,o=e.component;return"change"===t&&(i=!1!==r.yb(e,86).onChange()&&i),"change"===t&&(i=!1!==o.selectedOWLOnChanged(n)&&i),i},null,null)),r.ob(86,16384,null,0,it,[r.k],{uploader:[0,"uploader"]},null)],function(e,t){var n=t.component;e(t,72,0,n.uploader),e(t,79,0,n.uploader),e(t,86,0,n.uploader)},function(e,t){e(t,11,0,t.component.step>2),e(t,66,0,r.yb(t,70).ngClassUntouched,r.yb(t,70).ngClassTouched,r.yb(t,70).ngClassPristine,r.yb(t,70).ngClassDirty,r.yb(t,70).ngClassValid,r.yb(t,70).ngClassInvalid,r.yb(t,70).ngClassPending),e(t,73,0,r.yb(t,77).ngClassUntouched,r.yb(t,77).ngClassTouched,r.yb(t,77).ngClassPristine,r.yb(t,77).ngClassDirty,r.yb(t,77).ngClassValid,r.yb(t,77).ngClassInvalid,r.yb(t,77).ngClassPending),e(t,80,0,r.yb(t,84).ngClassUntouched,r.yb(t,84).ngClassTouched,r.yb(t,84).ngClassPristine,r.yb(t,84).ngClassDirty,r.yb(t,84).ngClassValid,r.yb(t,84).ngClassInvalid,r.yb(t,84).ngClassPending)})}var ut,ct=n("2Bdj"),ht=!1,dt=function(){function e(e){this.config=e,this.onInit=new r.m}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=Object.assign({},this.config.defaultOptions,e),this._editor&&(this._editor.dispose(),this.initMonaco(e))},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;ht?ut.then(function(){e.initMonaco(e.options)}):(ht=!0,ut=new Promise(function(t){var n=e.config.baseUrl||"/assets";if("object"!=typeof window.monaco){var r=function(){window.require.config({paths:{vs:n+"/monaco/vs"}}),window.require(["vs/editor/editor.main"],function(){"function"==typeof e.config.onMonacoLoad&&e.config.onMonacoLoad(),e.initMonaco(e.options),t()})};if(window.require)r();else{var i=document.createElement("script");i.type="text/javascript",i.src=n+"/monaco/vs/loader.js",i.addEventListener("load",r),document.body.appendChild(i)}}else t()}))},e.prototype.ngOnDestroy=function(){this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._editor&&(this._editor.dispose(),this._editor=void 0)},e}(),pt=new r.p("NGX_MONACO_EDITOR_CONFIG"),ft=function(e){function t(t,n){var r=e.call(this,n)||this;return r.zone=t,r.editorConfig=n,r._value="",r.propagateChange=function(e){},r.onTouched=function(){},r}return Object(I.c)(t,e),Object.defineProperty(t.prototype,"model",{set:function(e){this.options.model=e,this._editor&&(this._editor.dispose(),this.initMonaco(this.options))},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(e){var t=this;this._value=e||"",setTimeout(function(){t._editor&&!t.options.model&&t._editor.setValue(t._value)})},t.prototype.registerOnChange=function(e){this.propagateChange=e},t.prototype.registerOnTouched=function(e){this.onTouched=e},t.prototype.initMonaco=function(e){var t=this,n=!!e.model;if(n){var r=monaco.editor.getModel(e.model.uri||"");r?(e.model=r,e.model.setValue(this._value)):e.model=monaco.editor.createModel(e.model.value,e.model.language,e.model.uri)}this._editor=monaco.editor.create(this._editorContainer.nativeElement,e),n||this._editor.setValue(this._value),this._editor.onDidChangeModelContent(function(e){var n=t._editor.getValue();t.propagateChange(n),t.zone.run(function(){return t._value=n})}),this._editor.onDidBlurEditorWidget(function(){t.onTouched()}),this._windowResizeSubscription&&this._windowResizeSubscription.unsubscribe(),this._windowResizeSubscription=function e(t,n,r,i){return Object(ct.a)(r)&&(i=r,r=void 0),i?e(t,n,r).pipe(Object(T.a)(function(e){return Object(A.a)(e)?i.apply(void 0,e):i(e)})):new x.a(function(e){!function e(t,n,r,i,o){var s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var a=t;t.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,r),s=function(){return l.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,r),s=function(){return u.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,r,i,o)}i.add(s)}(t,n,function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},e,r)})}(window,"resize").subscribe(function(){return t._editor.layout()}),this.onInit.emit(this._editor)},t}(dt),gt=function(){function e(){}return e.forRoot=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[{provide:pt,useValue:t}]}},e}(),mt=r.nb({encapsulation:0,styles:["[_nghost-%COMP%] {\n      display: block;\n      height: 200px;\n    }\n\n    .editor-container[_ngcontent-%COMP%] {\n      width: 100%;\n      height: 98%;\n    }"],data:{}});function vt(e){return r.Db(0,[r.Ab(402653184,1,{_editorContainer:0}),(e()(),r.pb(1,0,[[1,0],["editorContainer",1]],null,0,"div",[["class","editor-container"]],null,null,null,null,null))],null,null)}var yt=function(){function e(){}return e.ngInjectableDef=r.S({factory:function(){return new e},token:e,providedIn:"root"}),e}(),bt=function(){function e(e,t){this.textService=e,this.uiService=t,this.languageId="problemframe",this.editorOptions={theme:"vs",language:"problemframe"},this.code="",this.editorType="diagram"}return e.prototype.ngOnInit=function(){},e.prototype.monacoOnInit=function(e){this.textService.editor=e},e}(),wt=r.nb({encapsulation:0,styles:[["#monaco-editor-id[_ngcontent-%COMP%]{display:none;position:absolute;float:left;top:12.2%;left:0;width:100%;height:85%;border:1px solid grey}"]],data:{}});function Ct(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,5,"ngx-monaco-editor",[["id","monaco-editor-id"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onInit"]],function(e,t,n){var r=!0,i=e.component;return"ngModelChange"===t&&(r=!1!==(i.code=n)&&r),"onInit"===t&&(r=!1!==i.monacoOnInit(n)&&r),r},vt,mt)),r.ob(1,4374528,null,0,ft,[r.z,pt],{options:[0,"options"]},{onInit:"onInit"}),r.zb(1024,null,B,function(e){return[e]},[ft]),r.ob(3,671744,null,0,Ne,[[8,null],[8,null],[8,null],[6,B]],{model:[0,"model"]},{update:"ngModelChange"}),r.zb(2048,null,H,null,[Ne]),r.ob(5,16384,null,0,ge,[[4,H]],null,null)],function(e,t){var n=t.component;e(t,1,0,n.editorOptions),e(t,3,0,n.code)},function(e,t){e(t,0,0,r.yb(t,5).ngClassUntouched,r.yb(t,5).ngClassTouched,r.yb(t,5).ngClassPristine,r.yb(t,5).ngClassDirty,r.yb(t,5).ngClassValid,r.yb(t,5).ngClassInvalid,r.yb(t,5).ngClassPending)})}var It=function(){function e(e,t,n){var r=this;this.dg_service=e,this.projectService=t,this.component_choice_service=n,this.step=1,t.stepEmmited$.subscribe(function(e){r.step=e}),this.editorType="text"}return e.prototype.ngOnInit=function(){},e.prototype.set_choice_false=function(){this.component_choice_service.element=!1,this.component_choice_service.domain=!1,this.component_choice_service.machine=!1,this.component_choice_service.req=!1,this.component_choice_service.link=!1,this.component_choice_service.interface=!1,this.component_choice_service.reference=!1,this.component_choice_service.constraint=!1,this.component_choice_service.merge=!1},e.prototype.clickDomain=function(){this.set_choice_false(),this.component_choice_service.element=!0,this.component_choice_service.domain=!0},e.prototype.clickMachine=function(){this.set_choice_false(),console.log("click clickMachine"),this.component_choice_service.element=!0,this.component_choice_service.machine=!0,console.log("this.component_choice_service.element =",this.component_choice_service.element),console.log("this.component_choice_service.machine =",this.component_choice_service.machine)},e.prototype.clickReq=function(){this.set_choice_false(),this.component_choice_service.element=!0,this.component_choice_service.req=!0},e.prototype.clickInterface=function(){this.set_choice_false(),this.component_choice_service.link=!0,this.component_choice_service.interface=!0,console.log(this.component_choice_service)},e.prototype.clickReference=function(){this.set_choice_false(),this.component_choice_service.link=!0,this.component_choice_service.reference=!0,console.log(this.component_choice_service)},e.prototype.clickConstraint=function(){this.set_choice_false(),this.component_choice_service.link=!0,this.component_choice_service.constraint=!0,console.log(this.component_choice_service)},e}(),xt=r.nb({encapsulation:0,styles:[["#leftbar[_ngcontent-%COMP%]{display:none;position:absolute;float:left;top:12.2%;left:0;width:3%;height:83%;border-color:#1874cd;border-width:10px}div-text[_ngcontent-%COMP%]{position:absolute;float:left;top:12.2%;left:0;width:0%;height:83%;border-color:#1874cd;border-width:10px}.title[_ngcontent-%COMP%]{position:relative;width:100%;color:#fff;background:#36648b;margin-bottom:1px;cursor:default}ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none}button[_ngcontent-%COMP%]{position:relative;margin:25% 20%;width:60%;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;align-items:center;cursor:pointer;background-color:#fff;border:none}button[_ngcontent-%COMP%]:hover{background-color:#e6e6fa;opacity:.5;font-weight:400}button[_ngcontent-%COMP%]:disabled{cursor:auto}img[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;text-align:center;align-self:center}.disable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#dcdcdc;cursor:not-allowed}.disable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#dcdcdc;opacity:1}"]],data:{}});function At(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,19,"div",[["class","editorType==diagram?div-diagram:div-text"],["id","leftbar"],["style","border-style:solid;"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,18,"ul",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,2,"li",[],[[2,"disable",null]],null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"button",[],[[8,"title",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.clickMachine()&&r),r},null,null)),(e()(),r.pb(4,0,null,null,0,"img",[["src","assets/icons/machine.png"]],null,null,null,null,null)),(e()(),r.pb(5,0,null,null,2,"li",[],[[2,"disable",null]],null,null,null,null)),(e()(),r.pb(6,0,null,null,1,"button",[],[[8,"title",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.clickDomain()&&r),r},null,null)),(e()(),r.pb(7,0,null,null,0,"img",[["src","assets/icons/domain.png"]],null,null,null,null,null)),(e()(),r.pb(8,0,null,null,2,"li",[],[[2,"disable",null]],null,null,null,null)),(e()(),r.pb(9,0,null,null,1,"button",[],[[8,"title",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.clickReq()&&r),r},null,null)),(e()(),r.pb(10,0,null,null,0,"img",[["src","assets/icons/requirement.png"]],null,null,null,null,null)),(e()(),r.pb(11,0,null,null,2,"li",[],[[2,"disable",null]],null,null,null,null)),(e()(),r.pb(12,0,null,null,1,"button",[],[[8,"title",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.clickInterface()&&r),r},null,null)),(e()(),r.pb(13,0,null,null,0,"img",[["src","assets/icons/interface.png"]],null,null,null,null,null)),(e()(),r.pb(14,0,null,null,2,"li",[],[[2,"disable",null]],null,null,null,null)),(e()(),r.pb(15,0,null,null,1,"button",[],[[8,"title",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.clickReference()&&r),r},null,null)),(e()(),r.pb(16,0,null,null,0,"img",[["src","assets/icons/reference.png"]],null,null,null,null,null)),(e()(),r.pb(17,0,null,null,2,"li",[],[[2,"disable",null]],null,null,null,null)),(e()(),r.pb(18,0,null,null,1,"button",[],[[8,"title",0]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.clickConstraint()&&r),r},null,null)),(e()(),r.pb(19,0,null,null,0,"img",[["src","assets/icons/constraint.png"]],null,null,null,null,null))],null,function(e,t){var n=t.component;e(t,2,0,1!=n.step),e(t,3,0,"machine"),e(t,5,0,2!=n.step),e(t,6,0,"domain"),e(t,8,0,5!=n.step),e(t,9,0,"requirement"),e(t,11,0,3!=n.step),e(t,12,0,"interface"),e(t,14,0,6!=n.step),e(t,15,0,"reference"),e(t,17,0,6!=n.step),e(t,18,0,"constraint")})}var _t=function(){function e(e,t,n){var i=this;this.projectService=e,this.fileService=t,this.dg_service=n,this.step=1,this.errorsEvent=new r.m,this.open1=!1,this.open2=!1,this.open3=!1,this.open4=!1,this.open5=!1,e.stepEmmited$.subscribe(function(e){i.step=e}),e.changeEmitted$.subscribe(function(e){i.project=e}),t.newProEmmited$.subscribe(function(e){1==e&&(i.step=1,i.projectService.stepChange(i.step))})}return e.prototype.setOpen1=function(){this.open1=!this.open1},e.prototype.setOpen2=function(){this.open2=!this.open2},e.prototype.setOpen3=function(){this.open3=!this.open3},e.prototype.setOpen4=function(){this.open4=!this.open4},e.prototype.setOpen5=function(){this.open5=!this.open5},e.prototype.sendErrors=function(e){this.errorsEvent.emit(e)},e.prototype.back=function(){switch(this.step){case 2:this.step=1,this.projectService.stepChange(this.step);break;case 3:this.step=2,this.projectService.stepChange(this.step);break;case 4:this.step=3,this.projectService.stepChange(this.step);break;case 5:this.step=4,this.projectService.stepChange(this.step);break;case 6:this.step=5,this.projectService.stepChange(this.step);break;case 7:this.step=6,this.projectService.stepChange(this.step);break;case 8:this.step=7,this.projectService.stepChange(this.step)}},e.prototype.check=function(){var e=this;switch(this.step){case 1:this.step=2,this.projectService.stepChange(this.step);break;case 2:this.step=3,this.projectService.stepChange(this.step);break;case 3:this.step=4,this.projectService.stepChange(this.step);break;case 4:this.projectService.checkCorrectContext(n=this.dg_service.project).subscribe(function(n){e.sendErrors(t=n),e.projectService.getRes(t)?(alert("The diagram is correct."),e.step=5):(console.log(e.project),e.step=1),e.projectService.stepChange(e.step)});break;case 5:this.step=6,this.projectService.stepChange(this.step);break;case 6:this.step=7,this.projectService.stepChange(this.step);break;case 7:var t,n;this.projectService.checkCorrectProblem(n=this.dg_service.project).subscribe(function(r){e.sendErrors(t=r),e.projectService.getRes(t)?(alert("The diagram is correct."),e.step=8):(console.log(n),console.log(t),e.step=5),e.projectService.stepChange(e.step)});break;case 8:var r=document.getElementById("next");this.projectService.getSubProblemDiagram(this.project).subscribe(function(t){e.project=t}),r.innerHTML="Finish",this.step=1,this.projectService.stepChange(this.step)}},e.prototype.ngOnInit=function(){},e}(),St=r.nb({encapsulation:0,styles:[["#rightbar[_ngcontent-%COMP%]{display:none;position:absolute;top:12.2%;right:0;width:17%;height:85.5%;background:#1874cd;float:right;overflow-y:auto;white-space:nowrap;color:#fff}button[_ngcontent-%COMP%]{position:relative;margin:0 5% 8% 15%;display:inline;padding:8px 16px;border-radius:2px;font-size:14px;cursor:pointer;background-color:#f8f8ff;border:none}button[_ngcontent-%COMP%]:hover{background-color:#e6e6fa;font-weight:400}button[_ngcontent-%COMP%]:disabled{cursor:auto;color:red}span[_ngcontent-%COMP%]{position:relative;cursor:pointer;width:100%;background:#36648b}ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;left:12%}.title[_ngcontent-%COMP%]{position:relative;width:100%;background:#36648b;margin-bottom:1px;cursor:pointer}.content[_ngcontent-%COMP%]{position:relative;background:#1874cd;cursor:default;overflow-x:auto;overflow-y:auto}.list[_ngcontent-%COMP%]{position:relative;list-style-type:disc;background:#1874cd;cursor:default;overflow-x:auto;overflow-y:auto}.list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:disc;position:relative;float:left;left:0}.list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;left:10%}.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.selectedli[_ngcontent-%COMP%]{color:#cfd8dc}"]],data:{}});function Dt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen1()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0+ Diagram"]))],null,null)}function Tt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,9,"ul",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,8,"li",[],null,null,null,null,null)),(e()(),r.Cb(2,null,[" ",""])),(e()(),r.pb(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(4,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),r.Cb(5,null,[" "," "])),(e()(),r.pb(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),r.Cb(8,null,[" "," "])),(e()(),r.pb(9,0,null,null,0,"br",[],null,null,null,null,null))],null,function(e,t){var n=t.component;e(t,2,0,n.project.title),e(t,5,0,n.project.contextDiagram.title),e(t,8,0,n.project.problemDiagram.title)})}function kt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen1()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0- Diagram"])),(e()(),r.pb(2,0,null,null,2,"div",[["class","list"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Tt)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.project)},null)}function Nt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen2()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0+ Phenomenon"]))],null,null)}function Pt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(2,null,["phe",""])),(e()(),r.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(4,null,["",""])),(e()(),r.pb(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(6,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.no),e(t,4,0,t.context.$implicit.name),e(t,6,0,t.context.$implicit.type)})}function Mt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,10,"table",[["class","content"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,9,"tbody",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Name"])),(e()(),r.pb(5,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Description"])),(e()(),r.pb(7,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["PheType"])),(e()(),r.gb(16777216,null,null,1,null,Pt)),r.ob(10,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,10,0,t.component.dg_service.getAllPhenomenon())},null)}function Ot(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen2()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0- Phenomenon"])),(e()(),r.pb(2,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Mt)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.open2)},null)}function Et(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen3()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0+ Interaction"]))],null,null)}function jt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(2,null,["int",""])),(e()(),r.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(4,null,["",""])),(e()(),r.pb(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(6,null,["",""])),(e()(),r.pb(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(8,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.no),e(t,4,0,t.context.$implicit.from),e(t,6,0,t.context.$implicit.to),e(t,8,0,t.context.$implicit.name)})}function Rt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,12,"table",[["class","content"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,11,"tbody",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Name"])),(e()(),r.pb(5,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Initiator"])),(e()(),r.pb(7,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Receiver"])),(e()(),r.pb(9,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Content"])),(e()(),r.gb(16777216,null,null,1,null,jt)),r.ob(12,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,12,0,t.component.dg_service.getAllPhenomenon())},null)}function Lt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen3()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0- Interaction"])),(e()(),r.pb(2,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Rt)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.open3)},null)}function zt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen4()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0+ Reference"]))],null,null)}function Ft(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(2,null,["req",""])),(e()(),r.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(4,null,["",""])),(e()(),r.pb(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(6,null,["",""])),(e()(),r.pb(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(8,null,["",""])),(e()(),r.pb(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(10,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.requirement),e(t,4,0,t.context.$implicit.from),e(t,6,0,t.context.$implicit.to),e(t,8,0,t.context.$implicit.name),e(t,10,0,t.context.$implicit.constraint)})}function Bt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,14,"table",[["class","content"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,13,"tbody",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),r.pb(3,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Name"])),(e()(),r.pb(5,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Initiator"])),(e()(),r.pb(7,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Receiver"])),(e()(),r.pb(9,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Content"])),(e()(),r.pb(11,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Constraint"])),(e()(),r.gb(16777216,null,null,1,null,Ft)),r.ob(14,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,14,0,t.component.dg_service.getAllRequirementPhenomenon())},null)}function Gt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen4()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0- Reference"])),(e()(),r.pb(2,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Bt)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.open4)},null)}function Ut(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen5()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0+ Other Information"]))],null,null)}function Zt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(2,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.description)})}function Wt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(2,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.description)})}function Vt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(2,null,["",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.description)})}function Yt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),r.Cb(2,null,["req",": ",""]))],null,function(e,t){e(t,2,0,t.context.$implicit.no,t.context.$implicit.name)})}function Ht(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,15,"table",[["class","content"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,14,"tbody",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Interface:"])),(e()(),r.gb(16777216,null,null,1,null,Zt)),r.ob(5,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(6,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(7,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Reference:"])),(e()(),r.gb(16777216,null,null,1,null,Wt)),r.ob(10,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.gb(16777216,null,null,1,null,Vt)),r.ob(12,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(13,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Yt)),r.ob(15,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,5,0,n.project.contextDiagram.interfaceList),e(t,10,0,n.project.problemDiagram.constraintList),e(t,12,0,n.project.problemDiagram.referenceList),e(t,15,0,n.project.problemDiagram.requirementList)},null)}function qt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[["class","title"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.setOpen5()&&r),r},null,null)),(e()(),r.Cb(-1,null,["\xa0- Other Information"])),(e()(),r.pb(2,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Ht)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.open5)},null)}function Xt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,45,"div",[["class","all"],["id","rightbar"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,44,"ul",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,23,"li",[["class","title"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,[" \xa0Process of scenario based projection "])),(e()(),r.pb(4,0,null,null,21,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.pb(5,0,null,null,20,"ul",[["class","content"]],null,null,null,null,null)),(e()(),r.pb(6,0,null,null,10,"li",[],[[2,"selected",null]],null,null,null,null)),(e()(),r.Cb(-1,null,[" \xa0Step 1:Draw the context diagram "])),(e()(),r.pb(8,0,null,null,8,"ul",[["style","background: #1874CD"]],null,null,null,null,null)),(e()(),r.pb(9,0,null,null,1,"li",[],[[2,"selectedli",null]],null,null,null,null)),(e()(),r.Cb(-1,null,["1.1:Designate machine."])),(e()(),r.pb(11,0,null,null,1,"li",[],[[2,"selectedli",null]],null,null,null,null)),(e()(),r.Cb(-1,null,["1.2:Identify domains."])),(e()(),r.pb(13,0,null,null,1,"li",[],[[2,"selectedli",null]],null,null,null,null)),(e()(),r.Cb(-1,null,["1.3:Identify interactions."])),(e()(),r.pb(15,0,null,null,1,"li",[],[[2,"selectedli",null]],null,null,null,null)),(e()(),r.Cb(-1,null,["1.4:Check context diagram."])),(e()(),r.pb(17,0,null,null,8,"li",[],[[2,"selected",null]],null,null,null,null)),(e()(),r.Cb(-1,null,[" \xa0Step 2:Draw the problem diagram "])),(e()(),r.pb(19,0,null,null,6,"ul",[["style","background: #1874CD"]],null,null,null,null,null)),(e()(),r.pb(20,0,null,null,1,"li",[],[[2,"selectedli",null]],null,null,null,null)),(e()(),r.Cb(-1,null,["2.1:Identify requirements."])),(e()(),r.pb(22,0,null,null,1,"li",[],[[2,"selectedli",null]],null,null,null,null)),(e()(),r.Cb(-1,null,["2.2:Identify references."])),(e()(),r.pb(24,0,null,null,1,"li",[],[[2,"selectedli",null]],null,null,null,null)),(e()(),r.Cb(-1,null,["2.3:Check problem diagram."])),(e()(),r.pb(26,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(27,0,null,null,1,"button",[["class","btn1"],["id","back"]],[[2,"disable",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.back()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Back"])),(e()(),r.pb(29,0,null,null,1,"button",[["class","btn2"],["id","next"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.check()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Next"])),(e()(),r.gb(16777216,null,null,1,null,Dt)),r.ob(32,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),r.gb(0,[["elseOpen1",2]],null,0,null,kt)),(e()(),r.gb(16777216,null,null,1,null,Nt)),r.ob(35,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),r.gb(0,[["elseOpen2",2]],null,0,null,Ot)),(e()(),r.gb(16777216,null,null,1,null,Et)),r.ob(38,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),r.gb(0,[["elseOpen3",2]],null,0,null,Lt)),(e()(),r.gb(16777216,null,null,1,null,zt)),r.ob(41,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),r.gb(0,[["elseOpen4",2]],null,0,null,Gt)),(e()(),r.gb(16777216,null,null,1,null,Ut)),r.ob(44,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),r.gb(0,[["elseOpen5",2]],null,0,null,qt))],function(e,t){var n=t.component;e(t,32,0,!n.open1,r.yb(t,33)),e(t,35,0,!n.open2,r.yb(t,36)),e(t,38,0,!n.open3,r.yb(t,39)),e(t,41,0,!n.open4,r.yb(t,42)),e(t,44,0,!n.open5,r.yb(t,45))},function(e,t){var n=t.component;e(t,6,0,1===n.step||4===n.step),e(t,9,0,1===n.step),e(t,11,0,2===n.step),e(t,13,0,3===n.step),e(t,15,0,4===n.step),e(t,17,0,5===n.step||7===n.step),e(t,20,0,5===n.step),e(t,22,0,6===n.step),e(t,24,0,7===n.step),e(t,27,0,n.step<2)})}var Kt=r.nb({encapsulation:0,styles:[[".main[_ngcontent-%COMP%]{position:absolute;float:top;top:0;width:100%;height:100%}img[_ngcontent-%COMP%]{position:relative;width:6%;height:100%}#resize[_ngcontent-%COMP%]{width:5px;height:100%;cursor:w-resize;float:left}#popLayer[_ngcontent-%COMP%]{display:none;background-color:#b3b3b3;position:absolute;top:0;right:0;bottom:0;left:0;z-index:10;-moz-opacity:.8;opacity:.8;filter:alpha(opacity=80)}#popBox[_ngcontent-%COMP%]{display:none;background-color:#fff;z-index:11;width:700px;height:460px;position:fixed;top:0;right:0;left:0;bottom:0;margin:auto}#Strategy[_ngcontent-%COMP%]{display:none;background-color:#fff;z-index:11;width:60%;height:60%;position:fixed;top:0;right:0;left:0;bottom:0;margin:auto}#projectPopBox[_ngcontent-%COMP%]{display:none;background-color:#fff;z-index:11;width:18%;height:15%;position:fixed;top:0;right:0;left:0;bottom:0;margin:auto}.element-input[_ngcontent-%COMP%]{width:80%;height:80%;top:10%;left:5%;margin:auto}.button1[_ngcontent-%COMP%]{position:relative;left:10%}.button2[_ngcontent-%COMP%]{position:relative;left:20%}.table[_ngcontent-%COMP%]{position:relative;height:32px;background:#f8f8f8}.content[_ngcontent-%COMP%]{position:relative;height:428px;overflow-x:auto;overflow-y:auto}.close[_ngcontent-%COMP%]{position:relative;margin:0 2px 0 0;display:-webkit-inline-box;display:inline-flex;float:right;right:0;padding:8px 16px;border-radius:2px;font-size:14px;cursor:pointer;background-color:#f8f8f8;border:none}.close[_ngcontent-%COMP%]:hover{background-color:#2d2c3b;font-weight:400}.close[_ngcontent-%COMP%]:disabled{cursor:auto}.button[_ngcontent-%COMP%]{position:relative;margin:0 2px 0 0;display:-webkit-inline-box;display:inline-flex;float:center;left:55px;padding:8px 16px;border-radius:2px;font-size:14px;cursor:pointer;background-color:#f8f8f8;border:none}.button[_ngcontent-%COMP%]:hover{background-color:#dcdcdc;font-weight:400}.button[_ngcontent-%COMP%]:disabled{cursor:auto}.OpenProject[_ngcontent-%COMP%]{display:none;margin:auto;background-color:#fff;z-index:11;width:250px;height:400px;position:fixed;top:0;right:0;left:0;bottom:0}.OpenProject[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{float:center;left:40px}.showPro[_ngcontent-%COMP%]{position:relative;cursor:default;width:250px;height:300px;overflow-x:auto;overflow-y:auto}ul[_ngcontent-%COMP%]{padding:0;margin:0;list-style-type:none}.selected[_ngcontent-%COMP%]{background-color:#cfd8dc;color:#fff}.OntShow[_ngcontent-%COMP%]{display:none;background-color:#fff;z-index:11;width:50%;height:50%;position:fixed;top:0;right:0;left:0;bottom:0;margin:auto}.owltable[_ngcontent-%COMP%]{position:relative;height:32px;background:#f8f8f8}.showOntology[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;overflow-x:auto;overflow-y:auto}"]],data:{}});function Jt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Cb(1,null,[""," is not a correct senario graph:"]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.title)})}function Qt(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"p",[],null,null,null,null,null)),(e()(),r.Cb(1,null,[" "," "])),(e()(),r.pb(2,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.getStrategy(e.context.$implicit)&&r),r},null,null)),(e()(),r.Cb(-1,null,["strategy"]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function $t(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Jt)),r.ob(2,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(e()(),r.gb(16777216,null,null,1,null,Qt)),r.ob(4,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,null!=t.parent.context.$implicit.title),e(t,4,0,t.parent.context.$implicit.errorList)},null)}function en(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Cb(1,null,[""," is a correct senario graph."]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.title)})}function tn(e){return r.Db(0,[(e()(),r.gb(16777216,null,null,1,null,en)),r.ob(1,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null),(e()(),r.gb(0,null,null,0))],function(e,t){e(t,1,0,null!=t.parent.context.$implicit.title)},null)}function nn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,$t)),r.ob(2,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),r.gb(0,[["correct",2]],null,0,null,tn))],function(e,t){e(t,2,0,null!=t.context.$implicit.errorList,r.yb(t,3))},null)}function rn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Cb(2,null,[" "," "]))],null,function(e,t){e(t,2,0,t.context.$implicit)})}function on(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,0,"input",[["id","version"],["name","project"],["type","radio"]],[[8,"value",0]],null,null,null,null)),(e()(),r.Cb(3,null,["",""]))],null,function(e,t){e(t,2,0,r.rb(1,"",t.context.$implicit,"")),e(t,3,0,t.context.$implicit)})}function sn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,on)),r.ob(2,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.versions)},null)}function an(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,3,"li",[["id","select"]],[[2,"selected",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.search(e.context.$implicit)&&r),r},null,null)),(e()(),r.Cb(2,null,[" "," "])),(e()(),r.gb(16777216,null,null,1,null,sn)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.projectAddress===t.context.$implicit)},function(e,t){e(t,1,0,t.component.projectAddress===t.context.$implicit),e(t,2,0,t.context.$implicit)})}function ln(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,0,"input",[["id","owlVersion"],["name","owl"],["type","radio"]],[[8,"value",0]],null,null,null,null)),(e()(),r.Cb(3,null,[" "," "]))],null,function(e,t){e(t,2,0,r.rb(1,"",t.context.$implicit,"")),e(t,3,0,t.context.$implicit)})}function un(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,ln)),r.ob(2,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.owlVersions)},null)}function cn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,3,"li",[],[[2,"selected",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.searchOwlVersions(e.context.$implicit)&&r),r},null,null)),(e()(),r.Cb(2,null,[" "," "])),(e()(),r.gb(16777216,null,null,1,null,un)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.owl===t.context.$implicit)},function(e,t){e(t,1,0,t.component.owl===t.context.$implicit),e(t,2,0,t.context.$implicit)})}function hn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),r.pb(2,0,null,null,0,"input",[["id","pOwlVersion"],["name","owl"],["type","radio"]],[[8,"value",0]],null,null,null,null)),(e()(),r.Cb(3,null,[" "," "]))],null,function(e,t){e(t,2,0,r.rb(1,"",t.context.$implicit,"")),e(t,3,0,t.context.$implicit)})}function dn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,hn)),r.ob(2,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.pOwlVersions)},null)}function pn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,3,"li",[],[[2,"selected",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.searchOwlVersions(e.context.$implicit)&&r),r},null,null)),(e()(),r.Cb(2,null,[" "," "])),(e()(),r.gb(16777216,null,null,1,null,dn)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.pOwl===t.context.$implicit)},function(e,t){e(t,1,0,t.component.pOwl===t.context.$implicit),e(t,2,0,t.context.$implicit)})}function fn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),r.Cb(1,null,["",""]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function gn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,fn)),r.ob(2,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.subnodes)},null)}function mn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,3,"li",[],[[2,"selected",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.searchPOntNodes(e.context.$implicit)&&r),r},null,null)),(e()(),r.Cb(2,null,[""," "])),(e()(),r.gb(16777216,null,null,1,null,gn)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.clicknode===t.context.$implicit)},function(e,t){e(t,1,0,t.component.clicknode===t.context.$implicit),e(t,2,0,t.context.$implicit)})}function vn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),r.Cb(1,null,["",""]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function yn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,vn)),r.ob(2,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.subnodes1)},null)}function bn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,3,"li",[],[[2,"selected",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.searchEOntNodes1(e.context.$implicit)&&r),r},null,null)),(e()(),r.Cb(2,null,[""," "])),(e()(),r.gb(16777216,null,null,1,null,yn)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.clicknode1===t.context.$implicit)},function(e,t){e(t,1,0,t.component.clicknode1===t.context.$implicit),e(t,2,0,t.context.$implicit)})}function wn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,bn)),r.ob(2,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.subnodes)},null)}function Cn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,3,"li",[],[[2,"selected",null]],[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.searchEOntNodes(e.context.$implicit)&&r),r},null,null)),(e()(),r.Cb(2,null,[""," "])),(e()(),r.gb(16777216,null,null,1,null,wn)),r.ob(4,16384,null,0,Ee.i,[r.O,r.L],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,4,0,t.component.clicknode===t.context.$implicit)},function(e,t){e(t,1,0,t.component.clicknode===t.context.$implicit),e(t,2,0,t.context.$implicit)})}function In(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,122,"div",[["class","main"]],null,null,null,null,null)),(e()(),r.pb(1,0,null,null,1,"app-topbar",[],null,[[null,"openEvent"],[null,"openOwlEvent"],[null,"openPOwlEvent"]],function(e,t,n){var r=!0,i=e.component;return"openEvent"===t&&(r=!1!==i.getProjects(n)&&r),"openOwlEvent"===t&&(r=!1!==i.getOwls(n)&&r),"openPOwlEvent"===t&&(r=!1!==i.getPOwls(n)&&r),r},lt,at)),r.ob(2,114688,null,0,st,[v.a,s.a,o.a,a.a,g,Ee.f,Re.a],null,{openEvent:"openEvent",openOwlEvent:"openOwlEvent",openPOwlEvent:"openPOwlEvent"}),(e()(),r.pb(3,0,null,null,1,"app-ngx-editor",[],null,null,null,Ct,wt)),r.ob(4,114688,null,0,bt,[g,yt],null,null),(e()(),r.pb(5,0,null,null,1,"app-leftbar",[],null,null,null,At,xt)),r.ob(6,114688,null,0,It,[a.a,o.a,Re.a],null,null),(e()(),r.pb(7,0,null,null,1,"app-drawingboard",[],null,null,null,Ke,Le)),r.ob(8,114688,null,0,je.a,[Re.a,v.a,a.a,s.a,o.a,P.d],null,null),(e()(),r.pb(9,0,null,null,1,"app-rightbar",[],null,[[null,"errorsEvent"]],function(e,t,n){var r=!0;return"errorsEvent"===t&&(r=!1!==e.component.getErrors(n)&&r),r},Xt,St)),r.ob(10,114688,null,0,_t,[o.a,s.a,a.a],null,{errorsEvent:"errorsEvent"}),(e()(),r.pb(11,0,null,null,0,"div",[["id","popLayer"]],null,null,null,null,null)),(e()(),r.pb(12,0,null,null,8,"div",[["id","popBox"]],null,null,null,null,null)),(e()(),r.pb(13,0,null,null,4,"div",[["class","table"]],null,null,null,null,null)),(e()(),r.pb(14,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Check Result:"])),(e()(),r.pb(16,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("popBox")&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(18,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,nn)),r.ob(20,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(21,0,null,null,8,"div",[["id","Strategy"]],null,null,null,null,null)),(e()(),r.pb(22,0,null,null,4,"div",[["class","table"]],null,null,null,null,null)),(e()(),r.pb(23,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Check Result:"])),(e()(),r.pb(25,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("Strategy")&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(27,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,rn)),r.ob(29,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(30,0,null,null,18,"div",[["class","OpenProject"],["id","OpenProject"]],null,null,null,null,null)),(e()(),r.pb(31,0,null,null,4,"div",[["class","table"]],null,null,null,null,null)),(e()(),r.pb(32,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["OpenProject:"])),(e()(),r.pb(34,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("OpenProject")&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(36,0,null,null,7,"div",[["class","showPro"]],null,null,null,null,null)),(e()(),r.pb(37,0,null,null,6,"form",[["id","op"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,39).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,39).onReset()&&i),i},null,null)),r.ob(38,16384,null,0,Pe,[],null,null),r.ob(39,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(41,16384,null,0,me,[[4,O]],null,null),(e()(),r.gb(16777216,null,null,1,null,an)),r.ob(43,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(44,0,null,null,4,"div",[["style","position: absolute;bottom:10px;"]],null,null,null,null,null)),(e()(),r.pb(45,0,null,null,1,"button",[["class","button"],["id","OpenProjectOpen"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openthroughws()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Open"])),(e()(),r.pb(47,0,null,null,1,"button",[["class","button"],["id","OpenProjectClose"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("OpenProject")&&r),r},null,null)),(e()(),r.Cb(-1,null,["Cancel"])),(e()(),r.pb(49,0,null,null,18,"div",[["class","OpenProject"],["id","OpenOwl"]],null,null,null,null,null)),(e()(),r.pb(50,0,null,null,4,"div",[["class","table"]],null,null,null,null,null)),(e()(),r.pb(51,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["OpenProject:"])),(e()(),r.pb(53,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("OpenOwl")&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(55,0,null,null,7,"div",[["class","showPro"]],null,null,null,null,null)),(e()(),r.pb(56,0,null,null,6,"form",[["id","op"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,58).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,58).onReset()&&i),i},null,null)),r.ob(57,16384,null,0,Pe,[],null,null),r.ob(58,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(60,16384,null,0,me,[[4,O]],null,null),(e()(),r.gb(16777216,null,null,1,null,cn)),r.ob(62,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(63,0,null,null,4,"div",[["style","position: absolute;bottom:10px;"]],null,null,null,null,null)),(e()(),r.pb(64,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openOwl()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Open"])),(e()(),r.pb(66,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("OpenOwl")&&r),r},null,null)),(e()(),r.Cb(-1,null,["Cancel"])),(e()(),r.pb(68,0,null,null,18,"div",[["class","OpenProject"],["id","OpenPOwl"]],null,null,null,null,null)),(e()(),r.pb(69,0,null,null,4,"div",[["class","table"]],null,null,null,null,null)),(e()(),r.pb(70,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["OpenPOwl:"])),(e()(),r.pb(72,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("OpenPOwl")&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(74,0,null,null,7,"div",[["class","showPro"]],null,null,null,null,null)),(e()(),r.pb(75,0,null,null,6,"form",[["id","op"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,77).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,77).onReset()&&i),i},null,null)),r.ob(76,16384,null,0,Pe,[],null,null),r.ob(77,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(79,16384,null,0,me,[[4,O]],null,null),(e()(),r.gb(16777216,null,null,1,null,pn)),r.ob(81,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(82,0,null,null,4,"div",[["style","position: absolute;bottom:10px;"]],null,null,null,null,null)),(e()(),r.pb(83,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openPOwl()&&r),r},null,null)),(e()(),r.Cb(-1,null,["Open"])),(e()(),r.pb(85,0,null,null,1,"button",[["class","button"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("OpenPOwl")&&r),r},null,null)),(e()(),r.Cb(-1,null,["Cancel"])),(e()(),r.pb(87,0,null,null,0,"div",[["id","popLayer"]],null,null,null,null,null)),(e()(),r.pb(88,0,null,null,16,"div",[["class","popBox"],["id","projectPopBox"]],null,null,null,null,null)),(e()(),r.pb(89,0,null,null,1,"span",[["class","projectTitle"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["New Project"])),(e()(),r.pb(91,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox()&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(93,0,null,null,11,"form",[["action",""],["class","element-input"],["method","post"],["name","elementInputForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==r.yb(e,95).onSubmit(n)&&i),"reset"===t&&(i=!1!==r.yb(e,95).onReset()&&i),i},null,null)),r.ob(94,16384,null,0,Pe,[],null,null),r.ob(95,4210688,null,0,_e,[[8,null],[8,null]],null,null),r.zb(2048,null,O,null,[_e]),r.ob(97,16384,null,0,me,[[4,O]],null,null),(e()(),r.pb(98,0,null,null,1,"label",[["for","description"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["Description"])),(e()(),r.pb(100,0,null,null,0,"input",[["class","description"],["name","description"],["required",""],["type","text"]],null,null,null,null,null)),(e()(),r.pb(101,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(102,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),r.pb(103,0,null,null,0,"input",[["class","button1"],["type","submit"],["value","Confirm"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.confirm()&&r),r},null,null)),(e()(),r.pb(104,0,null,null,0,"input",[["class","button2"],["type","submit"],["value","Cancel"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.closeBox()&&r),r},null,null)),(e()(),r.pb(105,0,null,null,8,"div",[["class","OntShow"],["id","pOntShow"]],null,null,null,null,null)),(e()(),r.pb(106,0,null,null,4,"div",[["class","owltable"]],null,null,null,null,null)),(e()(),r.pb(107,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["POntology Show"])),(e()(),r.pb(109,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("pOntShow")&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(111,0,null,null,2,"div",[["class","showOntology"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,mn)),r.ob(113,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null),(e()(),r.pb(114,0,null,null,8,"div",[["class","OntShow"],["id","eOntShow"]],null,null,null,null,null)),(e()(),r.pb(115,0,null,null,4,"div",[["class","owltable"]],null,null,null,null,null)),(e()(),r.pb(116,0,null,null,1,"span",[["class","label"]],null,null,null,null,null)),(e()(),r.Cb(-1,null,["EOntology Show"])),(e()(),r.pb(118,0,null,null,1,"button",[["class","close"]],null,[[null,"click"]],function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close("eOntShow")&&r),r},null,null)),(e()(),r.Cb(-1,null,["X"])),(e()(),r.pb(120,0,null,null,2,"div",[["class","showOntology"]],null,null,null,null,null)),(e()(),r.gb(16777216,null,null,1,null,Cn)),r.ob(122,278528,null,0,Ee.h,[r.O,r.L,r.s],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0),e(t,4,0),e(t,6,0),e(t,8,0),e(t,10,0),e(t,20,0,n.errors),e(t,29,0,n.strategyList),e(t,43,0,n.projects),e(t,62,0,n.owls),e(t,81,0,n.pOwls),e(t,113,0,n.nodes),e(t,122,0,n.eNodes)},function(e,t){e(t,37,0,r.yb(t,41).ngClassUntouched,r.yb(t,41).ngClassTouched,r.yb(t,41).ngClassPristine,r.yb(t,41).ngClassDirty,r.yb(t,41).ngClassValid,r.yb(t,41).ngClassInvalid,r.yb(t,41).ngClassPending),e(t,56,0,r.yb(t,60).ngClassUntouched,r.yb(t,60).ngClassTouched,r.yb(t,60).ngClassPristine,r.yb(t,60).ngClassDirty,r.yb(t,60).ngClassValid,r.yb(t,60).ngClassInvalid,r.yb(t,60).ngClassPending),e(t,75,0,r.yb(t,79).ngClassUntouched,r.yb(t,79).ngClassTouched,r.yb(t,79).ngClassPristine,r.yb(t,79).ngClassDirty,r.yb(t,79).ngClassValid,r.yb(t,79).ngClassInvalid,r.yb(t,79).ngClassPending),e(t,93,0,r.yb(t,97).ngClassUntouched,r.yb(t,97).ngClassTouched,r.yb(t,97).ngClassPristine,r.yb(t,97).ngClassDirty,r.yb(t,97).ngClassValid,r.yb(t,97).ngClassInvalid,r.yb(t,97).ngClassPending)})}function xn(e){return r.Db(0,[(e()(),r.pb(0,0,null,null,1,"app-root",[],null,null,null,In,Kt)),r.ob(1,49152,null,0,m,[o.a,s.a,a.a,g,h.a],null,null)],null,null)}var An=r.lb("app-root",m,xn,{},{},[]),_n=n("t/Na"),Sn=function(){return function(){}}();function Dn(){monaco.languages.register({id:"problemframe",aliases:["ProblemFrame","problemframe","pf"],extensions:[".pf"],mimetypes:["text/problemframe"]})}var Tn=r.mb(i,[m],function(e){return r.wb([r.xb(512,r.j,r.bb,[[8,[C,Qe,An]],[3,r.j],r.x]),r.xb(5120,r.u,r.kb,[[3,r.u]]),r.xb(4608,Ee.k,Ee.j,[r.u,[2,Ee.q]]),r.xb(5120,r.c,r.hb,[]),r.xb(5120,r.s,r.ib,[]),r.xb(5120,r.t,r.jb,[]),r.xb(4608,P.b,P.k,[Ee.c]),r.xb(6144,r.G,null,[P.b]),r.xb(4608,P.e,P.g,[]),r.xb(5120,P.c,function(e,t,n,r,i,o,s,a){return[new P.i(e,t,n),new P.n(r),new P.m(i,o,s,a)]},[Ee.c,r.z,r.B,Ee.c,Ee.c,P.e,r.cb,[2,P.f]]),r.xb(4608,P.d,P.d,[P.c,r.z]),r.xb(135680,P.l,P.l,[Ee.c]),r.xb(4608,P.j,P.j,[P.d,P.l,r.c]),r.xb(6144,r.E,null,[P.j]),r.xb(6144,P.o,null,[P.l]),r.xb(4608,r.M,r.M,[r.z]),r.xb(4608,_n.i,_n.o,[Ee.c,r.B,_n.m]),r.xb(4608,_n.p,_n.p,[_n.i,_n.n]),r.xb(5120,_n.a,function(e){return[e]},[_n.p]),r.xb(4608,_n.l,_n.l,[]),r.xb(6144,_n.j,null,[_n.l]),r.xb(4608,_n.h,_n.h,[_n.j]),r.xb(6144,_n.b,null,[_n.h]),r.xb(4608,_n.f,_n.k,[_n.b,r.q]),r.xb(4608,_n.c,_n.c,[_n.f]),r.xb(4608,q,q,[]),r.xb(5120,v.a,v.x,[v.k]),r.xb(4608,v.d,v.d,[]),r.xb(6144,v.f,null,[v.d]),r.xb(135680,v.n,v.n,[v.k,r.w,r.i,r.q,v.f]),r.xb(4608,v.e,v.e,[]),r.xb(5120,v.B,v.t,[v.k,Ee.n,v.g]),r.xb(5120,v.h,v.A,[v.y]),r.xb(5120,r.b,function(e){return[e]},[v.h]),r.xb(1073742336,Ee.b,Ee.b,[]),r.xb(1024,r.l,P.p,[]),r.xb(1024,r.y,function(){return[v.s()]},[]),r.xb(512,v.y,v.y,[r.q]),r.xb(1024,r.d,function(e,t){return[P.q(e),v.z(t)]},[[2,r.y],v.y]),r.xb(512,r.e,r.e,[[2,r.d]]),r.xb(131584,r.g,r.g,[r.z,r.cb,r.q,r.l,r.j,r.e]),r.xb(1073742336,r.f,r.f,[r.g]),r.xb(1073742336,P.a,P.a,[[3,P.a]]),r.xb(1073742336,_n.e,_n.e,[]),r.xb(1073742336,_n.d,_n.d,[]),r.xb(1073742336,Me,Me,[]),r.xb(1073742336,Oe,Oe,[]),r.xb(1073742336,ot,ot,[]),r.xb(1024,v.r,v.v,[[3,v.k]]),r.xb(512,v.p,v.c,[]),r.xb(512,v.b,v.b,[]),r.xb(256,v.g,{},[]),r.xb(1024,Ee.g,v.u,[Ee.m,[2,Ee.a],v.g]),r.xb(512,Ee.f,Ee.f,[Ee.g]),r.xb(512,r.i,r.i,[]),r.xb(512,r.w,r.J,[r.i,[2,r.K]]),r.xb(1024,v.i,function(){return[[{path:"",redirectTo:"",pathMatch:"full"},{path:":projectAddress",component:je.a}]]},[]),r.xb(1024,v.k,v.w,[r.g,v.p,v.b,Ee.f,r.q,r.w,r.i,v.i,v.g,[2,v.o],[2,v.j]]),r.xb(1073742336,v.l,v.l,[[2,v.r],[2,v.k]]),r.xb(1073742336,Sn,Sn,[]),r.xb(1073742336,gt,gt,[]),r.xb(1073742336,i,i,[]),r.xb(256,r.ab,!0,[]),r.xb(256,_n.m,"XSRF-TOKEN",[]),r.xb(256,_n.n,"X-XSRF-TOKEN",[]),r.xb(256,pt,{baseUrl:"assets",defaultOptions:{scrollBeyondLastLine:!1},onMonacoLoad:Dn},[])])});Object(r.T)(),P.h().bootstrapModuleFactory(Tn).catch(function(e){return console.error(e)})},zZpG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("MOv1");!function(e){e.method="textDocument/documentColor",e.type=new r.RequestType(e.method),e.resultType=new r.ProgressType}(t.DocumentColorRequest||(t.DocumentColorRequest={})),(t.ColorPresentationRequest||(t.ColorPresentationRequest={})).type=new r.RequestType("textDocument/colorPresentation")},zjP6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("uoVZ"),i=n("BOov"),o=n("V7FC");function s(e,t){return void 0===e[t]&&(e[t]={}),e[t]}t.DeclarationFeature=class extends o.TextDocumentFeature{constructor(e){super(e,i.DeclarationRequest.type)}fillClientCapabilities(e){let t=s(s(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.declarationProvider);n&&r&&this.register(this.messages,{id:n,registerOptions:r})}registerLanguageProvider(e){let t=this._client,n=(e,n,r)=>t.sendRequest(i.DeclarationRequest.type,t.code2ProtocolConverter.asTextDocumentPositionParams(e,n),r).then(t.protocol2CodeConverter.asDeclarationResult,e=>(t.logFailedRequest(i.DeclarationRequest.type,e),Promise.resolve(null))),o=t.clientOptions.middleware;return r.languages.registerDeclarationProvider(e.documentSelector,{provideDeclaration:(e,t,r)=>o.provideDeclaration?o.provideDeclaration(e,t,r,n):n(e,t,r)})}}},zotm:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(e,t,n,o,s){if(void 0===s&&(s=new r.a(e,n,o)),!s.closed)return Object(i.a)(t)(s)}},"zxs+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n("Gz0x");t.MonacoWorkspace=class{constructor(e,t,n=null){this.p2m=e,this.m2p=t,this._rootUri=n,this.documents=new Map,this.onDidOpenTextDocumentEmitter=new r.Emitter,this.onDidCloseTextDocumentEmitter=new r.Emitter,this.onDidChangeTextDocumentEmitter=new r.Emitter;for(const r of monaco.editor.getModels())this.addModel(r);monaco.editor.onDidCreateModel(e=>this.addModel(e)),monaco.editor.onWillDisposeModel(e=>this.removeModel(e))}get rootUri(){return this._rootUri}removeModel(e){const t=e.uri.toString(),n=this.documents.get(t);n&&(this.documents.delete(t),this.onDidCloseTextDocumentEmitter.fire(n))}addModel(e){const t=e.uri.toString(),n=this.setModel(t,e);this.onDidOpenTextDocumentEmitter.fire(n),e.onDidChangeContent(n=>this.onDidChangeContent(t,e,n))}onDidChangeContent(e,t,n){const r=this.setModel(e,t),i=[];for(const o of n.changes){const e=this.m2p.asRange(o.range);i.push({range:e,rangeLength:o.rangeLength,text:o.text})}this.onDidChangeTextDocumentEmitter.fire({textDocument:r,contentChanges:i})}setModel(e,t){const n=r.TextDocument.create(e,t.getModeId(),t.getVersionId(),t.getValue());return this.documents.set(e,n),n}get textDocuments(){return Array.from(this.documents.values())}get onDidOpenTextDocument(){return this.onDidOpenTextDocumentEmitter.event}get onDidCloseTextDocument(){return this.onDidCloseTextDocumentEmitter.event}get onDidChangeTextDocument(){return this.onDidChangeTextDocumentEmitter.event}applyEdit(e){const t=this.p2m.asWorkspaceEdit(e),n=t.edits?t.edits.reduce((e,t)=>{const n=t;return e[n.resource.toString()]=monaco.editor.getModel(n.resource),e},{}):{};if(!Object.keys(n).map(e=>n[e]).every(e=>!!e))return Promise.resolve(!1);const r=t.edits?t.edits.reduce((e,t)=>{const n=t,r=n.resource.toString();r in e||(e[r]=[]);const i=n.edits.map(e=>({range:monaco.Range.lift(e.range),text:e.text}));return e[r].push(...i),e},{}):{};return Object.keys(r).forEach(e=>{n[e].pushEditOperations([],r[e].map(e=>({identifier:{major:1,minor:0},range:e.range,text:e.text,forceMoveMarkers:!0})),()=>[])}),Promise.resolve(!0)}}}},[[0,0]]]);